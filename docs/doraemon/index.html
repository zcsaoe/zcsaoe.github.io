<!doctype html><html class=position-relative itemscope itemtype=https://schema.org/WebPage lang=zh-hans data-bs-theme=auto><head><script src=/assets/init/bundle.min.397129316ebf5d0138f2a6eb945afea462097722c2aadea2126a46958286b68a.js integrity="sha256-OXEpMW6/XQE48qbrlFr+pGIJdyLCqt6iEmpGlYKGtoo=" crossorigin=anonymous></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>懒人技术手册 -</title><link rel=icon href=/favicon_hu_34f9c9faf91b627e.webp sizes=16x16 type=image/webp><link rel=icon href=/favicon_hu_39d7e2e00a977bd3.webp sizes=32x32 type=image/webp><link rel=icon href=/favicon_hu_3b58e88b4b286a78.webp sizes=150x150 type=image/webp><link rel=apple-touch-icon href=/favicon_hu_3598ad0641f7f3c3.webp sizes=180x180 type=image/webp><link rel=icon href=/favicon_hu_144910b52c989e57.webp sizes=192x192 type=image/webp><link rel=mask-icon href=/safari-pinned-tab.svg color=#6f42c1><meta name=keywords content="Hugo,Bootstrap,博客主题"><meta name=description content="
作为一个合格的懒人，致力于收集奇技淫巧，不再浪费时间于无聊的搜索
"><meta name=robots content="index, follow"><meta name=twitter:card content="summary"><meta name=twitter:title content="懒人技术手册"><meta name=twitter:description content="作为一个合格的懒人，致力于收集奇技淫巧，不再浪费时间于无聊的搜索"><meta property="og:url" content="https://6668688.xyz/docs/doraemon/"><meta property="og:title" content="懒人技术手册"><meta property="og:description" content="作为一个合格的懒人，致力于收集奇技淫巧，不再浪费时间于无聊的搜索"><meta property="og:locale" content="zh_hans"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-07-01T23:33:02+08:00"><meta property="article:modified_time" content="2025-07-19T11:32:50+08:00"><meta property="article:tag" content="工具箱"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Win"><meta itemprop=name content="懒人技术手册"><meta itemprop=description content="作为一个合格的懒人，致力于收集奇技淫巧，不再浪费时间于无聊的搜索"><meta itemprop=datePublished content="2025-07-01T23:33:02+08:00"><meta itemprop=dateModified content="2025-07-19T11:32:50+08:00"><meta itemprop=wordCount content="11650"><meta itemprop=keywords content="工具箱,Linux,Win"><meta property="og:image" content="https://6668688.xyz/images/Mascot.webp"><meta name=twitter:image content="https://6668688.xyz/images/Mascot.webp"><meta property="og:image:alt" content="懒人技术手册"><meta name=twitter:image:alt content="懒人技术手册"><link rel=manifest href=/manifest.json><script async src="https://www.googletagmanager.com/gtag/js?id=G-M4F16E8H84"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-M4F16E8H84")}</script><link data-precache rel=stylesheet href="/assets/main/bundle.min.ad0a847d77b45185526caf2af6f5a0e2a5f3bbc99eebf1f75faadd01353a4b41.css" integrity="sha256-rQqEfXe0UYVSbK8q9vWg4qXzu8me6/H3X6rdATU6S0E=" crossorigin=anonymous><link data-precache rel=stylesheet href=/assets/viewer/bundle.min.16d2c85c4cae39a98f8cb7a977e95e554b174f91a5484c32605637156f49ca6b.css integrity="sha256-FtLIXEyuOamPjLepd+leVUsXT5GlSEwyYFY3FW9Jyms=" crossorigin=anonymous></head><body><header class="mb-4 sticky-top"><nav class="top-app-bar shadow navbar navbar-expand-xxl"><div class=container><button class="navbar-toggler border-0" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDocsNav aria-expanded=false aria-label="Toggle docs navigation">
<i class="fas fa-bars"></i>
</button>
<a class="navbar-brand d-flex align-items-center flex-grow-1 flex-xxl-grow-0 justify-content-xxl-start justify-content-center ms-2 ms-xxl-0 mx-auto me-xxl-2" href=https://6668688.xyz/><picture><img class=logo alt=Logo src="https://6668688.xyz/images/Mascot.webp?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=400 height=400></picture></a><div class="offcanvas-xxl offcanvas-end flex-grow-1" data-bs-scroll=true tabindex=-1 id=navbarMenus aria-labelledby=navbarMenusLabel><div class="offcanvas-header px-4 pb-0"><div class="offcanvas-title h5" id=navbarMenusLabel></div><button type=button class="btn-close btn-close-white" data-bs-dismiss=offcanvas data-bs-target=#navbarMenus aria-label=Close></button></div><div class="offcanvas-body p-4 pt-0 p-xxl-0"><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center me-auto"><li class="nav-item col-6 col-xxl-auto"><a class="nav-link py-2 px-0 px-xxl-2" href=https://6668688.xyz/onlinetools/>Online Tools</a></li></ul><hr class=d-xxl-none><form class="search-bar ms-auto my-auto" action=/search/ novalidate><div class="input-group align-items-center"><span class="btn btn-search disabled position-absolute left-0 border-0 px-1"><i class="fas fa-fw fa-search fa-lg"></i>
</span><input class="my-1 form-control border-white rounded-5 search-input bg-body" name=q type=search placeholder=搜索 aria-label=Search required>
<span class="search-shortcut position-absolute end-0 top-0 me-2"><kbd class="text-dark bg-white opacity-75 rounded-3 shadow border border-primary py-1 fw-bold">/</kbd></span></div></form><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center ms-md-auto"><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><nav class="social-links nav justify-content-center flex-row"><a class="nav-link social-link col-6 col-xxl-auto p-1" target=_blank href=https://github.com/zcsaoe title=GitHub rel=me><i class="fa-fw fab fa-github"></i>
<span class="ms-1 d-xxl-none">Github</span></a></nav></li><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown py-1 py-xxl-1 col-6 col-xxl-auto"><a class="nav-link px-0 px-xxl-1" href=# id=languageDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-globe"></i>
<span class=d-xxl-none>语言</span></a><ul class="language-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=languageDropdown><li><a class=dropdown-item href=/en/>English</a></li><li><a class="dropdown-item active" href=/>简体中文</a></li></ul></li><li class="nav-item py-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=fontSizeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-font"></i>
<span class=d-xxl-none>字体大小</span></a><ul class="font-size-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=fontSizeDropdown><li><button class="font-size-item dropdown-item" data-size=xs>
特小号</button></li><li><button class="font-size-item dropdown-item" data-size=sm>
小号</button></li><li><button class="font-size-item dropdown-item active" data-size=md>
中等</button></li><li><button class="font-size-item dropdown-item" data-size=lg>
大号</button></li><li><button class="font-size-item dropdown-item" data-size=xl>
特大号</button></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=paletteDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-palette"></i>
<span class=d-xxl-none>配色</span></a><ul class="palette-dropdown-menu dropdown-menu dropdown-menu-end px-2 row g-2" aria-labelledby=paletteDropdown><li class="col-4 my-1"><a role=button id=palette-blue aria-label=蓝色 class="btn btn-sm w-100 palette text-bg-blue" data-palette=blue></a></li><li class="col-4 my-1"><a role=button id=palette-blue-gray aria-label=蓝灰色 class="btn btn-sm w-100 palette text-bg-blue-gray" data-palette=blue-gray></a></li><li class="col-4 my-1"><a role=button id=palette-brown aria-label=棕色 class="btn btn-sm w-100 palette text-bg-brown" data-palette=brown></a></li><li class="col-4 my-1"><a role=button id=palette-cyan aria-label=青色 class="btn btn-sm w-100 palette text-bg-cyan" data-palette=cyan></a></li><li class="col-4 my-1"><a role=button id=palette-green aria-label=绿色 class="btn btn-sm w-100 palette text-bg-green" data-palette=green></a></li><li class="col-4 my-1"><a role=button id=palette-indigo aria-label=靛青色 class="btn btn-sm w-100 palette text-bg-indigo" data-palette=indigo></a></li><li class="col-4 my-1"><a role=button id=palette-orange aria-label=橙色 class="btn btn-sm w-100 palette text-bg-orange" data-palette=orange></a></li><li class="col-4 my-1"><a role=button id=palette-pink aria-label=粉色 class="btn btn-sm w-100 palette text-bg-pink" data-palette=pink></a></li><li class="col-4 my-1"><a role=button id=palette-purple aria-label=紫色 class="btn btn-sm w-100 palette text-bg-purple" data-palette=purple></a></li><li class="col-4 my-1"><a role=button id=palette-red aria-label=红色 class="btn btn-sm w-100 palette text-bg-red" data-palette=red></a></li><li class="col-4 my-1"><a role=button id=palette-teal aria-label=蓝绿色 class="btn btn-sm w-100 palette text-bg-teal" data-palette=teal></a></li><li class="col-4 my-1"><a role=button id=palette-yellow aria-label=黄色 class="btn btn-sm w-100 palette text-bg-yellow" data-palette=yellow></a></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=modeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="mode-icon fas fa-fw fa-adjust" id=modeIcon></i>
<span class=d-xxl-none>模式</span></a><ul class="mode-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=modeDropdown><li class=mode-item data-color-mode=light data-icon=sun><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-sun"></i> 浅色</button></li><li class=mode-item data-color-mode=dark data-icon=moon><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-moon"></i> 深色</button></li><li class="mode-item active" data-color-mode=auto data-icon=adjust><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-adjust"></i> 自动</button></li></ul></li></ul></div></div><div class=d-flex><button class="navbar-toggler order-5 border-0" type=button data-bs-toggle=offcanvas data-bs-target=#navbarMenus aria-controls=navbarMenus aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-h"></i></button></div></div></nav></header><main class="container has-sidebar" data-kind=page><script data-precache src=/js/main-init.fd48d66afb2d9a122b72b40b25ebae1b1338abcace96dbd4220b429bd5f5541d.js integrity="sha256-/UjWavstmhIrcrQLJeuuGxM4q8rOltvUIgtCm9X1VB0=" crossorigin=anonymous></script><div class="row content"><noscript><div class="alert alert-danger" role=alert>你的浏览器不支持 JavaScript。</div></noscript><aside class="docs-nav col-xxl-2" tabindex=-1 data-bs-hide=focusout><div class="offcanvas-xxl offcanvas-start" id=offcanvasDocsNav aria-labelledby=offcanvasDocsNavLabel><div class="offcanvas-header border-bottom"><div class="offcanvas-title h5" id=offcanvasDocsNavLabel>浏览文档</div><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close data-bs-target=#offcanvasDocsNav></button></div><div class="offcanvas-body pt-2 flex-column"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/autosar/autosar/><span class=docs-nav-title>Autosar</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/><span class=docs-nav-title>cpu</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-43cee4cb2ebee90cdb2b8ca8044577bf aria-expanded=false aria-controls=nav-43cee4cb2ebee90cdb2b8ca8044577bf><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-43cee4cb2ebee90cdb2b8ca8044577bf><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/><span class=docs-nav-title>arm</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-7a03c27cee416496e05a62ea9433788b aria-expanded=false aria-controls=nav-7a03c27cee416496e05a62ea9433788b><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-7a03c27cee416496e05a62ea9433788b><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/armv7-qemu/><span class=docs-nav-title>Armv7 Qemu</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/cortex-r/cortex-r52/cortex-r52/><span class=docs-nav-title>Cortex-R52</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/imx6ull-freertos/><span class=docs-nav-title>Imx6ull FreeRTOS</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/j6m/><span class=docs-nav-title>J6M</span></a></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/trace32/><span class=docs-nav-title>TRACE32使用教程</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/><span class=docs-nav-title>tricore</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-1f3d9527be3ac31576d7acaa74855ffa aria-expanded=false aria-controls=nav-1f3d9527be3ac31576d7acaa74855ffa><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-1f3d9527be3ac31576d7acaa74855ffa><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/tc397/><span class=docs-nav-title>Tc397</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/tc397_interrupt/><span class=docs-nav-title>Tc397中断子系统</span></a></li></ul></div></div></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/dds/><span class=docs-nav-title>DDS</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/hello/><span class=docs-nav-title>Hello</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/markdown/markdown/><span class=docs-nav-title>Markdown</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/><span class=docs-nav-title>misc</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-887556bd011b7e588d0294d8266ab478 aria-expanded=false aria-controls=nav-887556bd011b7e588d0294d8266ab478><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-887556bd011b7e588d0294d8266ab478><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/investment/funds/><span class=docs-nav-title>货币基金</span></a></li></ul></div></div></li><li class="mb-2 py-1 text-primary" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/doraemon/><span class=docs-nav-title>懒人技术手册</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/linux/shell/terminalshortcutkeys/><span class=docs-nav-title>终端快捷键</span></a></li></ul></div></div></aside><div class="col ms-auto content-docs"><div class=container-fluid><nav class="row card component" aria-label=breadcrumb><div class="card-body pb-0"><ol class="hbs-breadcrumb breadcrumb flex-nowrap"><li class="breadcrumb-item text-surface"><a href=/>主页</a></li><li class="breadcrumb-item text-surface"><a href=/docs/>docs</a></li><li class="breadcrumb-item active">懒人技术手册</li></ol></div></nav><div class="post-panel-wrapper position-relative d-flex justify-content-center"><div class="d-flex flex-row justify-content-center rounded-5 border post-panel position-fixed px-3 py-1 surface shadow-1"><a class="action action-toc d-block d-xxl-none" href=#post-toc-container role=button title=目录><i class="fas fa-fw fa-list-alt"></i>
</a><a class="action action-copyright" href=#post-copyright role=button aria-label=Copyright title=版权><i class="fas fa-fw fa-copyright"></i>
</a><a class="action action-post-comments" href=#post-comments role=button aria-label=Comments title=评论><i class="fas fa-fw fa-comments"></i>
</a><a id=sidebarToggler class="action action-sidebar-toggler d-none d-xxl-block" role=button title=切换侧边栏><i class="fas fa-fw fa-expand-alt" data-fa-transform=rotate-45></i></a></div></div><article class="row card component mb-4 post"><div class=card-header><h1 class="card-title post-title my-2">懒人技术手册</h1></div><div class=card-body><div class="post-meta mb-3"><span class="post-date me-1 mb-1" title="创建于 2025-07-01 15:33:02 +0000 UTC，更新于 2025-07-19 03:32:50 +0000 UTC。">2025年7月1日</span><span class="post-reading-time me-1 mb-1">24 分钟阅读</span>
<span class="post-lastmod me-1 mb-1 text-muted">更新于 2025年7月19日
</span><a href=/tags/linux/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Linux</a><a href=/tags/win/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Win</a><a href=/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">工具箱</a></div><div class="mt-2 mb-3 d-block d-xxl-none"><h2 class="text-surface mb-3">目录</h2><div id=post-toc-container></div><hr class=text-secondary></div><div class="post-content mb-3" data-bs-spy=scroll data-bs-target=#TableOfContents tabindex=0><div id=post-content-body><blockquote><p>作为一个合格的懒人，致力于收集奇技淫巧，不再浪费时间于无聊的搜索</p></blockquote><hr><h2 id=shell data-numberify>shell<a class="anchor ms-1" href=#shell></a></h2><pre><code class=language-sh># 查找某个文件夹的前三级文件夹
# 如果查找前三级的文件 可以使用把 d --> f
find /path -mindepth 1 -maxdepth 3 -type d
tree -L 3 -d /path/

scp -rp -P 22 test@xxxxx:/file .
# 错误直接退出
set -o errexit

seq -f "HELLO:%g," 1 16 # HELLO1-HELLO16</code></pre><h3 id=代理 data-numberify>代理<a class="anchor ms-1" href=#代理></a></h3><pre><code class=language-shell># 服务器映射到本地端口
ssh -i test.key -D localport -p 22 user@1.1.1.1

export http_proxy=socks5://127.0.0.1:1080
export https_proxy=socks5://127.0.0.1:1080
curl --proxy socks5://127.0.0.1:1080 www.google.com</code></pre><h3 id=文本处理 data-numberify>文本处理<a class="anchor ms-1" href=#文本处理></a></h3><blockquote><p><code>find</code>/<code>sed</code>/<code>xargs</code> 查找批量替换等</p></blockquote><pre><code class=language-shell># 文件头尾部空格
  find ./  -name "*.[ch]" -exec sed -i '/./,$!d' {} +
  find ./  -name "*.[ch]" -exec sed -i -e :a -e '/^\n*$/{$d;N;ba' -e '}' -e '$a\' {} \;
# 文件编码改为utf8
  find ./ -name "*.[ch]" -exec sh -c 'file "$0" | grep 8859 && iconv -f gbk -t utf-8 "$0" | sponge "$0"' {} \;
# tab转空格
  find ./ -name "*.[ch]" ! -type d -exec bash -c 'expand -t 4 "$0"  | sponge "$0"' {} \;
# 回车格式转换为LF
  find ./ -name "*.[ch]" -exec dos2unix {} \; # 单个
  find ./ -name "*.[ch]" -exec dos2unix {} + # 批量
  find ./ -name "*.[ch]" -print0 | xargs -0 dos2unix # 批量
# 同时多个类型
  find . \( -name "*.[csh]" -o -name "*.txt" -o -name "*.ld" \) -exec dos2unix {} +</code></pre><h3 id=sed data-numberify>sed<a class="anchor ms-1" href=#sed></a></h3><pre><code class=language-sh># 某行插入文本
sed -i '8a  This is a test' regular_express.txt

# 字符替换
str="hello world"
echo\${str//o/P}
echo\${str/o/P}
# 区别是str后面两个//可以全局替换
filestr=\$(echo ${filestr}| sed 's/^/-add_set_file=/g' )
filestr=\$(sed 's/^/-add_set_file=/g' <<<${filestr})</code></pre><h3 id=echo颜色 data-numberify>echo颜色<a class="anchor ms-1" href=#echo颜色></a></h3><pre><code class=language-sh># 字体颜色
Black='\033[0;30m'        # 黑色
Red='\033[0;31m'          # 红色
Green='\033[0;32m'        # 绿色
Yellow='\033[0;33m'       # 黄色
Blue='\033[0;34m'         # 蓝色
Purple='\033[0;35m'       # 紫色
Cyan='\033[0;36m'         # 青色
White='\033[0;37m'        # 白色

# 背景颜色
On_Black='\033[40m'       # 黑色背景
On_Red='\033[41m'         # 红色背景
On_Green='\033[42m'       # 绿色背景
On_Yellow='\033[43m'      # 黄色背景
On_Blue='\033[44m'        # 蓝色背景
On_Purple='\033[45m'      # 紫色背景
On_Cyan='\033[46m'        # 青色背景
On_White='\033[47m'       # 白色背景

# 特效
NC='\033[0m'              # 无颜色，清除颜色设置
Bold='\033[1m'            # 粗体
Underline='\033[4m'       # 下划线
Blink='\033[5m'           # 闪烁
Inverted='\033[7m'        # 反白显示

echo -e "$REDS********$ENDS"</code></pre><h3 id=自动补全 data-numberify>自动补全<a class="anchor ms-1" href=#自动补全></a></h3><ol><li>alias hi=&rsquo;$HOME/xxx/hi.sh'</li><li>source hi_complete</li><li>在hi.sh中添加参数处理逻辑即可</li></ol><pre><code class=language-shell>complete -F _hi_complete hi

_hi_complete()
{  
    local cur prev opts  
    COMPREPLY=()  
    cur="${COMP_WORDS[COMP_CWORD]}"  
    prev="${COMP_WORDS[COMP_CWORD-1]}"
    local prev2="${COMP_WORDS[COMP_CWORD-2]}"  

     case ${prev,,} in
        "hi")
            opts="build docker"
            COMPREPLY=( $(compgen -W '${opts[@]}' -- $cur) )
            ;;
        "docker")
            local docker_opts=(on off ps in)
            COMPREPLY=( $(compgen -W '${docker_opts[@]}' -- $cur) )
            ;;
        *)
            _filedir
            ;;
    esac

    # echo 'cur='$cur,'prev'=$prev,'prev2'=$prev2>>~/11.txt
}</code></pre><h3 id=添加用户用户组 data-numberify>添加用户/用户组<a class="anchor ms-1" href=#添加用户用户组></a></h3><pre><code class=language-sh># 进入docker以后，新建一个和主机上相同的用户，用户组
sudo useradd bob
sudo groupadd autosar
sudo usermod -g autosar bob
	# usermod -aG autosar bob 新增用户组； -g 直接修改
sudo mkdir /home/bob
sudo chown bob:autosar /home/bob/

# 把docker中的id修改为主机上相同的id
cat /etc/passwd  | grep bob
# 记录用户id 用户组id bob:x:1006:1001:bob:/home/bob:/bin/sh
sudo usermod -u 1006 bob
sudo groupmod -g 1001 autosar

# 后续共享目录放到自己的用户目录中</code></pre><h3 id=挂载网络目录 data-numberify>挂载网络目录<a class="anchor ms-1" href=#挂载网络目录></a></h3><pre><code class=language-sh>sshfs cn@172.22.22.230:/mnt/hgfs/test/ test/
# 卸载
fusermount -u /path/to/local/mountpoint</code></pre><h3 id=wget data-numberify>wget<a class="anchor ms-1" href=#wget></a></h3><pre><code class=language-sh>wget -r -np -nH --cut-dirs=3 -R "index.html*" "http://xxxxx/yy/zzz/dir/"


命令参数的解释：

-r 或 --recursive：递归下载。
-np 或 --no-parent：不下载父目录，避免爬升到父目录中去。
-nH 或 --no-host-directories：禁止创建包含服务器名的目录。
--cut-dirs=3：跳过远程服务器上的前3个目录层级。在这个例子中，yy/zzz/dir/ 被忽略。调整这个数字根据实际的URL路径。
-R "index.html*"：拒绝下载所有以index.html开头的文件（这通常是服务器生成的目录索引页面）。
最后是您要下载的URL。
该命令会在当前目录下创建一个包含所有下载文件和目录的结构，忽略上述提到的目录层级。</code></pre><h3 id=gerrit data-numberify>gerrit<a class="anchor ms-1" href=#gerrit></a></h3><p>查询当前patch</p><pre><code class=language-shell>#!/bin/sh

# Automatically trigger jenkins compilation
# */20 10-21 * * * /home/xxx/test.sh

# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ DO NOT EDIT ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
# exclude_times=("12:00" "18:00" "21:00")
# [[ " ${exclude_times[*]} " =~ " $(date '+%H:%M') " ]]  && exit 0

cd /home/xxx

current_timestamp=$(date +%s)
logfile='/home/xxx/test.log'
sed -i "1i$(date +"%Y.%m.%d %H:%M:%S")" $logfile

ssh -p 22 test@gerrit3.xxx.com gerrit query is:open project:code/test/branch/xxx --patch-sets --format json \
| jq -r 'select(.branch == "codebase_rtos_dev") | [.owner.email, (.patchSets | max_by(.number).createdOn), (.patchSets | max_by(.number).ref)] | @tsv'  | while IFS=$'\t' read -r -a array; do
    userName=$(echo "${array[0]}" | cut -d "@" -f 1)

    # echo "${array[0]} ${array[1]} ${array[2]}" # email, time, ref
    # if [[ $userName != "test" && $userName != "abc" ]]; then
    #     continue
    # fi
    sed -i "2i\    $(printf "%-16s" "$userName")    ${array[2]}  $(date -d@${array[1]} +"%m/%d %H:%M:%S")  $(date -d@${current_timestamp} +"%m/%d %H:%M:%S")" $logfile

    time_diff=$((current_timestamp - array[1]))
    if ((time_diff < 20*60)); then # delay require time
        patchUrl='git pull "ssh://'$userName'@gerrit3.xxx.com:22/code/test/branch/xxx" '${array[2]}
        patchParam='imagepath='$(echo $patchUrl | sed 's/ /%20/g' | sed 's/"/%22/g')'&build_all=yes&autotest=yes'
        projectNames=('test_build_1')
        for projectName in "${projectNames[@]}"
        do
            curlParam='rtosuser:rtos@user123 xxx:443/job/test_build_1/job/'$projectName'/buildWithParameters?token=123456&'$patchParam
            curl -u $curlParam
            sed -i "3i\        curl -u $curlParam" $logfile
        done
    fi
done</code></pre><p>查询正在运行jenkins任务，并取消排队的重复任务</p><pre><code class=language-python>import subprocess
import requests
import re
from requests.utils import dict_from_cookiejar

logfile = "/home/xxx/test.log"
subprocess.run(f'sed -i "2i\    _cancelItem_:" {logfile}' , shell=True)

jenkins_url = "http://xxx:443/"
username = "test"
password = "xxx123"

response = requests.get(f'{jenkins_url}queue/api/json', auth=(username, password))
data = response.json()
# get block job list
g_patchUrlList = []
for item in data['items']:
    if item['task']['name'] == 'test_build_1':
        item_id = item["id"]
        causes_action = next((action for action in item['actions'] if action['_class'] == 'hudson.model.CauseAction'), None)
        startType = causes_action['causes'][0]['_class'] if causes_action else None
        if item["blocked"] and not item["buildable"]:
            if startType == 'hudson.model.Cause$RemoteCause' or 1:
                parameters = next((action['parameters'] for action in item['actions'] if action['_class'] == 'hudson.model.ParametersAction'), [])
                patchUrl = next((param['value'] for param in parameters if param['name'] == 'imagepath')).split()[-1]
                g_patchUrlList.append([item_id, patchUrl])

g_patchSet = set(re.search(r"(.*)/\d+$", y).group(1) for x, y in g_patchUrlList)
# cancel multi job
if len(g_patchSet) > 0:
    response = requests.get(f"{jenkins_url}crumbIssuer/api/xml?xpath=concat(//crumbRequestField,\":\",//crumb)", auth=(username, password))
    crumb = response.text.split(":")
    cookies = dict_from_cookiejar(response.cookies)
    headers = {
        "Jenkins-Crumb": crumb[1],
        "Cookie": "; ".join([f"{name}={value}" for name, value in cookies.items()])
    }
for patch in g_patchSet:
    tmpList = [x for x, y in g_patchUrlList if patch in y ]
    tmpList.remove(max(tmpList))
    for id in tmpList:
        cancelUrl = f"{jenkins_url}queue/cancelItem?id={id}"
        response = requests.post(cancelUrl, auth=(username, password), headers=headers)

        subprocess.run(f'sed -i "3i\        {next(y for x, y in g_patchUrlList if x == id)}    {response.status_code} {response.reason}" {logfile}' , shell=True)</code></pre><h3 id=gerrit-与-jenkins-集成互通 data-numberify>gerrit 与 jenkins 集成互通<a class="anchor ms-1" href=#gerrit-与-jenkins-集成互通></a></h3><p><strong>Gerit</strong>:</p><ol><li>管理员登录gerrit, http:/xxxxx/admin/repos/All-Projects,access</li><li>Global Capabilities->Stream Events 添加用户 jenkins</li></ol><ul><li>Reference: refs/heads/*<ul><li>Label Code-Review: -1, +1 jenkins</li><li>Label Verified: -1, +1 jenkins</li></ul></li></ul><p><strong>Jenkins</strong>:
安装插件：
<picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/1a95b808164741f69b7f7d4c476dbdd6.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=772 height=321></picture></p><p>Gerrit Trigger
新建gerrit trigger 服务
<picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/f207271a18d14d57a49e8be9f14afff9.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=985 height=546></picture></p><p>添加jenkins节点：https://www.cnblogs.com/sky-cheng/p/14931503.html</p><h3 id=tab-忽略大小写 data-numberify>tab 忽略大小写<a class="anchor ms-1" href=#tab-忽略大小写></a></h3><p>vim ~/.inputrc</p><pre><code class=language-sh># do not show hidden files in the list 
set match-hidden-files off
   
# auto complete ignoring case 
set show-all-if-ambiguous on 
set completion-ignore-case on
# 保存重启终端</code></pre><h3 id=minicom data-numberify>minicom<a class="anchor ms-1" href=#minicom></a></h3><p>win下minicom，ctrl a + q 要快
不能回车输入的话，minicom -s 把流控关闭</p><pre><code class=language-sh>#!/bin/sh

ls /dev/ttyS*

if [ -z "$1" ]; then
  read -p "please input a num:" num
else
  num=$1
fi

minicom -b  115200 -D /dev/ttyS$num</code></pre><p>ssh win之后使用 minicom，1.mobaxterm能用，<del>2.通过gitbash套用</del>，然后改一下.bashrc配置</p><pre><code class=language-bat>"c:\Program Files\git\bin\bash.exe" -c "/c/Users/xxx/AppData/Roaming/Mobaxterm/slash/bin/bash.exe -i"

c:\Users\xxx\AppData\Roaming\MobaXterm\slash\bin\bash.exe -i</code></pre><h2 id=bat data-numberify>bat<a class="anchor ms-1" href=#bat></a></h2><pre><code class=language-bat>:: 短路径， 如 PROGRA~1     Program Files
dir /x C:\

:: 进入脚本所在目前
cd /d "%~dp0"
:: 当前命令提示符的目录
cd %cd%
:: 日期时间
echo %date% %time%

:: 延时启动
timeout /T 10 /NOBREAK
start cmd /C x.bat

:: 删除文件夹
rmdir /s /q build
del filename

:: 
mklink /D  link  target

:: powershell 端口检测
test-netconnection domain.com -p port</code></pre><h3 id=设置ip地址 data-numberify>设置ip地址<a class="anchor ms-1" href=#设置ip地址></a></h3><pre><code class=language-bat>netsh interface ip set address name="以太网 2" static 192.168.1.10 255.255.255.0
netsh interface ip set address name="以太网 2" dhcp</code></pre><h3 id=bat-计算时分秒 data-numberify>bat 计算时分秒<a class="anchor ms-1" href=#bat-计算时分秒></a></h3><pre><code class=language-c>set /a n=0
for /f "tokens=1-8 delims=.: " %%a in ("%etime%:%stime%") do (
set /a n+=10%%a%%100*360000+10%%b%%100*6000+10%%c%%100*100+10%%d%%100
set /a n-=10%%e%%100*360000+10%%f%%100*6000+10%%g%%100*100+10%%h%%100)
set /a s=n/360000,n=n%%360000,f=n/6000,n=n%%6000,m=n/100,n=n%%100

echo time:%s%:%f%:%m%</code></pre><h3 id=计划任务杀掉任务停止服务 data-numberify>计划任务/杀掉任务/停止服务<a class="anchor ms-1" href=#计划任务杀掉任务停止服务></a></h3><pre><code class=language-c>@echo off

setlocal enabledelayedexpansion

%1 mshta vbscript:createobject("shell.application").shellexecute("""%~0""","::",,"runas",1)(window.close)&&exit /b
CD /D "%~dp0"
::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::

echo %cd%

@REM schtasks /Delete /TN "xx1" /F

schtasks /Change /TN "xx1" /DISABLE

schtasks /query /TN "xx1"

taskkill /F /IM xx1.exe

:: 停止服务
net stop "xx"

pause

exit 0</code></pre><h3 id=win自动上报ip地址 data-numberify>win自动上报ip地址<a class="anchor ms-1" href=#win自动上报ip地址></a></h3><pre><code class=language-text>@echo off
setlocal enabledelayedexpansion

:: 初始化变量
set "ip_str=test_123  %DATE% %TIME%          ip: "

:: 使用 for /f 命令循环解析 ipconfig 输出，只取IPv4地址行的第二个字段（即IP地址）
for /f "tokens=2 delims=:" %%a in ('ipconfig ^| findstr /i "IPv4"') do (
    set "ip=%%a"
    :: 删除前导和尾随空格
    set "ip=!ip:~1!"
    :: 将找到的IP地址添加到ip_str，以空格分隔
    if defined ip_str (
        set "ip_str=!ip_str! !ip!"
    ) else (
        set "ip_str=!ip!"
    )
)

:: 输出所有拼接的IPv4地址
echo !ip_str!

ssh -p 22 user@xxxx "echo !ip_str! > /home/test/ip.txt"</code></pre><h3 id=普通用户通过管理员提权 data-numberify>普通用户通过管理员提权<a class="anchor ms-1" href=#普通用户通过管理员提权></a></h3><pre><code class=language-bat>@echo off
:: 提权执行脚本，比如下面的脚本设置访问权限
runas /user:Administrator "cmd /c %CD%\test.bat"

:: 提权安装软件
:: runas /user:Administrator  "cmd /c %CD%\setup.exe /S"</code></pre><pre><code class=language-bat>@echo off
setlocal

:: 设置目标目录
set "folder_path=C:\a2c"

:: 创建目录
mkdir "%folder_path%"
if %errorlevel% neq 0 (
    echo 创建目录失败：%folder_path%
    exit /b %errorlevel%
)

:: 授予所有用户（Everyone）完全控制权限
icacls "%folder_path%" /grant "Everyone:(OI)(CI)F" /T
if %errorlevel% neq 0 (
    echo 设置权限失败：%folder_path%
    exit /b %errorlevel%
)

echo 目录创建成功并已授予所有用户完全控制权限：%folder_path%
pause</code></pre><h3 id=右键打开命令窗口 data-numberify>右键打开命令窗口<a class="anchor ms-1" href=#右键打开命令窗口></a></h3><pre><code class=language-bat>Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\Directory\shell\OpenCmdHere]
@="在此处打开命令窗口"
"Icon"="cmd.exe"

[HKEY_CLASSES_ROOT\Directory\shell\OpenCmdHere\command]
@="cmd.exe /s /k pushd \"%V\""

[HKEY_CLASSES_ROOT\Directory\Background\shell\OpenCmdHere]
@="在此处打开命令窗口"
"Icon"="cmd.exe"

[HKEY_CLASSES_ROOT\Directory\Background\shell\OpenCmdHere\command]
@="cmd.exe /s /k pushd \"%V\""

[HKEY_CLASSES_ROOT\Drive\shell\OpenCmdHere]
@="在此处打开命令窗口"
"Icon"="cmd.exe"

[HKEY_CLASSES_ROOT\Drive\shell\OpenCmdHere\command]
@="cmd.exe /s /k pushd \"%V\""

[HKEY_CLASSES_ROOT\LibraryFolder\background\shell\OpenCmdHere]
@="在此处打开命令窗口"
"Icon"="cmd.exe"

[HKEY_CLASSES_ROOT\LibraryFolder\background\shell\OpenCmdHere\command]
@="cmd.exe /s /k pushd \"%V\""


[HKEY_CLASSES_ROOT\Directory\Background\shell\runas]
@="以管理员身份运行CMD"
"Icon"="D:\\app\\ico\\t.ico"

[HKEY_CLASSES_ROOT\Directory\Background\shell\runas\command]
"ShowBasedOnVelocityId"=dword:00639bc8
@="cmd.exe /s /k pushd \"%V\""</code></pre><h3 id=防火墙阻止出入站 data-numberify>防火墙阻止出入站<a class="anchor ms-1" href=#防火墙阻止出入站></a></h3><pre><code class=language-bat>@echo off

:: setlocal ENABLEDELAYEDEXPANSION
:: mode con: cols=65 lines=25
:: color 0a
:: rem 批处理获取管理员权限
:: :-------------------------------------  
:: %1 mshta vbscript:createobject("shell.application").shellexecute("""%~0""","::",,"runas",1)(window.close)&&exit /b
:: CD /D "%~dp0"
:: :-------------------------------------  


:begin

rem 接收输入

set name=
set Fpath=
set /p name=Input software name:
set /p Fpath=software path (C:Program FilesWinRAR):

rem 输出得到的输入信息
echo Input software name: %name%
echo software path: %Fpath%


echo "Please cancel: Ctrl+C"
pause

setlocal enabledelayedexpansion
set /a n=0
for /r "%Fpath%" %%i in (*.exe) do (
    set /a n+=1
    echo "%name%_!n!","%%i" 
    netsh advfirewall firewall del rule name="a_user_%name%_!n!">nul 2>nul
    netsh advfirewall firewall add rule name="a_user_%name%_!n!" program="%%i" action=block dir=out>null
    netsh advfirewall firewall add rule name="a_user_%name%_!n!" program="%%i" action=block dir=in>null
    echo block %name%_!n! ok ~~~
)

rem pause>null

echo.

rem 从begin标签出，再次运行
goto begin


::如果要禁止入站规则，将 action=block dir=out>null，中的out改为in，其他照旧</code></pre><h2 id=正则表达式 data-numberify>正则表达式<a class="anchor ms-1" href=#正则表达式></a></h2><h3 id=正则表达式基本点 data-numberify>正则表达式基本点：<a class="anchor ms-1" href=#正则表达式基本点></a></h3><table><thead><tr><th>符号</th><th>用法</th></tr></thead><tbody><tr><td>\</td><td>将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。例如，&rsquo;n&rsquo; 匹配字符 &ldquo;n&rdquo;。&rsquo;\n&rsquo; 匹配一个换行符。序列 &lsquo;\\&rsquo; 匹配 &ldquo;\&rdquo; 而 &ldquo;\(&rdquo; 则匹配 &ldquo;("。</td></tr><tr><td>^</td><td>匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^ 也匹配 &lsquo;\n&rsquo; 或 &lsquo;\r&rsquo; 之后的位置。</td></tr><tr><td>$</td><td>匹配输入字符串的结束位置。如果设置了RegExp 对象的 Multiline 属性，$ 也匹配 &lsquo;\n&rsquo; 或 &lsquo;\r&rsquo; 之前的位置。</td></tr><tr><td>*</td><td>匹配前面的子表达式零次或多次。例如，zo* 能匹配 &ldquo;z&rdquo; 以及 &ldquo;zoo&rdquo;。* 等价于{0,}。</td></tr><tr><td>+</td><td>匹配前面的子表达式一次或多次。例如，&lsquo;zo+&rsquo; 能匹配 &ldquo;zo&rdquo; 以及 &ldquo;zoo&rdquo;，但不能匹配 &ldquo;z&rdquo;。+ 等价于 {1,}。</td></tr><tr><td>?</td><td>匹配前面的子表达式零次或一次。例如，&ldquo;do(es)?&rdquo; 可以匹配 &ldquo;do&rdquo; 或 &ldquo;does&rdquo; 。? 等价于 {0,1}。</td></tr><tr><td>{n}</td><td>n 是一个非负整数。匹配确定的 n 次。例如，&lsquo;o{2}&rsquo; 不能匹配 &ldquo;Bob&rdquo; 中的 &lsquo;o&rsquo;，但是能匹配 &ldquo;food&rdquo; 中的两个 o。</td></tr><tr><td>{n,}</td><td>n 是一个非负整数。至少匹配n 次。例如，&lsquo;o{2,}&rsquo; 不能匹配 &ldquo;Bob&rdquo; 中的 &lsquo;o&rsquo;，但能匹配 &ldquo;foooood&rdquo; 中的所有 o。&lsquo;o{1,}&rsquo; 等价于 &lsquo;o+&rsquo;。&lsquo;o{0,}&rsquo; 则等价于 &lsquo;o*&rsquo;。</td></tr><tr><td>{n,m}</td><td>m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，&ldquo;o{1,3}&rdquo; 将匹配 &ldquo;fooooood&rdquo; 中的前三个 o。&lsquo;o{0,1}&rsquo; 等价于 &lsquo;o?&rsquo;。请注意在逗号和两个数之间不能有空格。</td></tr><tr><td>?</td><td>当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 &ldquo;oooo&rdquo;，&lsquo;o+?&rsquo; 将匹配单个 &ldquo;o&rdquo;，而 &lsquo;o+&rsquo; 将匹配所有 &lsquo;o&rsquo;。</td></tr><tr><td>.</td><td>匹配除换行符（\n、\r）之外的任何单个字符。要匹配包括 &lsquo;\n&rsquo; 在内的任何字符，请使用像&rdquo;<strong>(.|\n)</strong>&ldquo;的模式。</td></tr><tr><td>\s</td><td>匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [\f\n\r\t\v]。</td></tr><tr><td>\S</td><td>匹配任何非空白字符。等价于 [^\f\n\r\t\v]。</td></tr><tr><td>\w</td><td>匹配字母、数字、下划线。等价于&rsquo;[A-Za-z0-9_]&rsquo;。</td></tr><tr><td>(pattern)</td><td>匹配 pattern 并获取这一匹配。所获取的匹配可以从产生的 Matches 集合得到，在VBScript 中使用 SubMatches 集合，在JScript 中则使用 $0…$9 属性。要匹配圆括号字符，请使用 &lsquo;\(&rsquo; 或 &lsquo;\)&rsquo;。</td></tr><tr><td>x|y</td><td>匹配 x 或 y。例如，&lsquo;z|food&rsquo; 能匹配 &ldquo;z&rdquo; 或 &ldquo;food&rdquo;。&rsquo;(z|f)ood&rsquo; 则匹配 &ldquo;zood&rdquo; 或 &ldquo;food&rdquo;。</td></tr><tr><td>[xyz]</td><td>字符集合。匹配所包含的任意一个字符。例如， &lsquo;[abc]&rsquo; 可以匹配 &ldquo;plain&rdquo; 中的 &lsquo;a&rsquo;。</td></tr><tr><td>[^xyz]</td><td>负值字符集合。匹配未包含的任意字符。例如， &lsquo;[^abc]&rsquo; 可以匹配 &ldquo;plain&rdquo; 中的&rsquo;p&rsquo;、&rsquo;l&rsquo;、&lsquo;i&rsquo;、&rsquo;n&rsquo;。</td></tr><tr><td>\x20</td><td>匹配空格字符</td></tr><tr><td>[\u4e00-\u9fa5]</td><td>中文</td></tr><tr><td>(?!&mldr;)</td><td>负前瞻, 断言后面的位置不匹配括号内的内容</td></tr><tr><td>\b(?!cat)\w+</td><td>匹配不以 cat 开头的单词,\b：单词边界</td></tr></tbody></table><p>详细可参考：<a href=https://www.runoob.com/regexp/regexp-tutorial.html target=_blank rel="noopener noreferrer">正则表达式 – 教程 | 菜鸟教程<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h2 id=cmake data-numberify>Cmake<a class="anchor ms-1" href=#cmake></a></h2><h3 id=debug信息 data-numberify>debug信息<a class="anchor ms-1" href=#debug信息></a></h3><pre><code class=language-cmake>message(FATAL_ERROR  xxxxxx )
// FATAL_ERROR SEND_ERROR WARNING AUTHOR_WARNING STATUS DEBUG TRACE</code></pre><h3 id=生成中间文件 data-numberify>生成中间文件<a class="anchor ms-1" href=#生成中间文件></a></h3><pre><code class=language-cmake>set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS}  -save-temps=obj")</code></pre><p>将保存中间文件，以对象文件（.obj）的形式 分析源文件宏展开之后的代码，生成的中间文件example.c.i</p><h2 id=git data-numberify>Git<a class="anchor ms-1" href=#git></a></h2><blockquote><p>ssh-keygen -t ed25519 -f ./id_ed25519 -C &ldquo;@.com&rdquo;</p></blockquote><h3 id=本地仓库同步 data-numberify>本地仓库同步<a class="anchor ms-1" href=#本地仓库同步></a></h3><pre><code class=language-sh>git config receive.denyCurrentBranch ignore
#实际.git/config 文件中添加
#[receive]
#    denyCurrentBranch =ignore</code></pre><h3 id=git命令自动补全 data-numberify>Git命令自动补全<a class="anchor ms-1" href=#git命令自动补全></a></h3><p>参考：https://www.cnblogs.com/kinwing/p/11670577.html</p><pre><code class=language-shell># 下载配置文件 git clone git://git.kernel.org/pub/scm/git/git.git
# linux可能自带无需下载，搜索文件 git-completion.bash
cp  git/contrib/completion/git-completion.bash  ~/.git-completion.bash
# 在.bashrc中添加
source ~/.git-completion.bash
source ~/.bashrc</code></pre><h3 id=gitconfig data-numberify>.gitconfig<a class="anchor ms-1" href=#gitconfig></a></h3><pre><code class=language-sh>git config --global core.filemode false
git config --global core.autocrlf false
git config --unset-all core.filemode
git config --global --list
git config --local --list

# git config --global alias.gc 'auto = 256'
[core]
    autocrlf = false
    filemode = true
    preloadindex = true
    fscache = true
[alias]
    co = checkout
    br = branch
    ci = commit
    st = status
    lg = log
    df = diff
    dfst = diff --stat
    dfcst = diff --cached --stat
    dfc = diff --cached
    ss = stash
    sl = stash list
    sp = stash pop
    cino = commit --amend --no-edit
    # pushx = "!f() { git push \"$@\" && .git/hooks/post-push; }; f"
[color]
    ui = auto</code></pre><h3 id=sshconfig data-numberify>.ssh/config<a class="anchor ms-1" href=#sshconfig></a></h3><blockquote><p>若是win安装git后不能使用pull，可以先进行如下配置
在秘钥路径中 如 C:\Users\xxx.ssh 添加 config 文件，如下配置</p></blockquote><pre><code class=language-sh>Host xxxx.com
HostkeyAlgorithms +ssh-rsa
PubkeyAcceptedAlgorithms +ssh-rsa

# StrictHostKeyChecking no
# UserKnownHostsFile /dev/null

# 特定key配置，没有配置默认使用 id_rsa
Host xxx1.com
    IdentityFile ~/.ssh/id_rsa
    IdentityFile ~/.ssh/id_rsa_1
Host xxx2.com
    IdentityFile ~/.ssh/id_rsa_2</code></pre><h3 id=github多用户 data-numberify>github多用户<a class="anchor ms-1" href=#github多用户></a></h3><pre><code class=language-sh># 测试链接
ssh -T -vvv git@github.com
# 配置 config 文件
# 添加 Host github.com IdentityFile ~/.ssh/id_ed25519

# 测试 git clone 日志debug
GIT_SSH_COMMAND="ssh -v" git clone git@github.com:Genymobile/scrcpy.git</code></pre><pre><code class=language-sh># ~/.ssh/config 文件新增如下内容
Host user1.github.com
    HostName github.com
    IdentityFile ~/.ssh/user1_ed25519

Host user2.github.com
    HostName github.com
    IdentityFile ~/.ssh/user2_ed25519

# 上面的配置可能由于22断开被封，出现错误：Connection closed by remote host
# 参考 https://paugram.com/tech/github-ssh-connection-closed-problem-with-proxy.html
Host user1.github.com
    HostName ssh.github.com
    User git
    Port 443
	PreferredAuthentications publickey
    IdentityFile ~/.ssh/user1_ed25519

Host user2.github.com
    HostName ssh.github.com
    User git
    Port 443
	PreferredAuthentications publickey
    IdentityFile ~/.ssh/user2_ed25519


# 用法
# git clone git@github.com:Genymobile/scrcpy.git 替换为如下即可
git clone git@user1.github.com:Genymobile/scrcpy.git

# 多个用户可能会配置多个用户名和邮箱，在每个仓库单独配置即可
git config --local user.name "your_name"
git config --local user.email "your_eamil"</code></pre><h3 id=github查看仓库大小 data-numberify>github查看仓库大小<a class="anchor ms-1" href=#github查看仓库大小></a></h3><p>直达链接：https://github.com/settings/repositories</p><h3 id=修改分支名 data-numberify>修改分支名<a class="anchor ms-1" href=#修改分支名></a></h3><pre><code class=language-sh># 先切换所在分支
git checkout -b oldname origin/oldname
# 修改分支名
git branch -m newname
# 删除远程分支
git push origin --delete oldname
# 推送新分支，如果不进行这一步，相当于删除远程分支
git push origin newname

# 强制更新修改网页提交记录
# 本地修改 git log 之后，git push -f origin master

# 主线master直接提交feature分支
git push origin dev:feature
# 提交MR之后，在master分支 git pull --rebase 即可，偷懒一直在主线开发 </code></pre><h3 id=git-log data-numberify>git log<a class="anchor ms-1" href=#git-log></a></h3><pre><code class=language-sh>git log --grep="xxx"
# 搜索特定作者
git log --author="作者名字" --grep="关键字"
# 限定时间段
git log --after="YYYY-MM-DD" --before="YYYY-MM-DD" --grep="关键字"

# 查看对应的文件变化
git show commitId
git whatchanged commitId

# 切换到某次 commitId
git checkout commitId

# 根据 commitId 定位前后的提交记录，  --oneline 简短显示log
# 前面的一次记录
git log -1 commitId
# 后面一次的提交记录
git log --reverse --oneline commitId..HEAD | head -n 1

# 查看HEAD
git rev-parse HEAD # HEAD~1 HEAD~n  HEAD^n</code></pre><h2 id=vscode data-numberify>vscode<a class="anchor ms-1" href=#vscode></a></h2><p><a href=https://code.visualstudio.com/api/references/contribution-points target=_blank rel="noopener noreferrer">https://code.visualstudio.com/api/references/contribution-points<i class="fas fa-external-link-square-alt ms-1"></i></a><br>gtags -i 搜索索引</p><h3 id=tab四个空格 data-numberify>tab四个空格<a class="anchor ms-1" href=#tab四个空格></a></h3><p>code->首选项-> 设置。<br>搜索 tab size&rsquo;即将值改为「4」<br><strong>注意：</strong><br>将 Detect Indentation 设置去掉，否则 vscode 会跟进文件内容自动推测tab 的空格数。就是说计算结果可能不是你设置的值。</p><h3 id=tab与空格相互转换 data-numberify>tab与空格相互转换<a class="anchor ms-1" href=#tab与空格相互转换></a></h3><pre><code class=language-text>ctrl+shift+p 输入：
    convert indentation to spaces  tab转空格
    convert indentation to tab       空格转tab</code></pre><h3 id=文本换行 data-numberify>文本换行<a class="anchor ms-1" href=#文本换行></a></h3><p>Ctrl+Shift+P 输入：Toggle World Wrap, 可配置快捷键</p><h3 id=代码折叠 data-numberify>代码折叠<a class="anchor ms-1" href=#代码折叠></a></h3><ul><li><p>要操作光标所在文件中的所有代码块：</p><ul><li>折叠所有 Ctrl+K+0</li><li>展开所有 Ctrl+K+J</li></ul></li><li><p>仅仅操作光标所处代码块内的代码：</p><ul><li>折叠 Ctrl+Shift+[</li><li>展开 Ctrl+Shift+]</li></ul><p>更多操作：Ctrl+Shift+P搜索fold和unfold</p></li></ul><h3 id=vscode-的-ifdef-区域变灰 data-numberify>VSCode 的 #ifdef 区域变灰<a class="anchor ms-1" href=#vscode-的-ifdef-区域变灰></a></h3><p>ctrl+, 搜索 <code>C_Cpp.dimInactiveRegions</code> 勾选即可
或者 setting 中添加：&ldquo;C_Cpp.dimInactiveRegions&rdquo;: true</p><h3 id=settingsjson data-numberify>settings.json<a class="anchor ms-1" href=#settingsjson></a></h3><blockquote><p>/home/bob/.vscode-server/data/Machine/settings.json</p></blockquote><pre><code class=language-json>{
    "C_Cpp.intelliSenseCacheSize": 512,
    "C_Cpp.intelliSenseMemoryLimit": 512,
    "C_Cpp.files.exclude": {
        "**/build": true,
    },
    "debug.allowBreakpointsEverywhere": true,
    "git.ignoredRepositories": [
        "/home/xxx/"
    ],
    "git.scanRepositories": [
    ],
    "todo-tree.filtering.excludeGlobs": [
    ],
    "python.analysis.exclude": [
    ]
}</code></pre><blockquote><p>.vscode/settings.json</p></blockquote><pre><code class=language-json>{
    "files.associations": {
        "CMakeLists.txt": "cmake",
    },

    "files.exclude": {
        "**/.cache": true
    },
    "search.exclude": {
        "**/build/*": true
    },

    // "C_Cpp.intelliSenseEngine": "disabled",
    "C_Cpp.intelliSenseCacheSize": 512,
    "C_Cpp.intelliSenseMemoryLimit": 512,
    // "C_Cpp.workspaceSymbols": "Just My Code",
    "search.followSymlinks": false,
    "C_Cpp.errorSquiggles": "disabled",
}</code></pre><h3 id=c_cpp_propertiesjson data-numberify>c_cpp_properties.json<a class="anchor ms-1" href=#c_cpp_propertiesjson></a></h3><pre><code class=language-json>{
    "configurations": [
        {
            "name": "Win32",
            "includePath": [
                "${workspaceFolder}/xx/**"
            ],
            "defines": [
                "TEST_MARCO=1"
            ],
            "compilerPath": "C:\\MinGW\\bin\\gcc.exe",
            "cStandard": "gnu17",
            "cppStandard": "gnu++14",
            "intelliSenseMode": "windows-gcc-x86",
            "configurationProvider": "ms-vscode.makefile-tools"
        }
    ],
    "version": 4
}

{
    "configurations": [
        {
            "name": "Linux",
            "includePath": [
                "${workspaceFolder}/**"
            ],
            "defines": [
                "TEST_MARCO=1"
            ],
            "compilerPath": "/usr/bin/gcc",
            "cStandard": "gnu11",
            "cppStandard": "c++17",
            "intelliSenseMode": "gcc-x64"
        }
    ],
    "version": 4
}</code></pre><h3 id=tasksjson data-numberify>tasks.json<a class="anchor ms-1" href=#tasksjson></a></h3><pre><code class=language-json>{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "type": "shell",
            "isBackground": true,
            "command": "${workspaceFolder}/xxx/test.sh test1",
            "args": [],
            "problemMatcher": [
                {
                    "pattern": [
                        {
                            "regexp": ".",
                            "file": 1,
                            "location": 2,
                            "message": 3
                        }
                    ],
                    "background": {
                        // "activeOnStart": false,
                        "beginsPattern": ".*start qemu debug.*",  // 要对应编译成功后,一句echo的内容. 此处对应 Makefile Line:170   https://zhuanlan.zhihu.com/p/501901665
                        "endsPattern": "build debug elf done."
                    }
                },
            ],
            "presentation": {
                // "echo": true,
                // "showReuseMessage": false,
                // "clear": true,
                "close": true,
                // "group": "vm"
            },
        },
        {
            "label": "test",
            "type": "shell",
            // "dependsOn": "autosar64build",
            "command": "qemu-system-aarch64 -m 1024 -machine virt,gic-version=2,virtualization=on -cpu cortex-a53 -smp 2 -nographic -kernel ${workspaceFolder}/test -S -s -gdb",
            "args":[],
            "isBackground": true,
        },
        {
            "label": "singlebuild",
            "type": "shell",
            "command": "gcc",
            "args": ["-g", "${fileDirname}/${fileBasename}", "-o", "${fileDirname}/${fileBasenameNoExtension}"]
        },
    ]
}</code></pre><h3 id=launchjson data-numberify>launch.json<a class="anchor ms-1" href=#launchjson></a></h3><pre><code class=language-json>{
    // 使用 IntelliSense 了解相关属性。 
    // 悬停以查看现有属性的描述。
    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "debug_1",
            //"preLaunchTask": "build",
            "type": "cppdbg",
            "request": "launch",
            //"miDebuggerServerAddress": "127.0.0.1",
            "program": "${workspaceFolder}/test.elf",
            "args": [],
            "stopAtEntry": true,
            "cwd": "${workspaceFolder}/",
            "environment": [],
            "externalConsole": false,
            "logging": {
                "engineLogging": false
            },
            "MIMode": "gdb",
            "miDebuggerPath": "aarch64-none-elf-gdb",
            "setupCommands": [ //为了安装基础调试程序而执行的一个或多个GDB/LLDB命令
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                },
                { "text": "set output-radix 16" } // 16进制显示变量
            ]
        },
        {
            "name": "c-debug", //配置名称，显示在配置下拉菜单中
            "type": "cppdbg", //配置类型
            "request": "launch", //请求配置类型，可以是启动或者是附加
            "program": "${workspaceFolder}/test", //程序可执行文件的完整路径，${workspaceFolder}表示远程连接的初始路径
            "args": [], //传递给程序的命令行参数
            "stopAtEntry": true,//可选参数，如果为true,调试程序应该在入口（main）处停止
            "cwd": "${workspaceFolder}/", //目标的工作目录
            "environment": [], //表示要预设的环境变量
            "externalConsole": false,//如果为true，则为调试对象启动控制台
            "MIMode": "gdb",//要连接到的控制台启动程序
            "setupCommands": [ //为了安装基础调试程序而执行的一个或多个GDB/LLDB命令
                {
                    "description": "为 gdb 启用整齐打印",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ]
        }
    ]
}

// ${workspaceFolder} - 当前工作目录(根目录)
// ${workspaceFolderBasename} - 当前文件的父目录
// ${file} - 当前打开的文件名(完整路径)
// ${relativeFile} - 当前根目录到当前打开文件的相对路径(包括文件名)
// ${relativeFileDirname} - 当前根目录到当前打开文件的相对路径(不包括文件名)
// ${fileBasename} - 当前打开的文件名(包括扩展名)
// ${fileBasenameNoExtension} - 当前打开的文件名(不包括扩展名)
// ${fileDirname} - 当前打开文件的目录
// ${fileExtname} - 当前打开文件的扩展名
// ${cwd} - 启动时task工作的目录 Current Working Directory
// ${lineNumber} - 当前激活文件所选行
// ${selectedText} - 当前激活文件中所选择的文本
// ${execPath} - vscode执行文件所在的目录
// ${defaultBuildTask} - 默认编译任务(build task)的名字</code></pre><h3 id=服务器连接异常 data-numberify>服务器连接异常<a class="anchor ms-1" href=#服务器连接异常></a></h3><p>可能是更新vscode 需要安装新的vscode-server，ps-ef | grep wget 抓取，或者下面的方法下载
help->about 中可查看 commit号</p><pre><code class=language-json>wget --tries=1 --connect-timeout=7 --dns-timeout=7 -O vscode-server.tar.gz https://update.code.visualstudio.com/commit:0ee08df0cf4527e40edc9aa28f4b5bd38bbff2b2/server-linux-x64/stable</code></pre><blockquote><p>vscode-server手动</p></blockquote><blockquote><p>替换需要的 commitID
<a href=https://vscode.download.prss.microsoft.com/dbazure/download/stable/$%7bcommitID%7d/vscode-server-linux-x64.tar.gz target=_blank rel="noopener noreferrer">https://vscode.download.prss.microsoft.com/dbazure/download/stable/${commitID}/vscode-server-linux-x64.tar.gz<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p>解压到的路径
${HOME}/.vscode-server/cli/servers/Stable-${commitID}/server</p></blockquote><pre><code class=language-sh>${HOME}/.vscode-server/cli/servers/Stable-384ff7382de624fb94dbaf6da11977bba1ecd427/server
├── bin
├── extensions
├── LICENSE
├── node
├── node_modules
├── out
├── package.json
└── product.json</code></pre><h3 id=gtags-查找跳转 data-numberify>gtags 查找跳转<a class="anchor ms-1" href=#gtags-查找跳转></a></h3><p>参考：https://blog.japinli.top/2021/06/gtags-exclude-some-directories/</p><pre><code class=language-sh>default:\
	:tc=gtags:tc=htags:

common:\
    :skip=GPATH,GTAGS,GRTAGS,dir1/:
gtags:\
    :tc=common:\
    :langmap=c\:.c.h,yacc\:.y,asm\:.s.S,java\:.java,cpp\:.c++.cc.cpp.cxx.hxx.hpp.C.H,php\:.php.php3.phtml:

htags:\
	:body_begin=<body text=#191970 bgcolor=#f5f5dc vlink=gray>:body_end=</body>:\
	:table_begin=<table>:table_end=</table>:\
	:title_begin=<h1><font color=#cc0000>:title_end=</font></h1>:\
	:comment_begin=<i><font color=green>:comment_end=</font></i>:\
	:sharp_begin=<font color=darkred>:sharp_end=</font>:\
	:brace_begin=<font color=red>:brace_end=</font>:\
	:warned_line_begin=<span style=background-color\:yellow>:warned_line_end=</span>:\
	:reserved_begin=<b>:reserved_end=</b>:script_alias=/cgi-bin/:\
	:ncol#4:tabs#8:normal_suffix=html:gzipped_suffix=ghtml:\
	:definition_header=no:

// .globalrc_cfg
GPATH
GTAGS
GRTAGS
dir/
*/dir2/

// 使用：
        if [ -f $(pwd)/.globalrc ];then
            #
            readarray -t lines < $(pwd)/.globalrc_cfg
            skip="    :skip=$(IFS=,; echo "${lines[*]}"):"
            sed -i "5s|.*|${skip}|" $(pwd)/.globalrc

            #
            rm GPATH   GRTAGS  GTAGS
            echo " $(pwd)/.globalrc "
            export GTAGSCONF=$(pwd)/.globalrc
            gtags -v &> .globalrc_txt
        fi</code></pre><blockquote><p>异常：C++ Intellisense 升级到 C/C++，而两个同时安装，所以点击的时候有个相同的跳转地址</p></blockquote><h3 id=快捷键 data-numberify>快捷键<a class="anchor ms-1" href=#快捷键></a></h3><ol><li>聚焦窗口 ctrl 0，ctrl 9，alt 0, ctrl alt p</li><li>删除一行 ctrl shift k</li><li>选中一行 ctrl l</li><li>替换小窗口ctrl h</li><li>快捷键 ctrl k ctrl s</li><li>删除前后 ctrl back ，ctrl del</li></ol><h3 id=插件同步 data-numberify>插件同步<a class="anchor ms-1" href=#插件同步></a></h3><pre><code class=language-text>找到当前server中的 ~/.vscode-server/extensions/extensions.json 记录  "id":"twxs.cmake" , 找到需要的插件的id
vscode 的终端中 whereis code
code --install-extension twxs.cmake
下载想要同步的插件</code></pre><h3 id=连接私钥配置 data-numberify>连接私钥配置<a class="anchor ms-1" href=#连接私钥配置></a></h3><ol><li>C:\Users\bob.ssh\config_vscode 是vscode链接服务器的配置文件,内容如下</li></ol><pre><code class=language-sh>Host test
    HostName 192.168.68.2
    User test
    Port 22
    IdentityFile D:\dir1\dir2\id_rsa</code></pre><ol start=2><li>关键需要设置D:\dir1\dir2\id_rsa文件的属性（私钥id_rsa 不在 C:\Users\bob.ssh）</li></ol><pre><code class=language-text>1. 右键属性->安全->编辑->能删除的直接删除其他所有用户，只保留自己的用户名
2. 如果不能编辑的->高级->禁用继承->从此对象删除所有已继承的权限->确定->编辑->添加->高级->立即查找->找到自己的用户名双击->然后确定返回即可
3. 就能用vscode访问远程的服务器了</code></pre><ol start=3><li>方案二：</li></ol><blockquote><p>如下管理员权限建立软连接，即可
mklink /D C:\Users\bob.ssh\config_vscode E:\xxxx\myconfig</p></blockquote><h3 id=汇编调试断点 data-numberify>汇编调试断点<a class="anchor ms-1" href=#汇编调试断点></a></h3><p>设置里面勾选
&ldquo;debug.allowBreakpointsEverywhere&rdquo;: true , 前提是编译的时候加入 <code>-g</code> 调试信息</p><h3 id=文件窗口查找 data-numberify>文件窗口查找<a class="anchor ms-1" href=#文件窗口查找></a></h3><p>快捷键：<code>Ctrl+Alt+F</code> ，<a href=https://code.visualstudio.com/docs/getstarted/userinterface#_advanced-tree-navigation target=_blank rel="noopener noreferrer">定位查找文件<i class="fas fa-external-link-square-alt ms-1"></i></a>
<picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/2025-07-17-19-04-27.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=400 height=332></picture></p><h3 id=面包屑导航 data-numberify>面包屑导航<a class="anchor ms-1" href=#面包屑导航></a></h3><blockquote><p>&ldquo;breadcrumbs.enabled&rdquo;: true</p></blockquote><p><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/2025-07-17-19-47-30.gif?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=1209 height=591></picture></p><h2 id=vim data-numberify>vim<a class="anchor ms-1" href=#vim></a></h2><h3 id=选择复制 data-numberify>选择复制<a class="anchor ms-1" href=#选择复制></a></h3><p>进入字符模式<br>  按 v (小写)键进入字符模式，可以<strong>逐字</strong>符地选择文本
进入行模式<br>  按 V (大写) 键进入行模式，可以<strong>逐行</strong>地选择文本。<br>进入块模式<br>  按 Ctrl + v 进入块模式，可以选择一个<strong>矩形区域</strong>。<br>复制选中的文本<br>  选择文本后，按 y 键（表示 &ldquo;yank&rdquo;）将选中的文本<strong>复制</strong>到剪贴板。<br>粘贴文本<br>  可以在所需位置按 p 键（小写 p）粘贴文本。如果想<strong>粘贴</strong>在光标之前，可以按 P 键（大写 P）。</p><h3 id=插入 data-numberify>插入<a class="anchor ms-1" href=#插入></a></h3><p>光标之前：i<br>光标之后：a<br>下一行插入：o<br>上一行插入：shift + o</p><h2 id=docker data-numberify>docker<a class="anchor ms-1" href=#docker></a></h2><h3 id=安装使用 data-numberify>安装使用<a class="anchor ms-1" href=#安装使用></a></h3><p>docker 获取镜像，创建容器，配合shell章节的自动补全，环境配置好只需要使用就行了，无感操作
详细可参考：https://www.runoob.com/docker/docker-container-usage.html</p><pre><code class=language-sh># 安装docker，终端输入 docker，ubuntu24.04会提示安装命令
sudo apt install docker.io
# 安装完成之后 docker 执行需要root权限， 把需要操作的用户加入docker即可
sudo usermod -aG docker bob # 重启即可生效，其他方式如果ssh链接的，断开重连也会生效
# 会显示用户在docker组
id bob
groups bob


# 获取镜像
docker pull ubuntu
# 查看镜像
docker images
# 启动一个容器，镜像可以理解模版，容器是配置的不同的环境，可以一个镜像启动多个容器
# 可以先用起来，一些概念用着用着就熟悉了解了
docker run --privileged -it -d -v /home/bob:/home/bob --name my_nodejs ubuntu /bin/bash
# 这里启动一个my_nodejs的容器（里面用户和主机用户一样，方便后续操作，默认用root用户进入，然后创建和主机一样的用户）
# 前期可以直接 docker run --privileged -it -d --name my_nodejs ubuntu /bin/bash，直接用root操作
docker exec -it my_nodejs /bin/bash
# 如果主机 id bob 为 1000，进入docker cat /etc/passwd，如果有1000的用户，直接修改用户名
# usermod -l bob -d /home/bob -m ubuntu
# groupadd bob
# usermod -g bob -G bob bob

# 启动容器
docker start my_nodejs
# 关闭容器
docker stop my_nodejs
# 进入容器
docker exec -it -u bob -w /home/bob my_nodejs /bin/bash</code></pre><h3 id=动态添加端口 data-numberify>动态添加端口<a class="anchor ms-1" href=#动态添加端口></a></h3><p><a href=https://blog.csdn.net/weixin_41148525/article/details/135675015 target=_blank rel="noopener noreferrer">https://blog.csdn.net/weixin_41148525/article/details/135675015<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://www.baeldung.com/ops/assign-port-docker-container target=_blank rel="noopener noreferrer">https://www.baeldung.com/ops/assign-port-docker-container<i class="fas fa-external-link-square-alt ms-1"></i></a></p><pre><code class=language-sh>systemctl stop docker
docker info | grep Root
# dir
docker inspect xxx | grep Id
# idxxxxxxxx
cd /dir/idxxxxxxxx
# 修改如下</code></pre><pre><code class=language-json>{ // hostconfig.json
  ...
  "PortBindings": {"80/tcp":[{"HostIp":"","HostPort":"20082"}]},
  ...
}
{ // config.v2.json
  "Config":
  {
    ...
    "ExposedPorts":
    {
      "80/tcp":{}
    },
    ...
  }
}</code></pre><pre><code class=language-sh>systemctl start docker
docker start xxxx
docker port xxxx
# 80/tcp -> 0.0.0.0:20082
# 80/tcp -> [::]:20082</code></pre><h2 id=ubuntu软件安装 data-numberify>ubuntu软件安装<a class="anchor ms-1" href=#ubuntu软件安装></a></h2><h3 id=tmux分屏 data-numberify>tmux分屏<a class="anchor ms-1" href=#tmux分屏></a></h3><p><a href=https://zhuanlan.zhihu.com/p/58668651 target=_blank rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/58668651<i class="fas fa-external-link-square-alt ms-1"></i></a><br>export TMUX_TMPDIR=~/.tmux/tmp</p><h3 id=应用修改图标 data-numberify>应用修改图标<a class="anchor ms-1" href=#应用修改图标></a></h3><blockquote><p>cd /usr/share/applications
vi xxx 中的 icon = xx.icon</p></blockquote><h3 id=chrome谷歌浏览器 data-numberify>chrome谷歌浏览器<a class="anchor ms-1" href=#chrome谷歌浏览器></a></h3><blockquote><p>wget &ndash;no-check-certificate <a href=https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb target=_blank rel="noopener noreferrer">https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><h3 id=vscode-1 data-numberify>vscode<a class="anchor ms-1" href=#vscode-1></a></h3><blockquote><p>wget &ndash;no-check-certificate <a href="https://code.visualstudio.com/sha/download?build=stable&amp;os=linux-deb-x64" target=_blank rel="noopener noreferrer">https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><h3 id=sougou data-numberify>sougou<a class="anchor ms-1" href=#sougou></a></h3><blockquote><p>下载页面：https://shurufa.sogou.com/linux
安装指导：https://shurufa.sogou.com/linux/guide</p><p>sudo apt -f install
系统设置->区域和语言->管理已安装的语言->在“语言”tab下->点击“添加或删除语言” -> fcitx
设置fcitx开机自启动
sudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/
卸载系统ibus输入法框架
sudo apt purge ibus</p></blockquote><ul><li>关闭繁简切换：</li></ul><pre><code class=language-sh>vi ~/.config/sogoupinyin/conf/env.ini 
ShortCutFanJian=1 # 修改为 0
vi ~/.config/fcitx/conf/fcitx-chttrans.config
#Hotkey=CTRL_SHIFT_F  # 修改为 Hotkey=CTRL_SHIFT_]</code></pre><ul><li>皮肤位置</li></ul><pre><code class=language-sh>/opt/sogoupinyin/files/share/resources/skin/</code></pre><h3 id=nas挂载 data-numberify>nas挂载<a class="anchor ms-1" href=#nas挂载></a></h3><pre><code class=language-sh>sudo apt-get install cifs-utils
sudo mount -t cifs //192.168.1.1/share  /home/bob/mydir -o username=bob,password=bob,iocharset=utf8
# sudo mount -t cifs //192.168.1.1/share /home/bob/mydir -o username=bob,password=bob,iocharset=utf8,uid=1000,gid=1000,file_mode=0777,dir_mode=0777</code></pre><h3 id=截图工具 data-numberify>截图工具<a class="anchor ms-1" href=#截图工具></a></h3><ul><li>Snipaste : Snipaste-2.9.2-Beta-x86_64 电脑重启登录的时候，右下角设置图标选择 ubuntu on Xorg</li><li>PixPin 功能更丰富，暂不支持linux, 通过wine曲线救国</li></ul><h3 id=鼠标手势 data-numberify>鼠标手势<a class="anchor ms-1" href=#鼠标手势></a></h3><blockquote><p>easystroke：功能上和windows上的 WGestures，还是差不少
手势设置：https://tianws.github.io/skill/2019/10/31/short-cut-ubuntu/</p></blockquote><h3 id=pdf阅读器 data-numberify>pdf阅读器<a class="anchor ms-1" href=#pdf阅读器></a></h3><blockquote><p>Okular：主要为了配置 back forward 快捷键 alt+left，alt+right
Settings->Configure Okular->General->Program Features->Open new files in tabs</p></blockquote><h3 id=gedit自定义快捷键 data-numberify>gedit自定义快捷键<a class="anchor ms-1" href=#gedit自定义快捷键></a></h3><blockquote><p><a href=https://github.com/foolo/gedit_custom_keys/ target=_blank rel="noopener noreferrer">https://github.com/foolo/gedit_custom_keys/<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p>设置 gedit -> Preferences-> Plugins -> Custom Keyboard Shortcuts</p></blockquote><h3 id=日历 data-numberify>日历<a class="anchor ms-1" href=#日历></a></h3><blockquote><p>显示周数<br>gsettings set org.gnome.desktop.calendar show-weekdate true<br>显示农历<br><a href=https://extensions.gnome.org/extension/675/lunar-calendar/ target=_blank rel="noopener noreferrer">https://extensions.gnome.org/extension/675/lunar-calendar/<i class="fas fa-external-link-square-alt ms-1"></i></a><br>安装扩展，chrome扩展配置，apt 连接器</p></blockquote><h3 id=触摸板 data-numberify>触摸板<a class="anchor ms-1" href=#触摸板></a></h3><blockquote><p><a href=https://extensions.gnome.org/extension/4033/x11-gestures/ target=_blank rel="noopener noreferrer">https://extensions.gnome.org/extension/4033/x11-gestures/<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/JoseExposito/touchegg target=_blank rel="noopener noreferrer">https://github.com/JoseExposito/touchegg<i class="fas fa-external-link-square-alt ms-1"></i></a><br>支持自定义手势<br>sudo apt install touchegg flatpak<br>flatpak install flathub com.github.joseexposito.touche</p></blockquote><h3 id=wine data-numberify>Wine<a class="anchor ms-1" href=#wine></a></h3><blockquote><p>管理安装配置 wine
sudo apt install winetricks</p></blockquote><pre><code class=language-sh># 下载：https://wiki.winehq.org/Download_zhcn
# 安装 VeryCapture：https://verycapture.com/download.html

# 安装快捷键转发
sudo apt install xdotool
# 配置
#!/bin/bash

if [ "${1}" == "PixPin" ];then
    xdotool key --window $( xdotool search --limit 1 --all --pid $( pgrep PixPin.exe ) --name PixPin ) "F1"
elif [ "${1}" == "VeryCapture" ];then
    xdotool key --window $( xdotool search --limit 1 --all --pid $( pgrep VeryCapture.exe ) --name VeryCapture ) "shift+F1"
fi

# settings-> Keyboard -> Keyboard Shortcuts -> View and Customize Shortcuts -> Custom Shortcuts</code></pre><blockquote><p>安装 pixpin，需要下面两个运行库
winetricks vcrun2015
winetricks vcrun2017</p></blockquote><h3 id=python data-numberify>python<a class="anchor ms-1" href=#python></a></h3><blockquote><p>pip安装</p></blockquote><pre><code class=language-python># python3
curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
# python2
https://bootstrap.pypa.io/pip/2.7/get-pip.py
python get-pip.py</code></pre><blockquote><p>pip配置：</p></blockquote><pre><code class=language-shell>python3 -m pip install pyelftools
# http://mirrors.aliyun.com/pypi/simple/
# python3 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyelftools

# 永久配置 ~/.pip/pip.conf
[global]
index-url = https://pypi.tuna.tsinghua.edu.cn/simple
trusted-host = pypi.tuna.tsinghua.edu.cn  # 可信主机，要不然可能报错
disable-pip-version-check = true          # 取消pip版本检查，排除每次都报最新的pip
timeout = 120
# ignore-installed = true 				  # 忽略任何已经安装的系统包，强制安装指定的包，即使它可能与系统包冲突

# ➡️ pyenv 进行多版本的python管理</code></pre><h2 id=windows软件配置 data-numberify>windows软件配置<a class="anchor ms-1" href=#windows软件配置></a></h2><h3 id=chrome浏览器离线安装包 data-numberify>chrome浏览器离线安装包<a class="anchor ms-1" href=#chrome浏览器离线安装包></a></h3><pre><code class=language-text>https://www.google.com/intl/zh-CN/chrome/next-steps.html?platform=win64&standalone=1&statcb=0&installdataindex=empty&defaultbrowser=0

https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BBD6E01DD-2315-DD04-9D6B-5A409199B5FF%7D%26lang%3Dzh-CN%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dprefers%26ap%3Dx64-stable-statsdef_1%26installdataindex%3Dempty/chrome/install/ChromeStandaloneSetup64.exe</code></pre><h3 id=beyond-compare魔法 data-numberify>Beyond Compare魔法<a class="anchor ms-1" href=#beyond-compare魔法></a></h3><pre><code class=language-bat>reg delete "HKEY_CURRENT_USER\Software\Scooter Software\Beyond Compare 4"  /v CacheID /f</code></pre><h3 id=关闭自启动 data-numberify>关闭自启动<a class="anchor ms-1" href=#关闭自启动></a></h3><ol><li>关闭应用自动启动</li><li>关闭<em><strong>任务计划程序</strong></em>无用的启动配置</li></ol><h3 id=关闭windows-defender实时保护 data-numberify>关闭windows defender实时保护<a class="anchor ms-1" href=#关闭windows-defender实时保护></a></h3><ol><li>关闭实时保护(通过策略组修改关闭）</li></ol><blockquote><p>1.按win+R，输入gpedit.msc -> 2.选择计算机配置–>管理模板–>Windows组件–>Microsoft Defender防病毒–>实时保护 -> 3.双击关闭实时保护，选择已启用
1.进入“Window安全中心” ->2. 进入“病毒和威胁防护” ->3. 进入“管理设置” -> 4.点击关闭即可</p></blockquote><ol start=3><li>关闭自动提交样本</li><li>关闭篡改防护</li></ol><blockquote><p><a href=https://blog.csdn.net/azxc98765/article/details/120094030 target=_blank rel="noopener noreferrer">https://blog.csdn.net/azxc98765/article/details/120094030<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><h3 id=ssh-server data-numberify>ssh server<a class="anchor ms-1" href=#ssh-server></a></h3><blockquote><p>设置中可选功能可安装openssh server</p></blockquote><blockquote><p><a href=https://github.com/PowerShell/Win32-OpenSSH/releases target=_blank rel="noopener noreferrer">https://github.com/PowerShell/Win32-OpenSSH/releases<i class="fas fa-external-link-square-alt ms-1"></i></a>
下载安装OpenSSH-Win64-v9.5.0.0.msi</p></blockquote><pre><code class=language-bat>:: 测试系统目录结构
ssh bob@10.1.1.100 "pwd"
ssh bob@10.1.1.100 "dir"

:: 进入执行bash
:: ssh bob@10.1.1.100 "/cygdrive/c/Program\ Files/Git/bin/bash.exe -i"
ssh -t bob@10.1.1.100 "C:/Progra~1/Git/bin/bash.exe"
ssh -t bob@10.1.1.100 "\"C:/Program Files/Git/bin/bash.exe\""
ssh bob@10.1.1.100 "\"C:/Progra~1/Git/bin/bash.exe\"      -c \"cd /d/mytest && git st && git gr && git lg -1\""
ssh bob@10.1.1.100 "\"C:/Program Files/Git/bin/bash.exe\" -c \"cd /d/mytest && git st && git gr && git lg -1\""

:: 文件复制
:: scp test.txt bob@10.1.1.100:/cygdrive/d/mytest/
scp 'bob@10.1.1.100:D:/mytest/test.txt' .
scp test.txt 'bob@10.1.1.100:D:/mytest/test.txt'</code></pre><pre><code class=language-bat>sshpass -p password ssh name@ip  # "set path=C:\Program Files\Git\bin;%path% && bash.exe -i"

sc stop sshd
sc start sshd</code></pre><h3 id=win获取ip地址 data-numberify>win获取ip地址<a class="anchor ms-1" href=#win获取ip地址></a></h3><p><a href=https://www.zhouchunyu.com/342.html target=_blank rel="noopener noreferrer">Python获取本机 IP/MAC（多网卡） – 二进制<i class="fas fa-external-link-square-alt ms-1"></i></a></p><pre><code class=language-python>import psutil
def GetLocalIP(t=None):
    ips = []
    iptype = "AF_INET"
    if t == 6:
        iptype = "AF_INET6"

    dic = psutil.net_if_addrs()
    for adapter in dic:
        snicList = dic[adapter]
        for snic in snicList:
            if iptype in snic.family.name:
                if t == 4 and  ":" in snic.address:
                    continue
                ips.append(snic.address)
    return ips </code></pre><pre><code class=language-python>import socket
def GetLocalIP(t=None):
    ips = []
    addrs = socket.getaddrinfo(socket.gethostname(),None)
    for item in addrs:
        if t == 4 and ':' in item[4][0]:
            continue
        if t == 6 and ':' not in item[4][0]:
            continue
        ips.append(item[4][0])
    return ips  </code></pre><pre><code class=language-python>import json
import requests
import time
import socket
import schedule
import datetime
import jenkins
import psutil

KEYSMILE='.'

def get_nodes_summary(username, password):
    # https://blog.csdn.net/Sudley/article/details/103848127
    #获取nodes节点的name、label、ip、status（连接状态）

    try:
        server = jenkins.Jenkins('http://%s:%s@xxxx:8080', username, password)

        nodes = server.get_nodes()

        win_slave = [x for x in nodes if x['name'] == 'win_Slave']
        # node_name = win_slave[0]['name']
        isonline = not win_slave[0]['offline']
    except Exception as e:
        isonline = False

    return isonline

def GetLocalIPNew(t=None):
    unwanted_interface = ['Eth_eth0', 'Loopback Pseudo-Interface 1']  # 不想要的网卡名
    ips = []
    interfaces = psutil.net_if_addrs()
    for name, net_addresses in interfaces.items():
        for net_address in net_addresses:
            if (net_address.family == socket.AF_INET or net_address.family == socket.AF_INET6) and name not in unwanted_interface:
                ips.append(net_address.address)
    return ips

def GetLocalIP(t=None):
    ips = []
    addrs = socket.getaddrinfo(socket.gethostname(),None)
    for item in addrs:
        if t == 4 and ':' in item[4][0]:
            continue
        if t == 6 and ':' not in item[4][0]:
            continue
        ips.append(item[4][0])
    return ips

def SendMessage(keyword, msg):
    url = 'bark.com'
    HEADERS = {
        "Content-Type": "application/json; charset=utf-8"
    }

    isonline = get_nodes_summary('user', 'test123')
    if isonline is False:
        msg += " , offine ~~~"

    sendMsg = {
        "msgtype": "text",
        "text": {
            "content": keyword + ' ' + msg
        }
    }

    try:
        requests.post(url, data=json.dumps(sendMsg), headers=HEADERS)
        ret = True
    except Exception as e:
        ret = False

    return ret

def job():
    SendMessage(KEYSMILE, "Good Morning")

if __name__ == '__main__':
    print(datetime.datetime.now(), "start run now ...")
    schedule.every().day.at("00:00").do(job)

    ips = []
    ipchanged = False

    while True:
        schedule.run_pending()
        time.sleep(20)

        if ips != GetLocalIPNew():
            ipchanged = True
            ips = GetLocalIPNew()
            print(datetime.datetime.now(), "warning ip changed: ", ips)
        if  ipchanged == True and \
            SendMessage(KEYSMILE, ', '.join(ips)) == True:
            ipchanged = False</code></pre><h3 id=jlink下载 data-numberify>jlink下载<a class="anchor ms-1" href=#jlink下载></a></h3><pre><code class=language-bat>@echo off

:: Calculate the number of parameters
set argC=0
for %%x in (%*) do Set /A argC+=1

if %argC% geq 3 (
    echo error, too many parameters
    echo one param: %0 test1
    echo two param: %0 [jlink.exe]_path test1
    exit /b 1
) else if %argC% == 2 (
    set jlinkpath=%1
    set project=%2
) else (
    set jlinkpath="C:\Program Files\SEGGER\JLink\JLink.exe"
    set project=%1
)

if [%project%] == [] (
    set project=test1
)

for /R ".\build\%project%\obj\bin\" %%F in (*.hex) do set "hexfile=.\build\%project%\obj\bin\%%~nxF"

if not exist %jlinkpath% ( echo jlinkpath error : %jlinkpath% & exit /b 2 )
if not exist %hexfile% ( echo project error : %project% & exit /b 2 )

set commandfile=jinkConfig.txt
@echo speed 4000 > %commandfile%
@echo r >> %commandfile%
@echo h >> %commandfile%
@echo erase >> %commandfile%
@echo loadfile %hexfile% >> %commandfile%
@echo q >> %commandfile%

%jlinkpath% -device STM32H743II -si swd -autoconnect 1 -nogui 1 -exitonerror 1 -commandfile %commandfile%
set err=%errorlevel%
if exist %commandfile% ( del %commandfile% )

if %err% neq 0 ( echo download error : %project% & exit /b %err% )
exit /b 0</code></pre><h3 id=process-explorer data-numberify>process-explorer<a class="anchor ms-1" href=#process-explorer></a></h3><p><a href=https://learn.microsoft.com/en-us/sysinternals/downloads/process-explorer#download target=_blank rel="noopener noreferrer">Process Explorer - Sysinternals<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=pslist data-numberify>pslist<a class="anchor ms-1" href=#pslist></a></h3><p><a href=https://learn.microsoft.com/en-us/sysinternals/downloads/pslist target=_blank rel="noopener noreferrer">PsList - Sysinternals<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=handle关联的句柄 data-numberify>Handle关联的句柄<a class="anchor ms-1" href=#handle关联的句柄></a></h3><p><a href=https://learn.microsoft.com/en-us/sysinternals/downloads/handle target=_blank rel="noopener noreferrer">Handle - Sysinternals<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=proxy data-numberify>proxy<a class="anchor ms-1" href=#proxy></a></h3><p>clash verge<br>基于 Sing-box 通用代理工具: <a href=https://github.com/hiddify/hiddify-app target=_blank rel="noopener noreferrer">hiddify<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=sumatrapdf data-numberify>SumatraPDF<a class="anchor ms-1" href=#sumatrapdf></a></h3><p>小巧免费PDF查看器：<a href=https://www.sumatrapdfreader.org/free-pdf-reader target=_blank rel="noopener noreferrer">SumatraPDF<i class="fas fa-external-link-square-alt ms-1"></i></a></p><pre><code class=language-text># 执行路径：SumatraPDF-settings.txt
# https://www.sumatrapdfreader.org/docs/Commands
Shortcuts [
	[
		Cmd = CmdNextTab
		Key = Alt + e
	]
	[
		Cmd = CmdPrevTab
		Key = Alt + w
	]
]</code></pre><h3 id=桌面置顶 data-numberify>桌面置顶<a class="anchor ms-1" href=#桌面置顶></a></h3><p><a href=https://github.com/Bluegrams/PinWin target=_blank rel="noopener noreferrer">PinWin<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h2 id=小工具 data-numberify>小工具<a class="anchor ms-1" href=#小工具></a></h2><p>画笔工具 glnk<br><a href=https://microsoft.github.io/XmlNotepad/ target=_blank rel="noopener noreferrer">xml查看工具<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=删除pdf密码 data-numberify>删除Pdf密码<a class="anchor ms-1" href=#删除pdf密码></a></h3><pre><code class=language-python>import fitz  # pip install PyMuPDF

input_pdf_path = 'xxx.pdf'
output_pdf_path = 'xxx_1.pdf'
pdf_password = 'test123'

# 打开受密码保护的PDF文件
pdf_document = fitz.open(input_pdf_path)

# 检查PDF是否加密
if pdf_document.is_encrypted:
    # 尝试使用密码解密
    if not pdf_document.authenticate(pdf_password):
        print("Invalid password. Cannot remove password from PDF.")
        pdf_document.close()
        exit(1)

# 保存一个新的无密码PDF文件
pdf_document.save(output_pdf_path, encryption=fitz.PDF_ENCRYPT_NONE)
pdf_document.close()

print('PDF password has been removed.')</code></pre><h3 id=pdf加书签 data-numberify>PDF加书签<a class="anchor ms-1" href=#pdf加书签></a></h3><blockquote><p><a href=https://github.com/ifnoelse/pdf-bookmark.git target=_blank rel="noopener noreferrer">https://github.com/ifnoelse/pdf-bookmark.git<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><p>由于网上download的ISO14229文档没有书签，故找了个小工具可以添加书签，留此记录。<br><a href=https://github.com/chroming/pdfdir target=_blank rel="noopener noreferrer">GitHub - chroming/pdfdir: PDF导航（大纲/目录）添加工具<i class="fas fa-external-link-square-alt ms-1"></i></a><br>目录需要正则表达式匹配：<br>二层 ^\d\d?.\d\d?\s 三层 ^\d\d?.\d\d?.\d\d?<br><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/190075435e348a512d45278ed2265d96.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=322 height=482></picture></p><pre><code class=language-python>xyz='''
Annex I (normative) Security access state chart  450
Annex J (informative) Recommended implementation for multiple client environments  458
Bibliography  464
'''
lines = xyz.split('\n')
#print(lines)
for line in lines:
    matchObj = re.search( r'\w+$', line, re.M|re.I)
    if matchObj:
        x=int(matchObj.group())+12
        print(re.sub(r'\w+$', str(x), line))
        # else:
    #    print(  "No match!!")
#re.search( r'\w+$', line, re.M|re.I)</code></pre><h3 id=python加解密 data-numberify>python加解密<a class="anchor ms-1" href=#python加解密></a></h3><pre><code class=language-python>
# pip3 install pycryptodome pillow

from Crypto.Cipher import AES, PKCS1_OAEP
from Crypto.PublicKey import RSA
import zipfile
from PIL import Image
from Crypto.Cipher import AES
from Crypto.Random import get_random_bytes
import os
import argparse

def unpad(data):
    pad_len = data[-1]
    return data[:-pad_len]

def decrypt_file(input_file, output_folder, private_key_file):
    with open(private_key_file, 'rb') as f:
        rsa_key = RSA.import_key(f.read())
    rsa_cipher = PKCS1_OAEP.new(rsa_key)

    # ✅ 动态计算 key 长度（单位：字节）
    rsa_key_len_bytes = rsa_key.size_in_bits() // 8  # e.g. 4096 bits → 512 bytes

    with open(input_file, 'rb') as f:
        encrypted_key = f.read(rsa_key_len_bytes)  # ⬅️ 动态读取对应长度
        iv = f.read(16)
        encrypted_data = f.read()

    aes_key = rsa_cipher.decrypt(encrypted_key)
    aes_cipher = AES.new(aes_key, AES.MODE_CBC, iv)
    decrypted_data = unpad(aes_cipher.decrypt(encrypted_data))

    if not os.path.exists(output_folder):
        os.makedirs(output_folder)
    # 临时解压
    zip_path = os.path.join(output_folder, "decrypted_temp.zip")
    with open(zip_path, 'wb') as f:
        f.write(decrypted_data)

    with zipfile.ZipFile(zip_path, 'r') as zipf:
        zipf.extractall(output_folder)

    os.remove(zip_path)

def decrypt_bin(input_bin, output_dir, private_key):
    decrypt_file(input_bin, output_dir, private_key)

def zip_folder(folder_path, zip_path):
    with zipfile.ZipFile(zip_path, 'w', zipfile.ZIP_DEFLATED) as zipf:
        for root, _, files in os.walk(folder_path):
            for file in files:
                full_path = os.path.join(root, file)
                arcname = os.path.relpath(full_path, folder_path)
                zipf.write(full_path, arcname)

def pad(data):
    pad_len = 16 - len(data) % 16
    return data + bytes([pad_len] * pad_len)

def encrypt_zip(zip_file, output_file, public_key_file):
    # 加载RSA公钥
    with open(public_key_file, 'rb') as f:
        rsa_key = RSA.import_key(f.read())
    rsa_cipher = PKCS1_OAEP.new(rsa_key)

    # 生成AES密钥和IV
    aes_key = get_random_bytes(16)
    iv = get_random_bytes(16)

    # zip内容
    with open(zip_file, 'rb') as f:
        data = f.read()
    padded = pad(data)
    aes_cipher = AES.new(aes_key, AES.MODE_CBC, iv)
    encrypted_data = aes_cipher.encrypt(padded)

    # 用RSAAES密钥
    encrypted_key = rsa_cipher.encrypt(aes_key)

    # 写入输出：RSAkey + IV + 数据
    with open(output_file, 'wb') as f:
        f.write(encrypted_key)
        f.write(iv)
        f.write(encrypted_data)

def encrypt_bin(input_dir, output_bin, public_key):
    zip_folder(input_dir, '.tmp')
    encrypt_zip('.tmp', output_bin, public_key)
    os.remove('.tmp')


def unpad(data):
    pad_len = data[-1]
    return data[:-pad_len]

def extract_data_from_image(stego_path, output_bin_path, key, payload_len):
    img = Image.open(stego_path).convert("RGB")
    pixels = list(img.getdata())

    total_bits = payload_len * 8
    bits = ''
    for pixel in pixels:
        for color in pixel:
            bits += str(color & 1)
            if len(bits) >= total_bits:
                break
        if len(bits) >= total_bits:
            break

    data_bytes = bytes(int(bits[i:i+8], 2) for i in range(0, total_bits, 8))
    iv = data_bytes[:16]
    encrypted = data_bytes[16:]

    cipher = AES.new(key, AES.MODE_CBC, iv)
    decrypted = unpad(cipher.decrypt(encrypted))

    with open(output_bin_path, 'wb') as f:
        f.write(decrypted)

    print(f"🔓 ：{output_bin_path}")

def decrypt_png(input_png, output_bin, key_dlen_str):
    key_hex, dlen_str = key_dlen_str.split(":")
    extract_data_from_image(input_png, output_bin, bytes.fromhex(key_hex), int(dlen_str))

def pad(data):
    pad_len = 16 - len(data) % 16
    return data + bytes([pad_len] * pad_len)

def encrypt_data(data, key, iv):
    cipher = AES.new(key, AES.MODE_CBC, iv)
    return cipher.encrypt(pad(data))

def embed_data_to_image(image_path, bin_path, output_path, key):
    iv = get_random_bytes(16)
    with open(bin_path, 'rb') as f:
        data = f.read()
    encrypted = encrypt_data(data, key, iv)
    payload = iv + encrypted

    img = Image.open(image_path).convert("RGB")
    pixels = list(img.getdata())

    bits = ''.join(f'{byte:08b}' for byte in payload)
    if len(bits) > len(pixels) * 3:
        raise ValueError("数据太大，无法嵌入这张图片。")

    new_pixels = []
    bit_idx = 0
    for pixel in pixels:
        r, g, b = pixel
        if bit_idx < len(bits):
            r = (r & 0xFE) | int(bits[bit_idx])
            bit_idx += 1
        if bit_idx < len(bits):
            g = (g & 0xFE) | int(bits[bit_idx])
            bit_idx += 1
        if bit_idx < len(bits):
            b = (b & 0xFE) | int(bits[bit_idx])
            bit_idx += 1
        new_pixels.append((r, g, b))

    img.putdata(new_pixels)
    img.save(output_path)
    # print(f"✅ ：{output_path}")

    return len(payload)

def encrypt_png(input_png, input_bin, keylen):
    key = get_random_bytes(keylen)  # 必须保存这个 key
    print("KEY(hex):", key.hex())
    payload_len = embed_data_to_image(input_png, input_bin, f'new_{input_png}', key)
    print(f"数据长度: {payload_len} 字节")

def generate(len):
    key = RSA.generate(len)
    private_key = key.export_key()
    public_key = key.publickey().export_key()

    with open("private.pem", "wb") as f:
        f.write(private_key)

    with open("public.pem", "wb") as f:
        f.write(public_key)
    print("🔑 密钥对已生成：private.pem / public.pem")

def main():
    parser = argparse.ArgumentParser(description="🔐 多功能工具")
    subparsers = parser.add_subparsers(dest="command")

    # 1. generate
    g = subparsers.add_parser("generate", help="生成 RSA 密钥对")
    g.add_argument("--bits", type=int, default=8192, help="RSA 密钥位数（默认2048）")

    # 2. encrypt-bin
    ebin = subparsers.add_parser("encrypt-bin", help="encrypt-bin")
    ebin.add_argument("--input", required=True, help="input dir")
    ebin.add_argument("--output", required=True, help="out bin")
    ebin.add_argument("--pub", required=True, help="RSA pub")

    # 3. decrypt-bin
    dbin = subparsers.add_parser("decrypt-bin", help="decrypt-bin")
    dbin.add_argument("--input", required=True, help="input bin")
    dbin.add_argument("--output", required=True, help="out dir")
    dbin.add_argument("--priv", required=True, help="RSA pri")

    # 4. encrypt-png
    epng = subparsers.add_parser("encrypt-png", help="encrypt-png")
    epng.add_argument("--png", required=True, help="input png")
    epng.add_argument("--bin", required=True, help="input bin")
    epng.add_argument("--keylen", type=int, default=32, help="keylen(16)")

    # 5. decrypt-png
    dpng = subparsers.add_parser("decrypt-png", help="decrypt-png")
    dpng.add_argument("--image", required=True, help="input png")
    dpng.add_argument("--output", required=True, help="out bin")
    dpng.add_argument("--key", type=str, required=True, help="key (hex)")

    args = parser.parse_args()
    if args.command == "generate":
        generate(args.bits)
    elif args.command == "encrypt-bin":
        encrypt_bin(args.input, args.output, args.pub)
    elif args.command == "decrypt-bin":
        decrypt_bin(args.input, args.output, args.priv)
    elif args.command == "encrypt-png":
        encrypt_png(args.png, args.bin, args.keylen)
    elif args.command == "decrypt-png":
        decrypt_png(args.image, args.output, args.key)
    else:
        parser.print_help()

    # python 1.py generate --bits 8192
    # python 1.py encrypt-bin --input a --output a.bin --pub public.pem
    # python 1.py decrypt-bin --input a.bin --output a2 --priv private.pem 
    # python 1.py encrypt-png --png cover.png --bin a.bin --keylen 32
    # python 1.py decrypt-png --image new_cover.png --output a.bin --key 31baed5c2e04541897384406828a8dd7:2032

if __name__ == '__main__':
    main()

    # generate(8192)
    # encrypt_bin('a','a.bin', 'public.pem')
    # decrypt_bin('a.bin', 'a2', 'private.pem')
    # encrypt_png('cover.png' ,'a.bin', 32)
    # decrypt_png('new_cover.png', 'a2.bin', bytes.fromhex('之前生成的KEY'):dlen)</code></pre><h3 id=青龙 data-numberify>青龙<a class="anchor ms-1" href=#青龙></a></h3><p><a href=https://github.com/shufflewzc/faker2 target=_blank rel="noopener noreferrer">faker2<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/6dylan6/jdpro target=_blank rel="noopener noreferrer">jdpro<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=android data-numberify>android<a class="anchor ms-1" href=#android></a></h3><p>auto.js Android System WebView</p><p>包名查看器 <a href=https://www.coolapk.com/apk/com.csdroid.pkg target=_blank rel="noopener noreferrer">https://www.coolapk.com/apk/com.csdroid.pkg<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p>反编译: <a href=https://github.com/skylot/jadx target=_blank rel="noopener noreferrer">jadx<i class="fas fa-external-link-square-alt ms-1"></i></a><br>log查看:</p><ul><li><a href=https://github.com/cdcsgit/lognote target=_blank rel="noopener noreferrer">lognote<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://github.com/Gegenbauer/CatSpy target=_blank rel="noopener noreferrer">CatSpy<i class="fas fa-external-link-square-alt ms-1"></i></a></li></ul><pre><code class=language-bat>set path=C:\Android\openjdk\jdk-17.0.8.101-hotspot\bin;%path%
java -jar CatSpy.jar</code></pre><h3 id=可启动u盘 data-numberify>可启动U盘<a class="anchor ms-1" href=#可启动u盘></a></h3><p>可启动U盘: <a href=https://github.com/ventoy/Ventoy target=_blank rel="noopener noreferrer">Ventoy<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h2 id=github仓库 data-numberify>github仓库<a class="anchor ms-1" href=#github仓库></a></h2><p>垃圾站点过滤：<a href=https://github.com/obgnail/chinese-internet-is-dead target=_blank rel="noopener noreferrer">chinese-internet-is-dead<i class="fas fa-external-link-square-alt ms-1"></i></a><br>一些技术pdf：<a href=https://github.com/p-moon/develop-reference-data.git target=_blank rel="noopener noreferrer">develop-reference-data<i class="fas fa-external-link-square-alt ms-1"></i></a><br>freertos源码：<a href=https://github.com/JingLuozz/FreeRTOS_Template.git target=_blank rel="noopener noreferrer">FreeRTOS_Template<i class="fas fa-external-link-square-alt ms-1"></i></a><br>小程序反汇编：<a href=https://github.com/wux1an/wxapkg target=_blank rel="noopener noreferrer">wxapkg<i class="fas fa-external-link-square-alt ms-1"></i></a><br>PDF编辑工具：<a href=https://github.com/Stirling-Tools/Stirling-PDF target=_blank rel="noopener noreferrer">Stirling-PDF<i class="fas fa-external-link-square-alt ms-1"></i></a><br>OCR通用验证码离线本地识别：<a href=https://github.com/sml2h3/ddddocr target=_blank rel="noopener noreferrer">ddddocr<i class="fas fa-external-link-square-alt ms-1"></i></a><br>通用的Ｃ基础库：<a href=https://github.com/gozfree/gear-lib/tree/master target=_blank rel="noopener noreferrer">gear-lib<i class="fas fa-external-link-square-alt ms-1"></i></a><br>Autosar配置界面：<a href=https://github.com/DD-Silence/Autosar-Configurator target=_blank rel="noopener noreferrer">Autosar-Configurator<i class="fas fa-external-link-square-alt ms-1"></i></a><br>校园二手商城微信小程序云开发：<a href=https://github.com/Taoshaoji/used-book-secondhand target=_blank rel="noopener noreferrer">used-book-secondhand<i class="fas fa-external-link-square-alt ms-1"></i></a><br>开源网络流量监控工具：<a href=https://github.com/GyulyVGC/sniffnet target=_blank rel="noopener noreferrer">sniffnet<i class="fas fa-external-link-square-alt ms-1"></i></a><br>防多次错误认证：<a href=https://github.com/fail2ban/fail2ban target=_blank rel="noopener noreferrer">fail2ban<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/ohmyzsh/ohmyzsh target=_blank rel="noopener noreferrer">ohmyzsh<i class="fas fa-external-link-square-alt ms-1"></i></a><br>文件类型识别：<a href=https://github.com/horsicq/Detect-It-Easy target=_blank rel="noopener noreferrer">Detect-It-Easy<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=编程相关书籍 data-numberify>编程相关书籍<a class="anchor ms-1" href=#编程相关书籍></a></h3><p><a href=https://ebookfoundation.github.io/free-programming-books/books/free-programming-books-zh.html target=_blank rel="noopener noreferrer">free-programming-books-zh<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/p-moon/develop-reference-data target=_blank rel="noopener noreferrer">https://github.com/p-moon/develop-reference-data<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/c66b10f688c1cde280b2633647f9b12e.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=747 height=465>
</picture><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/04e9159f6cfeaf9b62f16070292929eb.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=1073 height=952>
</picture><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/d10a5593174c1f0e66a2b2e83124d45f.png?v=ce3b8e14045c5f6335ba77953ad42678" loading=lazy width=1097 height=924></picture></p></div></div></div><div class=card-footer><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-down post-prev-icon me-1" data-fa-transform=rotate-90></i>
<a href=/docs/misc/>Misc</a></div><div class="post-nav post-next"><a href=/docs/linux/shell/terminalshortcutkeys/>终端快捷键</a>
<i class="fas fa-fw fa-chevron-down post-next-icon ms-1" data-fa-transform=rotate-270></i></div></div></div></article><div class="post-copyright mb-3 row card component" id=post-copyright><div class=card-header><h2 class="card-title fs-4 my-2 text-surface">版权</h2></div><div class=card-body></div></div><div class="card component row post-comments" id=post-comments><div class=card-header><h2 class="card-title my-2 fs-4 text-surface">评论</h2></div><div class=card-body><div class=giscus></div></div></div></div></div><aside class="sidebar d-flex docs-sidebar col-xxl-3 position-sticky order-xxl-5"><div class=container><div class="accordion post-toc d-none d-lg-block"><div class="accordion-item row mb-4 card component" id=postTOC><div class="card-header accordion-header"><h2 class="card-title fs-4 my-2 text-surface d-none d-lg-block">目录</h2><div class="d-none d-lg-flex gap-2 mb-2"><button id=expand-all-btn class="btn btn-sm btn-outline-primary">展开</button>
<button id=collapse-all-btn class="btn btn-sm btn-outline-secondary">折叠</button></div><a class="accordion-button d-lg-none mb-1 collapsed shadow-none p-0 bg-transparent" role=button data-bs-toggle=collapse href=#post-toc aria-expanded=false aria-controls=post-toc>目录</a></div><div class="card-body collapse accordion-collapse accordion-body d-lg-block" id=post-toc><nav id=post-toc-nav class="nav flex-column"><nav id=TableOfContents><ul><li><a href=#shell>shell</a><ul><li><a href=#代理>代理</a></li><li><a href=#文本处理>文本处理</a></li><li><a href=#sed>sed</a></li><li><a href=#echo颜色>echo颜色</a></li><li><a href=#自动补全>自动补全</a></li><li><a href=#添加用户用户组>添加用户/用户组</a></li><li><a href=#挂载网络目录>挂载网络目录</a></li><li><a href=#wget>wget</a></li><li><a href=#gerrit>gerrit</a></li><li><a href=#gerrit-与-jenkins-集成互通>gerrit 与 jenkins 集成互通</a></li><li><a href=#tab-忽略大小写>tab 忽略大小写</a></li><li><a href=#minicom>minicom</a></li></ul></li><li><a href=#bat>bat</a><ul><li><a href=#设置ip地址>设置ip地址</a></li><li><a href=#bat-计算时分秒>bat 计算时分秒</a></li><li><a href=#计划任务杀掉任务停止服务>计划任务/杀掉任务/停止服务</a></li><li><a href=#win自动上报ip地址>win自动上报ip地址</a></li><li><a href=#普通用户通过管理员提权>普通用户通过管理员提权</a></li><li><a href=#右键打开命令窗口>右键打开命令窗口</a></li><li><a href=#防火墙阻止出入站>防火墙阻止出入站</a></li></ul></li><li><a href=#正则表达式>正则表达式</a><ul><li><a href=#正则表达式基本点>正则表达式基本点：</a></li></ul></li><li><a href=#cmake>Cmake</a><ul><li><a href=#debug信息>debug信息</a></li><li><a href=#生成中间文件>生成中间文件</a></li></ul></li><li><a href=#git>Git</a><ul><li><a href=#本地仓库同步>本地仓库同步</a></li><li><a href=#git命令自动补全>Git命令自动补全</a></li><li><a href=#gitconfig>.gitconfig</a></li><li><a href=#sshconfig>.ssh/config</a></li><li><a href=#github多用户>github多用户</a></li><li><a href=#github查看仓库大小>github查看仓库大小</a></li><li><a href=#修改分支名>修改分支名</a></li><li><a href=#git-log>git log</a></li></ul></li><li><a href=#vscode>vscode</a><ul><li><a href=#tab四个空格>tab四个空格</a></li><li><a href=#tab与空格相互转换>tab与空格相互转换</a></li><li><a href=#文本换行>文本换行</a></li><li><a href=#代码折叠>代码折叠</a></li><li><a href=#vscode-的-ifdef-区域变灰>VSCode 的 #ifdef 区域变灰</a></li><li><a href=#settingsjson>settings.json</a></li><li><a href=#c_cpp_propertiesjson>c_cpp_properties.json</a></li><li><a href=#tasksjson>tasks.json</a></li><li><a href=#launchjson>launch.json</a></li><li><a href=#服务器连接异常>服务器连接异常</a></li><li><a href=#gtags-查找跳转>gtags 查找跳转</a></li><li><a href=#快捷键>快捷键</a></li><li><a href=#插件同步>插件同步</a></li><li><a href=#连接私钥配置>连接私钥配置</a></li><li><a href=#汇编调试断点>汇编调试断点</a></li><li><a href=#文件窗口查找>文件窗口查找</a></li><li><a href=#面包屑导航>面包屑导航</a></li></ul></li><li><a href=#vim>vim</a><ul><li><a href=#选择复制>选择复制</a></li><li><a href=#插入>插入</a></li></ul></li><li><a href=#docker>docker</a><ul><li><a href=#安装使用>安装使用</a></li><li><a href=#动态添加端口>动态添加端口</a></li></ul></li><li><a href=#ubuntu软件安装>ubuntu软件安装</a><ul><li><a href=#tmux分屏>tmux分屏</a></li><li><a href=#应用修改图标>应用修改图标</a></li><li><a href=#chrome谷歌浏览器>chrome谷歌浏览器</a></li><li><a href=#vscode-1>vscode</a></li><li><a href=#sougou>sougou</a></li><li><a href=#nas挂载>nas挂载</a></li><li><a href=#截图工具>截图工具</a></li><li><a href=#鼠标手势>鼠标手势</a></li><li><a href=#pdf阅读器>pdf阅读器</a></li><li><a href=#gedit自定义快捷键>gedit自定义快捷键</a></li><li><a href=#日历>日历</a></li><li><a href=#触摸板>触摸板</a></li><li><a href=#wine>Wine</a></li><li><a href=#python>python</a></li></ul></li><li><a href=#windows软件配置>windows软件配置</a><ul><li><a href=#chrome浏览器离线安装包>chrome浏览器离线安装包</a></li><li><a href=#beyond-compare魔法>Beyond Compare魔法</a></li><li><a href=#关闭自启动>关闭自启动</a></li><li><a href=#关闭windows-defender实时保护>关闭windows defender实时保护</a></li><li><a href=#ssh-server>ssh server</a></li><li><a href=#win获取ip地址>win获取ip地址</a></li><li><a href=#jlink下载>jlink下载</a></li><li><a href=#process-explorer>process-explorer</a></li><li><a href=#pslist>pslist</a></li><li><a href=#handle关联的句柄>Handle关联的句柄</a></li><li><a href=#proxy>proxy</a></li><li><a href=#sumatrapdf>SumatraPDF</a></li><li><a href=#桌面置顶>桌面置顶</a></li></ul></li><li><a href=#小工具>小工具</a><ul><li><a href=#删除pdf密码>删除Pdf密码</a></li><li><a href=#pdf加书签>PDF加书签</a></li><li><a href=#python加解密>python加解密</a></li><li><a href=#青龙>青龙</a></li><li><a href=#android>android</a></li><li><a href=#可启动u盘>可启动U盘</a></li></ul></li><li><a href=#github仓库>github仓库</a><ul><li><a href=#编程相关书籍>编程相关书籍</a></li></ul></li></ul></nav></nav></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){var t,n=e.querySelector("ul");n&&(t=document.createElement("button"),t.textContent="−",t.className="toc-toggle-btn",t.style.marginRight="6px",t.style.background="transparent",t.style.border="none",t.style.cursor="pointer",t.style.fontWeight="bold",t.style.color="#007bff",t.style.padding="0 4px 0 0",t.onclick=function(){n.style.display==="none"?(n.style.display="block",t.textContent="−"):(n.style.display="none",t.textContent="+")},n.style.display="block",e.insertBefore(t,e.firstChild))});const s=document.getElementById("expand-all-btn"),o=document.getElementById("collapse-all-btn");s.addEventListener("click",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){const t=e.querySelector("ul"),n=e.querySelector("button.toc-toggle-btn");t&&n&&(t.style.display="block",n.textContent="−")})}),o.addEventListener("click",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){const t=e.querySelector("ul"),n=e.querySelector("button.toc-toggle-btn");t&&n&&(t.style.display="none",n.textContent="+")})});const t=document.querySelectorAll("#post-toc-nav a"),e=[];t.forEach(t=>{const n=t.getAttribute("href");if(n&&n.startsWith("#")){const s=document.getElementById(n.slice(1));s&&e.push({link:t,target:s})}});function n(){let s=window.scrollY||window.pageYOffset;s+=100;let n=null;for(let t=0;t<e.length;t++){const{link:o,target:i}=e[t];if(i.offsetTop<=s)n=o;else break}t.forEach(e=>e.classList.remove("active")),n&&(n.classList.add("active"),n.scrollIntoView({block:"nearest",inline:"nearest"}))}window.addEventListener("scroll",n),n()})</script><style>#post-toc-nav a.active{font-weight:700;color:#856404;background-color:#fff3cd}.toc-toggle-btn{background:0 0;border:none;padding:0 6px 0 0}</style></div></aside></div></main><footer class="footer mt-auto py-3 text-center container"><div class="offcanvas offcanvas-bottom h-auto" tabindex=-1 id=offcanvasActionsPanel aria-labelledby=offcanvasActionsPanelLabel><div class=offcanvas-header><div class="offcanvas-title h5" id=offcanvasActionsPanelLabel><i class="fas fa-fw fa-th-large me-1"></i>
操作</div><button type=button class="btn-close ms-auto" data-bs-dismiss=offcanvas data-bs-target=offcanvasActionsPanel aria-label=Close></button></div><div class="offcanvas-body mt-2"><div class="social-share mb-4 d-flex overflow-auto"><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="X Share Button" target=_blank href="https://x.com/intent/tweet?title=%e6%87%92%e4%ba%ba%e6%8a%80%e6%9c%af%e6%89%8b%e5%86%8c&url=https%3a%2f%2f6668688.xyz%2fdocs%2fdoraemon%2f"><i class="fab fa-2x fa-fw fa-x-twitter mb-2"></i> X
</a><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2f6668688.xyz%2fdocs%2fdoraemon%2f"><i class="fab fa-2x fa-fw fa-facebook-f mb-2"></i> Facebook</a></div><hr class=mb-4><div class="actions d-flex overflow-auto align-items-center"><a role=button class="action action-go-back d-flex flex-column align-items-center me-3" href="javascript: window.history.back();"><span class="action-icon mb-2"><i class="fas fa-2x fa-chevron-circle-down" data-fa-transform=rotate-90></i></span> 返回
</a><a role=button class="action action-reload-page d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-redo-alt"></i></span> 刷新
</a><a role=button class="action action-copy-url d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-link"></i></span> 复制链接</a></div></div></div><div class="row text-center"><div class="col-12 mt-2"><p class=mb-2></p><p class="text-secondary mb-2"><small></small></p><div class="copyright mb-2 text-secondary"><small>Copyright © 2025-2025 zcsaoe. All Rights Reserved.</small></div><div class="powered-by mb-2 text-secondary"><small></small></div><nav class="social-links nav justify-content-center mb-2 mt-3"><a class="nav-link social-link p-0 me-1 mb-2" href=mailto:appleeeeo@protonmail.com title=电子邮箱><i class="fas fa-fw fa-2x fa-envelope" style=color:#0963ac></i>
</a><a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://github.com/zcsaoe title=GitHub rel=me><i class="fa-fw fa-2x fab fa-github"></i></a></nav></div><div class="col-12 col-lg-8 offset-0 offset-lg-1"></div></div></footer><script src=/js/plantuml-init.js></script><script data-precache src=/assets/main/bundle.min.308b9e94cdf6f582d972dced59d1ae76c2f26d6c0bc4f02dfa8f9cbcc182cd33.js integrity="sha256-MIuelM329YLZctztWdGudsLybWwLxPAt+o+cvMGCzTM=" crossorigin=anonymous async></script><script data-precache src=/assets/icons/bundle.min.c97d69b111f6a09609591bb9a37c799bba2cae89ca786b5729e53ce6113cb90c.js integrity="sha256-yX1psRH2oJYJWRu5o3x5m7osronKeGtXKeU85hE8uQw=" crossorigin=anonymous defer></script><script data-precache src=/assets/viewer/bundle.min.945567884be417f2aa4a3f7fb0171fc00a214c3c63dd586d110fc7b77d4d6077.js integrity="sha256-lFVniEvkF/KqSj9/sBcfwAohTDxj3VhtEQ/Ht31NYHc=" crossorigin=anonymous defer></script><script src=/js/sw-register.js defer></script><script src=https://giscus.app/client.js data-repo=zcsaoe/zcsaoe.github.io data-repo-id=R_kgDOPDagAg data-category=General data-category-id=DIC_kwDOPDagAs4CsLxl data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous defer></script></body></html>
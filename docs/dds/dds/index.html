<!doctype html><html class=position-relative itemscope itemtype=https://schema.org/WebPage lang=zh-hans data-bs-theme=auto><head><script src=/assets/init/bundle.min.397129316ebf5d0138f2a6eb945afea462097722c2aadea2126a46958286b68a.js integrity="sha256-OXEpMW6/XQE48qbrlFr+pGIJdyLCqt6iEmpGlYKGtoo=" crossorigin=anonymous></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>DDS -</title><link rel=icon href=/favicon_hu_34f9c9faf91b627e.webp sizes=16x16 type=image/webp><link rel=icon href=/favicon_hu_39d7e2e00a977bd3.webp sizes=32x32 type=image/webp><link rel=icon href=/favicon_hu_3b58e88b4b286a78.webp sizes=150x150 type=image/webp><link rel=apple-touch-icon href=/favicon_hu_3598ad0641f7f3c3.webp sizes=180x180 type=image/webp><link rel=icon href=/favicon_hu_144910b52c989e57.webp sizes=192x192 type=image/webp><link rel=mask-icon href=/safari-pinned-tab.svg color=#6f42c1><meta name=keywords content="Hugo,Bootstrap,博客主题"><meta name=description content><meta name=robots content="index, follow"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://6668688.xyz/images/DDS/2025-07-03-22-24-27.png"><meta name=twitter:title content="DDS"><meta property="og:url" content="https://6668688.xyz/docs/dds/dds/"><meta property="og:title" content="DDS"><meta property="og:locale" content="zh_hans"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-06-29T22:14:03+08:00"><meta property="article:modified_time" content="2025-07-30T11:59:26+08:00"><meta property="article:tag" content="DDS"><meta property="og:image" content="https://6668688.xyz/images/DDS/2025-07-03-22-24-27.png"><meta property="og:see_also" content="https://6668688.xyz/docs/dds/mvbs/"><meta itemprop=name content="DDS"><meta itemprop=datePublished content="2025-06-29T22:14:03+08:00"><meta itemprop=dateModified content="2025-07-30T11:59:26+08:00"><meta itemprop=wordCount content="7770"><meta itemprop=image content="https://6668688.xyz/images/DDS/2025-07-03-22-24-27.png"><meta itemprop=keywords content="DDS"><meta property="og:image:alt" content="DDS"><meta name=twitter:image:alt content="DDS"><link rel=manifest href=/manifest.json><script async src="https://www.googletagmanager.com/gtag/js?id=G-M4F16E8H84"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-M4F16E8H84")}</script><link data-precache rel=stylesheet href="/assets/main/bundle.min.ce65bf9631772ae4446986a427ad4b0905b130831e04d00d157736affa0a2527.css" integrity="sha256-zmW/ljF3KuREaYakJ61LCQWxMIMeBNANFXc2r/oKJSc=" crossorigin=anonymous><link data-precache rel=stylesheet href=/assets/viewer/bundle.min.16d2c85c4cae39a98f8cb7a977e95e554b174f91a5484c32605637156f49ca6b.css integrity="sha256-FtLIXEyuOamPjLepd+leVUsXT5GlSEwyYFY3FW9Jyms=" crossorigin=anonymous></head><body><header class="mb-4 sticky-top"><nav class="top-app-bar shadow navbar navbar-expand-xxl"><div class=container><button class="navbar-toggler border-0" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDocsNav aria-expanded=false aria-label="Toggle docs navigation">
<i class="fas fa-bars"></i>
</button>
<a class="navbar-brand d-flex align-items-center flex-grow-1 flex-xxl-grow-0 justify-content-xxl-start justify-content-center ms-2 ms-xxl-0 mx-auto me-xxl-2" href=https://6668688.xyz/><picture><img class=logo alt=Logo src="https://6668688.xyz/images/Mascot.webp?v=88ee2b425a21e70e9c871347d6877cb2" loading=lazy width=400 height=400></picture></a><div class="offcanvas-xxl offcanvas-end flex-grow-1" data-bs-scroll=true tabindex=-1 id=navbarMenus aria-labelledby=navbarMenusLabel><div class="offcanvas-header px-4 pb-0"><div class="offcanvas-title h5" id=navbarMenusLabel></div><button type=button class="btn-close btn-close-white" data-bs-dismiss=offcanvas data-bs-target=#navbarMenus aria-label=Close></button></div><div class="offcanvas-body p-4 pt-0 p-xxl-0"><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center me-auto"><li class="nav-item col-6 col-xxl-auto"><a class="nav-link py-2 px-0 px-xxl-2" href=https://6668688.xyz/onlinetools/>Online Tools</a></li></ul><hr class=d-xxl-none><form class="search-bar ms-auto my-auto" action=/search/ novalidate><div class="input-group align-items-center"><span class="btn btn-search disabled position-absolute left-0 border-0 px-1"><i class="fas fa-fw fa-search fa-lg"></i>
</span><input class="my-1 form-control border-white rounded-5 search-input bg-body" name=q type=search placeholder=搜索 aria-label=Search required>
<span class="search-shortcut position-absolute end-0 top-0 me-2"><kbd class="text-dark bg-white opacity-75 rounded-3 shadow border border-primary py-1 fw-bold">/</kbd></span></div></form><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center ms-md-auto"><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><nav class="social-links nav justify-content-center flex-row"><a class="nav-link social-link col-6 col-xxl-auto p-1" target=_blank href=https://github.com/zcsaoe title=GitHub rel=me><i class="fa-fw fab fa-github"></i>
<span class="ms-1 d-xxl-none">Github</span></a></nav></li><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown py-1 py-xxl-1 col-6 col-xxl-auto"><a class="nav-link px-0 px-xxl-1" href=# id=languageDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-globe"></i>
<span class=d-xxl-none>语言</span></a><ul class="language-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=languageDropdown><li><a class=dropdown-item href=/en/>English</a></li><li><a class="dropdown-item active" href=/>简体中文</a></li></ul></li><li class="nav-item py-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=fontSizeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-font"></i>
<span class=d-xxl-none>字体大小</span></a><ul class="font-size-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=fontSizeDropdown><li><button class="font-size-item dropdown-item" data-size=xs>
特小号</button></li><li><button class="font-size-item dropdown-item" data-size=sm>
小号</button></li><li><button class="font-size-item dropdown-item active" data-size=md>
中等</button></li><li><button class="font-size-item dropdown-item" data-size=lg>
大号</button></li><li><button class="font-size-item dropdown-item" data-size=xl>
特大号</button></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=paletteDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-palette"></i>
<span class=d-xxl-none>配色</span></a><ul class="palette-dropdown-menu dropdown-menu dropdown-menu-end px-2 row g-2" aria-labelledby=paletteDropdown><li class="col-4 my-1"><a role=button id=palette-blue aria-label=蓝色 class="btn btn-sm w-100 palette text-bg-blue" data-palette=blue></a></li><li class="col-4 my-1"><a role=button id=palette-blue-gray aria-label=蓝灰色 class="btn btn-sm w-100 palette text-bg-blue-gray" data-palette=blue-gray></a></li><li class="col-4 my-1"><a role=button id=palette-brown aria-label=棕色 class="btn btn-sm w-100 palette text-bg-brown" data-palette=brown></a></li><li class="col-4 my-1"><a role=button id=palette-cyan aria-label=青色 class="btn btn-sm w-100 palette text-bg-cyan" data-palette=cyan></a></li><li class="col-4 my-1"><a role=button id=palette-green aria-label=绿色 class="btn btn-sm w-100 palette text-bg-green" data-palette=green></a></li><li class="col-4 my-1"><a role=button id=palette-indigo aria-label=靛青色 class="btn btn-sm w-100 palette text-bg-indigo" data-palette=indigo></a></li><li class="col-4 my-1"><a role=button id=palette-orange aria-label=橙色 class="btn btn-sm w-100 palette text-bg-orange" data-palette=orange></a></li><li class="col-4 my-1"><a role=button id=palette-pink aria-label=粉色 class="btn btn-sm w-100 palette text-bg-pink" data-palette=pink></a></li><li class="col-4 my-1"><a role=button id=palette-purple aria-label=紫色 class="btn btn-sm w-100 palette text-bg-purple" data-palette=purple></a></li><li class="col-4 my-1"><a role=button id=palette-red aria-label=红色 class="btn btn-sm w-100 palette text-bg-red" data-palette=red></a></li><li class="col-4 my-1"><a role=button id=palette-teal aria-label=蓝绿色 class="btn btn-sm w-100 palette text-bg-teal" data-palette=teal></a></li><li class="col-4 my-1"><a role=button id=palette-yellow aria-label=黄色 class="btn btn-sm w-100 palette text-bg-yellow" data-palette=yellow></a></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=modeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="mode-icon fas fa-fw fa-adjust" id=modeIcon></i>
<span class=d-xxl-none>模式</span></a><ul class="mode-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=modeDropdown><li class=mode-item data-color-mode=light data-icon=sun><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-sun"></i> 浅色</button></li><li class=mode-item data-color-mode=dark data-icon=moon><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-moon"></i> 深色</button></li><li class="mode-item active" data-color-mode=auto data-icon=adjust><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-adjust"></i> 自动</button></li></ul></li></ul></div></div><div class=d-flex><button class="navbar-toggler order-5 border-0" type=button data-bs-toggle=offcanvas data-bs-target=#navbarMenus aria-controls=navbarMenus aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-h"></i></button></div></div></nav></header><main class="container has-sidebar" data-kind=page><script data-precache src=/js/main-init.fd48d66afb2d9a122b72b40b25ebae1b1338abcace96dbd4220b429bd5f5541d.js integrity="sha256-/UjWavstmhIrcrQLJeuuGxM4q8rOltvUIgtCm9X1VB0=" crossorigin=anonymous></script><div class="row content"><noscript><div class="alert alert-danger" role=alert>你的浏览器不支持 JavaScript。</div></noscript><aside class="docs-nav col-xxl-2" tabindex=-1 data-bs-hide=focusout><div class="offcanvas-xxl offcanvas-start" id=offcanvasDocsNav aria-labelledby=offcanvasDocsNavLabel><div class="offcanvas-header border-bottom"><div class="offcanvas-title h5" id=offcanvasDocsNavLabel>浏览文档</div><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close data-bs-target=#offcanvasDocsNav></button></div><div class="offcanvas-body pt-2 flex-column"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/autosar/autosar/><span class=docs-nav-title>Autosar</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/><span class=docs-nav-title>cpu</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-43cee4cb2ebee90cdb2b8ca8044577bf aria-expanded=false aria-controls=nav-43cee4cb2ebee90cdb2b8ca8044577bf><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-43cee4cb2ebee90cdb2b8ca8044577bf><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/><span class=docs-nav-title>arm</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-7a03c27cee416496e05a62ea9433788b aria-expanded=false aria-controls=nav-7a03c27cee416496e05a62ea9433788b><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-7a03c27cee416496e05a62ea9433788b><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/armv7-qemu/><span class=docs-nav-title>Armv7 Qemu</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/cortex-r/cortex-r52/cortex-r52/><span class=docs-nav-title>Cortex-R52</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/imx6ull-freertos/><span class=docs-nav-title>Imx6ull FreeRTOS</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/j6m/><span class=docs-nav-title>J6M</span></a></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/trace32/><span class=docs-nav-title>TRACE32使用教程</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/><span class=docs-nav-title>tricore</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-1f3d9527be3ac31576d7acaa74855ffa aria-expanded=false aria-controls=nav-1f3d9527be3ac31576d7acaa74855ffa><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-1f3d9527be3ac31576d7acaa74855ffa><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/tc397/><span class=docs-nav-title>Tc397</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/tc397_interrupt/><span class=docs-nav-title>Tc397中断子系统</span></a></li></ul></div></div></li></ul></div></div></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center text-primary"><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/><span class=docs-nav-title>DDS</span></a>
<a class="btn-toggle ms-1" role=button data-bs-toggle=collapse data-bs-target=#nav-00d405d37f8b4497a5196e63c7c5fd7b aria-expanded=true aria-controls=nav-00d405d37f8b4497a5196e63c7c5fd7b><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse show" id=nav-00d405d37f8b4497a5196e63c7c5fd7b><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1 text-primary border-2 border-start border-primary ps-2 docs-nav-active-item" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/dds/><span class=docs-nav-title>DDS</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/mvbs/><span class=docs-nav-title>mvbs</span></a></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/hello/><span class=docs-nav-title>Hello</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/markdown/markdown/><span class=docs-nav-title>Markdown</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/><span class=docs-nav-title>misc</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-887556bd011b7e588d0294d8266ab478 aria-expanded=false aria-controls=nav-887556bd011b7e588d0294d8266ab478><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-887556bd011b7e588d0294d8266ab478><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/hugo/><span class=docs-nav-title>Hugo</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/investment/funds/><span class=docs-nav-title>货币基金</span></a></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/doraemon/><span class=docs-nav-title>懒人技术手册</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/linux/shell/terminalshortcutkeys/><span class=docs-nav-title>终端快捷键</span></a></li></ul></div></div></aside><div class="col ms-auto content-docs"><div class=container-fluid><nav class="row card component" aria-label=breadcrumb><div class="card-body pb-0"><ol class="hbs-breadcrumb breadcrumb flex-nowrap"><li class="breadcrumb-item text-surface"><a href=/>主页</a></li><li class="breadcrumb-item text-surface"><a href=/docs/>docs</a></li><li class="breadcrumb-item text-surface"><a href=/docs/dds/>dds</a></li><li class="breadcrumb-item active">DDS</li></ol></div></nav><div class="post-panel-wrapper position-relative d-flex justify-content-center"><div class="d-flex flex-row justify-content-center rounded-5 border post-panel position-fixed px-3 py-1 surface shadow-1"><a class="action action-toc d-block d-xxl-none" href=#post-toc-container role=button title=目录><i class="fas fa-fw fa-list-alt"></i>
</a><a class="action action-copyright" href=#post-copyright role=button aria-label=Copyright title=版权><i class="fas fa-fw fa-copyright"></i>
</a><a class="action action-post-comments" href=#post-comments role=button aria-label=Comments title=评论><i class="fas fa-fw fa-comments"></i>
</a><a id=sidebarToggler class="action action-sidebar-toggler d-none d-xxl-block" role=button title=切换侧边栏><i class="fas fa-fw fa-expand-alt" data-fa-transform=rotate-45></i></a></div></div><article class="row card component mb-4 post"><div class=card-header><h1 class="card-title post-title my-2">DDS</h1></div><div class=card-body><div class="post-meta mb-3"><span class="post-date me-1 mb-1" title="创建于 2025-06-29 14:14:03 +0000 UTC，更新于 2025-07-30 03:59:26 +0000 UTC。">2025年6月29日</span><span class="post-reading-time me-1 mb-1">16 分钟阅读</span>
<span class="post-lastmod me-1 mb-1 text-muted">更新于 2025年7月30日
</span><a href=/categories/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-category"><i class="fas fa-fw fa-folder me-1"></i>网络通信</a><a href=/series/dds-%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%97/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-series">
<i class="fas fa-fw fa-columns me-1"></i>DDS 学习系列</a><a href=/tags/dds/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">DDS</a></div><picture class="d-flex justify-content-center"><img class="post-featured-img h-auto w-auto mb-3" alt=DDS src=https://6668688.xyz/images/DDS/2025-07-03-22-24-27.png></picture><div class="mt-2 mb-3 d-block d-xxl-none"><h2 class="text-surface mb-3">目录</h2><div id=post-toc-container></div><hr class=text-secondary></div><div class="post-content mb-3" data-bs-spy=scroll data-bs-target=#TableOfContents tabindex=0><div id=post-content-body><h2 id=名词解释 data-numberify>名词解释<a class="anchor ms-1" href=#名词解释></a></h2><table><thead><tr><th>缩略词</th><th>全称</th><th>详细解释</th><th>应用场景</th></tr></thead><tbody><tr><td>WLP</td><td>Writer Liveliness Protocol</td><td>用于检测发布者（Writer）存活状态的协议，通过定期发送心跳信号实现</td><td>故障检测、QoS中的LIVELINESS策略配置</td></tr><tr><td>CDR</td><td>Common Data Representation</td><td>DDS标准定义的数据编码格式，支持跨平台数据序列化（大端序/小端序自适应）</td><td>网络传输、持久化存储、跨语言（C++/Java等）数据交换</td></tr><tr><td>RTPS</td><td>Real-Time Publish-Subscribe</td><td>DDS底层通信协议，基于UDP实现实时发布订阅模式</td><td>设备发现、数据路由</td></tr><tr><td>QoS</td><td>Quality of Service</td><td>服务质量策略集合（如可靠性、延迟约束等）</td><td>配置数据传输的可靠性(RELIABLE/BEST_EFFORT)、持久性(DURABILITY)等</td></tr><tr><td>GUID</td><td>Global Unique Identifier</td><td>全局唯一标识符，格式：Prefix[12字节] + EntityId[4字节]</td><td>唯一标识DDS域中的参与者和终结点</td></tr><tr><td>DCPS</td><td>Data-Centric Publish-Subscribe</td><td>DDS核心API层，提供主题(Topic)、数据写入(DataWriter)/读取(DataReader)等抽象</td><td>应用程序开发接口</td></tr><tr><td>DDSI-RTPS</td><td>DDS Interoperability Wire Protocol</td><td>保证不同DDS实现间互操作的网络协议规范</td><td>多厂商DDS系统集成（如RTI Connext与Fast DDS通信）</td></tr><tr><td>IDL</td><td>Interface Definition Language</td><td>一种用于定义接口、数据类型和常量的语言无关描述语言，常用于分布式系统（如CORBA）或生成C++、Java、Python等语言的代码</td><td></td></tr></tbody></table><h2 id=socket data-numberify>socket<a class="anchor ms-1" href=#socket></a></h2><ul><li>Discovery traffic type<ul><li>multicast</li><li>unicast</li></ul></li><li>User traffic type<ul><li>multicast</li><li>unicast</li></ul></li></ul><p>mvbs中配置了三个socket：(不同的配置，对应不同的逻辑，比如组播socket只接收)</p><ul><li>发现组播socket: 发送/接收组播数据</li><li>发现单播socket: 接收发现单播数据</li><li>数据单播socket: 发送/接收单播数据</li></ul><h2 id=序列化与压缩算法 data-numberify>序列化与压缩算法<a class="anchor ms-1" href=#序列化与压缩算法></a></h2><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h2 id=异常 data-numberify>异常<a class="anchor ms-1" href=#异常></a></h2><h2 id=参考资料 data-numberify>参考资料<a class="anchor ms-1" href=#参考资料></a></h2><p><a href=https://fast-dds.docs.eprosima.com/en/latest/index.html target=_blank rel="noopener noreferrer">Fast DDS v3.2.2<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p><a href=https://github.com/eclipse-cyclonedds/cyclonedds target=_blank rel="noopener noreferrer">eclipse-cyclonedds/cyclonedds<i class="fas fa-external-link-square-alt ms-1"></i></a></p><blockquote><p>cmake -G &ldquo;Unix Makefiles&rdquo; -DBUILD_EXAMPLES=ON ..</p></blockquote><p><a href=https://www.omg.org/spec/DDS/ target=_blank rel="noopener noreferrer">omg/dds<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p><a href=https://www.omg.org/spec/DDSI-RTPS/ target=_blank rel="noopener noreferrer">omg/DDSI-RTPS<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p><a href=https://juejin.cn/post/7380268230798966824 target=_blank rel="noopener noreferrer">车载消息中间件FastDDS 源码解析（一）FastDDS 介绍和使用<i class="fas fa-external-link-square-alt ms-1"></i></a> c++版本源码分析</p><h2 id=dds-是什么 data-numberify>DDS 是什么<a class="anchor ms-1" href=#dds-是什么></a></h2><p>Data Distribution Service (DDS) 是一种由 Object Management Group (OMG) 制定的用于实时系统的数据分发标准，是一种中间件协议和 API，旨在实现高效、可靠、可扩展的机器对机器（M2M）通信。它基于**发布-订阅（Publish-Subscribe）**模型，特别适用于需要实时、高性能、分布式数据交换的场景。</p><h3 id=出现背景 data-numberify>出现背景<a class="anchor ms-1" href=#出现背景></a></h3><p>DDS 的开发始于 2001 年，OMG 在 2004 年发布了 DDS 1.0 版本，随后在 2005 年、2007 年和 2015 年分别发布了 1.1、1.2 和 1.4 版本。DDS 的出现是为了应对传统网络编程在复杂分布式系统中的挑战，尤其是在以下领域：</p><p>实时性要求高：如航空航天、国防、自动驾驶、医疗设备、机器人和智能电网管理。
分布式系统复杂性：传统网络通信需要手动管理连接、地址配置和数据格式，开发复杂且易出错。
高可靠性与可扩展性：传统中间件（如消息队列或基于 TCP 的通信）在高负载或动态网络环境中难以满足低延迟和高可靠性的需求。</p><h3 id=解决的问题 data-numberify>解决的问题<a class="anchor ms-1" href=#解决的问题></a></h3><p>DDS 通过以下特性解决了分布式实时系统的核心问题：</p><p>解耦发布者和订阅者：应用程序无需知道彼此的存在或位置，DDS 中间件自动处理消息传递，降低开发复杂性。
实时性与低延迟：基于 UDP 的 RTPS（Real-Time Publish-Subscribe）协议，延迟可低至数百微秒，适合实时应用。
可扩展性：支持从嵌入式设备到云端的大规模系统，动态发现新节点，适应网络变化。
灵活的 QoS（服务质量）：通过丰富的 QoS 策略，满足不同场景对可靠性、优先级、延迟等的特定需求。
安全性：支持认证、加密和访问控制，适用于安全敏感场景。
数据中心化：DDS 关注数据本身，允许定义数据结构和类型，支持内容过滤，减少不必要的数据传输。</p><p>DDS 广泛应用于国防（雷达、导航系统）、航空（空中交通控制）、工业 IoT（风力发电场）、机器人（ROS 2 默认中间件）以及自动驾驶等领域。例如，NASA 在肯尼迪航天中心使用 DDS 进行发射控制，波音和空客将其用于航空系统。</p><h2 id=dds-的架构概念 data-numberify>DDS 的架构概念<a class="anchor ms-1" href=#dds-的架构概念></a></h2><p>DDS 的架构基于**数据中心发布-订阅（Data-Centric Publish-Subscribe, DCPS）模型，核心理念是将数据组织在一个虚拟的全局数据空间（Global Data Space, GDS）**中，应用程序通过发布和订阅“主题（Topic）”交换数据。以下是关键概念：</p><ol><li>Participation（参与者）</li></ol><p>Domain Participant（域参与者）：DDS 中的顶级实体，表示一个应用程序参与 DDS 域（Domain）的实例。每个域由唯一的域 ID 标识，域是逻辑隔离的通信空间，域内参与者共享数据，域间数据不互通。
作用：域参与者负责创建发布者（Publisher）、订阅者（Subscriber）、主题（Topic）等，是应用程序与 DDS 中间件的接口。
特点：支持动态发现，自动识别域内其他参与者，无需手动配置 IP 地址或端口。</p><ol start=2><li>端口（Port）</li></ol><p>DDS 通常基于 RTPS（Real-Time Publish-Subscribe） 协议，使用 UDP 传输。端口在 DDS 中主要用于：
动态发现：通过特定的多播地址和端口（如默认 7400 端口）进行参与者和端点的发现。
数据传输：每个参与者分配一组端口用于发送和接收数据，端口号由域 ID 和参与者 ID 计算，遵循 RTPS 规范。</p><p>端口分配：RTPS 协议定义了端口映射规则，确保不同参与者、主题的数据通信不冲突。例如，参与者使用多播端口（如 239.255.0.1）进行发现，单播端口用于数据传输。</p><ol start=3><li>内置 Topic（Built-in Topics）</li></ol><p>定义：DDS 提供内置主题，用于管理元数据和系统状态，如参与者、发布者、订阅者的信息。
作用：
内置主题由 DDS 中间件自动发布和订阅，用于动态发现和管理。
例如，DCPSParticipant 主题记录域内所有参与者的信息，DCPSTopic 描述主题信息。</p><p>用途：支持动态发现、监控系统状态（如新节点加入或退出），确保系统无需手动配置即可运行。</p><h2 id=spdpsimple-participant-discovery-protocol data-numberify>SPDP（Simple Participant Discovery Protocol）<a class="anchor ms-1" href=#spdpsimple-participant-discovery-protocol></a></h2><p>定义：SPDP 是 RTPS 协议的一部分，用于发现域内的参与者（Domain Participants）。
工作原理：
每个参与者定期通过多播发送“参与者公告（Participant Announcement）”，包含其 ID、地址、端口和 QoS 等信息。
其他参与者接收公告后，更新本地参与者列表，建立通信。</p><p>特点：
使用多播地址（如 239.255.0.1）和特定端口（如 7400）。
支持动态加入和退出，无需预配置网络信息。</p><p>作用：SPDP 实现参与者的自动发现，简化分布式系统的部署。</p><h2 id=sedpsimple-endpoint-discovery-protocol data-numberify>SEDP（Simple Endpoint Discovery Protocol）<a class="anchor ms-1" href=#sedpsimple-endpoint-discovery-protocol></a></h2><p>定义：SEDP 是 RTPS 协议的另一部分，用于发现参与者内部的端点（DataWriter 和 DataReader）。
工作原理：
在 SPDP 发现参与者后，SEDP 交换端点信息，如发布者（Publisher）和订阅者（Subscriber）创建的 DataWriter 和 DataReader 的元数据（主题名称、数据类型、QoS 等）。
端点匹配后，建立数据通信通道。</p><p>特点：与 SPDP 协同工作，确保发布者和订阅者能够正确连接到匹配的主题。
作用：SEDP 完成主题级别的发现，确保数据流只发送到感兴趣的订阅者。</p><h2 id=序列化serialization data-numberify>序列化（Serialization）<a class="anchor ms-1" href=#序列化serialization></a></h2><h3 id=为什么需要序列化 data-numberify>为什么需要序列化<a class="anchor ms-1" href=#为什么需要序列化></a></h3><p>序列化是将数据对象转换为字节流以便在网络上传输的过程。DDS 使用序列化来：</p><p>统一数据表示：DDS 支持跨平台（不同操作系统、编程语言、硬件架构）通信，序列化确保数据以标准格式传输。
高效传输：序列化后的字节流紧凑，减少网络带宽占用。
数据类型支持：DDS 使用接口定义语言（IDL）定义数据结构，序列化确保复杂数据类型（如结构体、数组）正确传递。</p><p>不适用序列化的后果
如果不使用序列化，可能面临以下问题：</p><p>跨平台不兼容：不同系统的内存布局（如字节序）不同，数据无法正确解析。
传输效率低：未序列化的数据可能包含冗余信息，增加带宽消耗。
数据完整性问题：没有标准格式，可能导致数据丢失或错误解析。
开发复杂性：开发者需手动处理数据格式转换，增加编码和调试难度。</p><p>DDS 通过 CDR（Common Data Representation） 标准进行序列化，支持高效、跨平台的传输。DDS-XTypes 扩展进一步定义了动态类型系统，允许运行时调整数据结构。
QoS 概念（Quality of Service）
QoS（服务质量） 是 DDS 的核心特性，允许开发者通过配置参数控制数据通信的行为。DDS 定义了约 23 种 QoS 策略，适用于域参与者、主题、发布者、订阅者、DataWriter 和 DataReader。以下是主要 QoS 策略：</p><p>可靠性（Reliability）：
RELIABLE：保证数据可靠送达，类似 TCP，适用于关键数据。
BEST_EFFORT：尽力而为，类似 UDP，适用于对延迟敏感的场景。</p><p>持久性（Durability）：
VOLATILE：数据不存储，适用于瞬时数据。
TRANSIENT/PERSISTENT：支持晚加入的订阅者获取历史数据。</p><p>延迟预算（Latency Budget）：定义数据传输的期望延迟。
优先级（Transport Priority）：为重要数据分配更高优先级。
寿命（Lifespan）：设置数据有效期，过期数据自动丢弃。
历史（History）：控制保留的数据样本数量（如 KEEP_LAST 或 KEEP_ALL）。
安全性（Security）：支持认证、加密和访问控制。</p><p>作用：QoS 提供细粒度的控制，开发者可根据应用需求（如实时性、可靠性、资源限制）优化通信行为。例如，自动驾驶系统可能要求低延迟和高可靠性，而日志系统可能优先持久性。
数据格式
DDS 的数据格式基于 接口定义语言（IDL），用于定义主题的数据结构。数据格式特点：</p><p>类型安全：通过 IDL 定义强类型数据（如结构体、枚举、数组），确保发布者和订阅者使用一致的格式。
可扩展性：DDS-XTypes 支持动态类型，允许运行时修改数据结构。
内容过滤：订阅者可通过 QoS 设置内容过滤器，仅接收感兴趣的数据，减少带宽浪费。
序列化格式：使用 CDR 标准，支持跨平台传输，兼容 C++、Java、Python 等语言。</p><p>示例 IDL：
struct SensorData {
long id;
float temperature;
float humidity;
};</p><p>此 IDL 定义了一个主题 SensorData，包含传感器 ID、温度和湿度字段，发布者将其序列化为字节流，订阅者反序列化后使用。
总结
DDS 是一种强大的实时分布式系统中间件，通过发布-订阅模型、全局数据空间和丰富的 QoS 策略，解决了传统网络通信的复杂性、低效性和可靠性问题。其架构中的参与者、端口、内置主题、SPDP、SEDP、序列化和数据格式共同构成了高效、可扩展的通信框架。DDS 广泛应用于需要高性能、实时性和可靠性的场景，如自动驾驶、航空航天和工业 IoT，是现代分布式系统的关键技术。</p><h2 id=spdp简单域参与者发现协议 data-numberify>SPDP(简单域参与者发现协议)<a class="anchor ms-1" href=#spdp简单域参与者发现协议></a></h2><h2 id=sedp简单终端发现协议 data-numberify>SEDP(简单终端发现协议)<a class="anchor ms-1" href=#sedp简单终端发现协议></a></h2><h2 id=discovery发现 data-numberify>Discovery（发现）<a class="anchor ms-1" href=#discovery发现></a></h2><p>分布式系统中的参与者（Participants）通过特定的机制发现彼此的存在、Topic、DataWriter 和 DataReader，以便建立数据通信。DDS 使用 RTPS（Real-Time Publish-Subscribe）协议 来实现发现过程，主要包括两种发现机制：Participant Discovery（参与者发现） 和 Endpoint Discovery（端点发现）</p><h3 id=1-dds-发现机制概述 data-numberify>1. DDS 发现机制概述<a class="anchor ms-1" href=#1-dds-发现机制概述></a></h3><p>DDS 的发现过程确保系统中的所有参与者能够动态地找到彼此并匹配发布者和订阅者的需求，而无需手动配置网络地址。发现过程分为两个阶段：</p><ul><li><p>Participant Discovery Phase (PDP)：</p><ul><li><p>目的：发现网络中的其他 DomainParticipant（域参与者）。</p></li><li><p>机制：每个 DomainParticipant 周期性地广播自己的信息（包括唯一标识 GUID、IP 地址、端口等）。</p></li><li><p>数据：通过 SPDP（Simple Participant Discovery Protocol） 发送 SPDPdiscoveredParticipantData 数据，包含参与者的元信息。</p></li><li><p>方式：通常使用多播（Multicast）或单播（Unicast）发送到预定义的地址（如 RTPS 默认的多播地址 239.255.0.1）。</p></li></ul></li><li><p>Endpoint Discovery Phase (EDP)：</p><ul><li><p>目的：发现其他参与者的 DataWriter 和 DataReader（统称为端点）。</p></li><li><p>机制：在 PDP 完成后，参与者交换其 DataWriter 和 DataReader 的信息（如 Topic 名称、数据类型、QoS 设置等）。</p></li><li><p>数据：通过 SEDP（Simple Endpoint Discovery Protocol） 发送端点信息，例如 DiscoveredWriterData 和 DiscoveredReaderData。</p></li><li><p>匹配：DataWriter 和 DataReader 根据 Topic 名称、数据类型和 QoS 兼容性进行匹配。</p></li></ul></li></ul><hr><h3 id=发送-discovery-的过程 data-numberify>发送 Discovery 的过程<a class="anchor ms-1" href=#发送-discovery-的过程></a></h3><p>在 DDS 中，发送 Discovery 数据的具体流程如下：</p><ol><li><p>启动 DomainParticipant：</p><ul><li><p>当一个应用启动并创建一个 DomainParticipant 时，它会加入一个特定的 Domain（域 ID）。</p></li><li><p>参与者会自动初始化内置的 DataWriter 和 DataReader，用于发送和接收发现数据。</p></li></ul></li><li><p>发送 SPDP 数据（参与者发现）：</p><ul><li><p>参与者通过内置的 SPDP DataWriter 周期性地发送 SPDPdiscoveredParticipantData。</p></li><li><p>数据内容包括：</p><ul><li><p>参与者的 GUID（全局唯一标识符）。</p></li><li><p>网络地址（IP 和端口）。</p></li><li><p>QoS 设置（如租约持续时间 LeaseDuration）。</p></li></ul></li><li><p>发送方式：</p><ul><li><p>默认使用多播地址（239.255.0.1，端口由 Domain ID 和 RTPS 规则确定）。</p></li><li><p>如果多播不可用，可以配置为单播。</p></li></ul></li><li><p>频率：根据 QoS 中的 LeaseDuration 设置，周期性发送以保持“存活”状态。</p></li></ul></li><li><p>发送 SEDP 数据（端点发现）：</p><ul><li><p>一旦两个参与者通过 SPDP 发现彼此，它们会通过内置的 SEDP DataWriter 发送各自的端点信息。</p></li><li><p>数据内容包括：</p><ul><li><p>DataWriter 的信息：Topic 名称、数据类型、QoS、是否带 Key（例如 Writer with Key 的 entityKind 为 0x02 或 0xc2）。</p></li><li><p>DataReader 的信息：类似的元数据。</p></li></ul></li><li><p>匹配过程：接收方根据 Topic、数据类型和 QoS 检查是否匹配，匹配成功后建立通信。</p></li></ul></li><li><p>持续更新：</p><ul><li><p>发现数据会定期发送，以处理动态加入或离开的参与者。</p></li><li><p>如果某个参与者停止发送发现数据（超过 LeaseDuration），其他参与者会认为它已离线。</p></li></ul></li></ol><h2 id=entitykind data-numberify>entityKind<a class="anchor ms-1" href=#entitykind></a></h2><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h2 id=submessageid data-numberify>SubmessageId<a class="anchor ms-1" href=#submessageid></a></h2><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h2 id=parameterid data-numberify>ParameterID<a class="anchor ms-1" href=#parameterid></a></h2><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h2 id=端口计算 data-numberify>端口计算<a class="anchor ms-1" href=#端口计算></a></h2><p>RTPS端口基于以下公式计算：</p><ul><li><p>基端口号（PB）：默认7400。</p></li><li><p>域增益（DG）：通常250。</p></li><li><p>参与者增益（PG）：通常2。</p></li><li><p>偏移（d0, d1, d2, d3）：</p><ul><li><p>多播发现（0）</p></li><li><p>单播发现（10）</p></li><li><p>多播用户数据（1）</p></li><li><p>单播用户数据（11）。</p></li></ul></li></ul><p>对于Domain ID = 0，Participant ID = 0：</p><ul><li><p>发现多播端口：PB + DG * Domain_ID + d0 = 7400 + 250 * 0 + 0 = 7400</p></li><li><p>发现单播端口：PB + DG * Domain_ID + d1 + PG * Participant_ID = 7400 + 250 * 0 + 10 + 2 * 0 = 7410</p></li><li><p>用户数据多播端口：PB + DG * Domain_ID + d2 = 7400 + 250 * 0 + 1 = 7401</p></li><li><p>用户数据单播端口：PB + DG * Domain_ID + d3 + PG * Participant_ID = 7400 + 250 * 0 + 11 + 2 * 0 = 7411</p></li></ul><h2 id=网络报文 data-numberify>网络报文<a class="anchor ms-1" href=#网络报文></a></h2><h3 id=tcp头部 data-numberify>tcp头部<a class="anchor ms-1" href=#tcp头部></a></h3><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>数据偏移：数据部分往后偏移，这是TCP的<strong>头部长度</strong>字段，代表有多少个32bit，即1代表32bit，2代表64bit。
一共4位最大为15，15×32=480b=60B。所以头部最大为60个字节，最小为20字节。TCP头部的长度可以变化，因此可以承载更多的数据。注意这里必须使用32位的数据，用来快速定位数据部分的位置，所以没有那么多数据的话需要在后面进行填充</p><h3 id=udp头部 data-numberify>udp头部<a class="anchor ms-1" href=#udp头部></a></h3><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>UDP最小长度：即无数据的情况下，仅首部长度8字节。</p><p>数据部分最小长度：即无数据的情况下，0字节。</p><p>UDP最大长度：因长度字段16位限制，所以最大长度为2(16)-1=65535字节。</p><p>数据部分最大长度：即UDP最大长度-IP最小头部-UDP头部，2(16)-1-20-8=65507字节</p><h3 id=ip头部 data-numberify>ip头部<a class="anchor ms-1" href=#ip头部></a></h3><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>总长度： 指整个数据报的长度（以字节为单位）。占16bit，最大长度为65535字节。</p><p>协议：标识了上层所使用的协议</p><p>01 ICMP</p><p>02 IGMP</p><p>06 TCP</p><p>17 UDP</p><p>88 IGRP</p><p>89 OSPF</p><h3 id=数据链路层头部 data-numberify>数据链路层头部<a class="anchor ms-1" href=#数据链路层头部></a></h3><p><picture><img class=img-fluid alt src loading=lazy></picture></p><blockquote><p>最小帧：64字节，这是根据CSMA/CD的标准推导出。</p><p>帧头部：14字节，6字节目的地址+6字节源地址+2字节长度/类型=14字节。</p><p>帧中最小数据：64字节-6字节目的地址-6字节源地址-2字节长度/类型-4字节FCS字段(CRC)=<strong>46字节</strong>。</p><p>最大数据：即MTU=1500字节。</p><p>最大帧：MTU+帧头部14字节+FCS4字节=1518字节。</p><p>以上均未考虑前导码。</p></blockquote><h3 id=有效数据长度 data-numberify>有效数据长度<a class="anchor ms-1" href=#有效数据长度></a></h3><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>链路层传输字段的最小长度是64,链路协议占了18,64-18=46，即为最小数据长度</p><p>MTU的长度：</p><p>TCP最大数据长度：1500-20-20 = 1460（ipv4） 1440（ipv6）</p><p>UDP最大数据长度：1500-20-8 = 1472（ipv4） 1452（ipv6）</p><h2 id=rtps协议 data-numberify>RTPS协议<a class="anchor ms-1" href=#rtps协议></a></h2><p>RTPS 消息由固定长度的报头(Header)和可变数量的子消息(submessage)组成。其中，每个RTPS消息可以包括可变数量的子消息。消息总长度由下层的传输协议确定，目前RTPS协议中应用UDP/IP作为传输层协议。RTPS消息的组成如下图所示：</p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h3 id=消息报头 data-numberify>消息报头<a class="anchor ms-1" href=#消息报头></a></h3><p>消息报头必须存在于每个消息的开头，用以识别RTPS消息、协议版本和中间件所属供应商，主要包括协议、协议版本、全局唯一标识符前缀三个字段。其中协议字段用于标识消息属于RTPS消息，全局唯一标识符前缀被消息中所有子消息共用，表示所属的参与者。</p><h3 id=子消息 data-numberify>子消息<a class="anchor ms-1" href=#子消息></a></h3><p>每个子消息包括两部分，即子消息报头(SubmessageHeader)和一组子消息元素(SubmessageElement)。子消息报头包括子消息标识符、子消息标志、子消息长度三部分。其中，子消息标识符是RTPS中规定的用于标识特定子消息类型的值；子消息标志用于标识子消息的字节序及与具体子消息类型相关的标志位信息；子消息长度不包括子消息报头的长度。RTPS支持多种类型的子消息元素，常用的子消息元素如下图3所示：</p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h3 id=消息分类 data-numberify>消息分类<a class="anchor ms-1" href=#消息分类></a></h3><p>根据子消息与RTPS实体的关系及对消息接收器的影响，分为实体子消息和解释器子消息两大类，常用的RTPS子消息可细分如下表所示。</p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>不同子消息在组成上的差异主要体现在三个方面，即子消息标志、子消息长度、子消息元素组合。以数据子消息为例，数据子消息的布局如下图4所示：</p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><blockquote><p>▷ 子消息标志：</p><p>• E标识消息的字节序；</p><p>• Q标识子消息中是否有内联QoS参数；</p><p>• D标识本消息的负载字段是否包含数据对象的序列化值；</p><p>• K标识本消息的负载字段是否包含数据对象的关键字序列化值；</p><p>• N标识负载的序列化是否已按照当前使用标准实施。</p><p>▷ readerId标识相关的读取者；</p><p>▷ writerId标识相关的写入者实体；</p><p>▷ writerSN 标识写入者赋予变更的序列号；</p><p>▷ inlineQos标识内联的QoS参数(仅在Q=1时有效)；</p><p>▷ serializedPayload标识负载的类型：</p><p>• 当D=1时此字段包含数据对象的序列化值；</p><p>• 当K=1时此字段包含数据对象关键字的序列化值；</p><p>• D和K不能同时置1。</p></blockquote><h3 id=序列化负载 data-numberify>序列化负载<a class="anchor ms-1" href=#序列化负载></a></h3><p>列化负载包括报头和内容两部分。其中，报头由表示标识符和表示选项组成，表示标识符规定了数据表示形式，表示选项部分目前未使用，全部置0。常用的端点表示标识符如下表2所示：</p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>以内置端点序列化负载为例，对于主题名称为square、主题类型为ShapeType的DDS数据读取者，在端点发现过程中声明该数据读取者传输的数据子消息序列化负载如下图所示。</p><p><picture><img class=img-fluid alt src loading=lazy></picture></p><p>由上图可知，表示标识符为PL_LE，即采用小端表示（图中黑色方框）；数据读取者的端点GUID为C0:A8:02:05:00:00:3A:20:00:00:02:80:00:00:07（图中绿色方框）；目的地顺序QoS的类型为基于源时间戳（图中橙色方框）；截止期限QoS为3秒（图中蓝色方框）。</p><h2 id=faq data-numberify>FAQ<a class="anchor ms-1" href=#faq></a></h2><h3 id=数据格式 data-numberify>数据格式<a class="anchor ms-1" href=#数据格式></a></h3><p><picture><img class=img-fluid alt src loading=lazy></picture></p><h3 id=topic广播 data-numberify>topic广播<a class="anchor ms-1" href=#topic广播></a></h3><h3 id=有客户端服务端的概念 data-numberify>有客户端服务端的概念？<a class="anchor ms-1" href=#有客户端服务端的概念></a></h3><p>只要向tipic写入就行，那么写入者读取者的消息缓存在哪里，send？ read？ topic？</p><p>域参与者发现协议（Participant Discovery Protocol，PDP）？</p><p>端点发现协议（Endpoint Discovery Protocol，EDP）？</p><p>怎么广播服务，接收端如何知道建立连接的？</p><h2 id=参考 data-numberify>参考<a class="anchor ms-1" href=#参考></a></h2><p>vendor：https://www.dds-foundation.org/dds-rtps-vendor-and-product-ids/</p><p>RTPS：https://www.omg.org/spec/DDSI-RTPS/2.5/PDF</p></div></div></div><div class=card-footer><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-next"><a href=/docs/dds/mvbs/>Mvbs</a>
<i class="fas fa-fw fa-chevron-down post-next-icon ms-1" data-fa-transform=rotate-270></i></div></div></div></article><div class="post-copyright mb-3 row card component" id=post-copyright><div class=card-header><h2 class="card-title fs-4 my-2 text-surface">版权</h2></div><div class=card-body></div></div><div class="card component row post-comments" id=post-comments><div class=card-header><h2 class="card-title my-2 fs-4 text-surface">评论</h2></div><div class=card-body><div class=giscus></div></div></div></div></div><aside class="sidebar d-flex docs-sidebar col-xxl-3 position-sticky order-xxl-5"><div class=container><div class="accordion post-toc d-none d-lg-block"><div class="accordion-item row mb-4 card component" id=postTOC><div class="card-header accordion-header"><h2 class="card-title fs-4 my-2 text-surface d-none d-lg-block">目录</h2><div class="d-none d-lg-flex gap-2 mb-2"><button id=expand-all-btn class="btn btn-sm btn-outline-primary">展开</button>
<button id=collapse-all-btn class="btn btn-sm btn-outline-secondary">折叠</button></div><a class="accordion-button d-lg-none mb-1 collapsed shadow-none p-0 bg-transparent" role=button data-bs-toggle=collapse href=#post-toc aria-expanded=false aria-controls=post-toc>目录</a></div><div class="card-body collapse accordion-collapse accordion-body d-lg-block" id=post-toc><nav id=post-toc-nav class="nav flex-column"><nav id=TableOfContents><ul><li><a href=#名词解释>名词解释</a></li><li><a href=#socket>socket</a></li><li><a href=#序列化与压缩算法>序列化与压缩算法</a></li><li><a href=#异常>异常</a></li><li><a href=#参考资料>参考资料</a></li><li><a href=#dds-是什么>DDS 是什么</a><ul><li><a href=#出现背景>出现背景</a></li><li><a href=#解决的问题>解决的问题</a></li></ul></li><li><a href=#dds-的架构概念>DDS 的架构概念</a></li><li><a href=#spdpsimple-participant-discovery-protocol>SPDP（Simple Participant Discovery Protocol）</a></li><li><a href=#sedpsimple-endpoint-discovery-protocol>SEDP（Simple Endpoint Discovery Protocol）</a></li><li><a href=#序列化serialization>序列化（Serialization）</a><ul><li><a href=#为什么需要序列化>为什么需要序列化</a></li></ul></li><li><a href=#spdp简单域参与者发现协议>SPDP(简单域参与者发现协议)</a></li><li><a href=#sedp简单终端发现协议>SEDP(简单终端发现协议)</a></li><li><a href=#discovery发现>Discovery（发现）</a><ul><li><a href=#1-dds-发现机制概述>1. <strong>DDS 发现机制概述</strong></a></li><li><a href=#发送-discovery-的过程><strong>发送 Discovery 的过程</strong></a></li></ul></li><li><a href=#entitykind>entityKind</a></li><li><a href=#submessageid>SubmessageId</a></li><li><a href=#parameterid>ParameterID</a></li><li><a href=#端口计算>端口计算</a></li><li><a href=#网络报文>网络报文</a><ul><li><a href=#tcp头部>tcp头部</a></li><li><a href=#udp头部>udp头部</a></li><li><a href=#ip头部>ip头部</a></li><li><a href=#数据链路层头部>数据链路层头部</a></li><li><a href=#有效数据长度>有效数据长度</a></li></ul></li><li><a href=#rtps协议>RTPS协议</a><ul><li><a href=#消息报头><strong>消息报头</strong></a></li><li><a href=#子消息><strong>子消息</strong></a></li><li><a href=#消息分类><strong>消息分类</strong></a></li><li><a href=#序列化负载><strong>序列化负载</strong></a></li></ul></li><li><a href=#faq>FAQ</a><ul><li><a href=#数据格式>数据格式</a></li><li><a href=#topic广播>topic广播</a></li><li><a href=#有客户端服务端的概念>有客户端服务端的概念？</a></li></ul></li><li><a href=#参考>参考</a></li></ul></nav></nav></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){var t,n=e.querySelector("ul");n&&(t=document.createElement("button"),t.textContent="−",t.className="toc-toggle-btn",t.style.marginRight="6px",t.style.background="transparent",t.style.border="none",t.style.cursor="pointer",t.style.fontWeight="bold",t.style.color="#007bff",t.style.padding="0 4px 0 0",t.onclick=function(){n.style.display==="none"?(n.style.display="block",t.textContent="−"):(n.style.display="none",t.textContent="+")},n.style.display="block",e.insertBefore(t,e.firstChild))});const s=document.getElementById("expand-all-btn"),o=document.getElementById("collapse-all-btn");s.addEventListener("click",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){const t=e.querySelector("ul"),n=e.querySelector("button.toc-toggle-btn");t&&n&&(t.style.display="block",n.textContent="−")})}),o.addEventListener("click",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){const t=e.querySelector("ul"),n=e.querySelector("button.toc-toggle-btn");t&&n&&(t.style.display="none",n.textContent="+")})});const t=document.querySelectorAll("#post-toc-nav a"),e=[];t.forEach(t=>{const n=t.getAttribute("href");if(n&&n.startsWith("#")){const s=document.getElementById(n.slice(1));s&&e.push({link:t,target:s})}});function n(){let s=window.scrollY||window.pageYOffset;s+=100;let n=null;for(let t=0;t<e.length;t++){const{link:o,target:i}=e[t];if(i.offsetTop<=s)n=o;else break}t.forEach(e=>e.classList.remove("active")),n&&(n.classList.add("active"),n.scrollIntoView({block:"nearest",inline:"nearest"}))}window.addEventListener("scroll",n),n()})</script><style>#post-toc-nav a.active{font-weight:700;color:#856404;background-color:#fff3cd}.toc-toggle-btn{background:0 0;border:none;padding:0 6px 0 0}</style></div></aside></div></main><footer class="footer mt-auto py-3 text-center container"><div class="offcanvas offcanvas-bottom h-auto" tabindex=-1 id=offcanvasActionsPanel aria-labelledby=offcanvasActionsPanelLabel><div class=offcanvas-header><div class="offcanvas-title h5" id=offcanvasActionsPanelLabel><i class="fas fa-fw fa-th-large me-1"></i>
操作</div><button type=button class="btn-close ms-auto" data-bs-dismiss=offcanvas data-bs-target=offcanvasActionsPanel aria-label=Close></button></div><div class="offcanvas-body mt-2"><div class="social-share mb-4 d-flex overflow-auto"><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="X Share Button" target=_blank href="https://x.com/intent/tweet?title=DDS&url=https%3a%2f%2f6668688.xyz%2fdocs%2fdds%2fdds%2f"><i class="fab fa-2x fa-fw fa-x-twitter mb-2"></i> X
</a><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2f6668688.xyz%2fdocs%2fdds%2fdds%2f"><i class="fab fa-2x fa-fw fa-facebook-f mb-2"></i> Facebook</a></div><hr class=mb-4><div class="actions d-flex overflow-auto align-items-center"><a role=button class="action action-go-back d-flex flex-column align-items-center me-3" href="javascript: window.history.back();"><span class="action-icon mb-2"><i class="fas fa-2x fa-chevron-circle-down" data-fa-transform=rotate-90></i></span> 返回
</a><a role=button class="action action-reload-page d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-redo-alt"></i></span> 刷新
</a><a role=button class="action action-copy-url d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-link"></i></span> 复制链接</a></div></div></div><div class="row text-center"><div class="col-12 mt-2"><p class=mb-2></p><p class="text-secondary mb-2"><small></small></p><div class="copyright mb-2 text-secondary"><small>Copyright © 2025-2025 zcsaoe. All Rights Reserved.</small></div><div class="powered-by mb-2 text-secondary"><small></small></div><nav class="social-links nav justify-content-center mb-2 mt-3"><a class="nav-link social-link p-0 me-1 mb-2" href=mailto:appleeeeo@protonmail.com title=电子邮箱><i class="fas fa-fw fa-2x fa-envelope" style=color:#0963ac></i>
</a><a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://github.com/zcsaoe title=GitHub rel=me><i class="fa-fw fa-2x fab fa-github"></i></a></nav></div><div class="col-12 col-lg-8 offset-0 offset-lg-1"></div></div></footer><script src=/js/plantuml-init.js></script><script data-precache src=/assets/main/bundle.min.308b9e94cdf6f582d972dced59d1ae76c2f26d6c0bc4f02dfa8f9cbcc182cd33.js integrity="sha256-MIuelM329YLZctztWdGudsLybWwLxPAt+o+cvMGCzTM=" crossorigin=anonymous async></script><script data-precache src=/assets/icons/bundle.min.c97d69b111f6a09609591bb9a37c799bba2cae89ca786b5729e53ce6113cb90c.js integrity="sha256-yX1psRH2oJYJWRu5o3x5m7osronKeGtXKeU85hE8uQw=" crossorigin=anonymous defer></script><script data-precache src=/assets/viewer/bundle.min.945567884be417f2aa4a3f7fb0171fc00a214c3c63dd586d110fc7b77d4d6077.js integrity="sha256-lFVniEvkF/KqSj9/sBcfwAohTDxj3VhtEQ/Ht31NYHc=" crossorigin=anonymous defer></script><script src=/js/sw-register.js defer></script><script src=https://giscus.app/client.js data-repo=zcsaoe/zcsaoe.github.io data-repo-id=R_kgDOPDagAg data-category=General data-category-id=DIC_kwDOPDagAs4CsLxl data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous defer></script></body></html>
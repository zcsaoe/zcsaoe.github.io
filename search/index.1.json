[{"authors":[],"categories":[],"content":" hugoä¸»é¢˜ä¿®æ”¹ï¼Œè°ƒè¯•ç­‰\nhugoè°ƒè¯•æŠ€å·§ hugoå‡½æ•°api\nHugo å®˜æ–¹ Markdown æŒ‡å—\nShortcodes æ–‡æ¡£\nå¸¸ç”¨è°ƒè¯•å˜é‡/å¯¹è±¡æ¸…å• å˜é‡/å¯¹è±¡ è¯´æ˜ ç”¨æ³•ç¤ºä¾‹ .Page å½“å‰é¡µé¢å¯¹è±¡ï¼Œå‡ ä¹æ‰€æœ‰é¡µé¢ç›¸å…³ä¿¡æ¯éƒ½åœ¨è¿™é‡Œ {{ .Page.Title }} .Params å½“å‰é¡µé¢ front matter ä¸­çš„å‚æ•° {{ .Params.author }} .File å½“å‰å†…å®¹æ–‡ä»¶ä¿¡æ¯ï¼Œå¦‚è·¯å¾„ã€ç›®å½•ã€æ‰©å±•å {{ .File.Path }} .Site ç«™ç‚¹å…¨å±€ä¿¡æ¯ï¼Œå¦‚ç«™ç‚¹é…ç½®ã€è¯­è¨€ã€èœå•ç­‰ {{ .Site.Title }} .Site.Params ç«™ç‚¹å…¨å±€é…ç½®æ–‡ä»¶ config.toml ä¸­çš„ [params] {{ .Site.Params.logo }} .IsHome å¸ƒå°”å€¼ï¼Œæ˜¯å¦é¦–é¡µ {{ if .IsHome }}é¦–é¡µ{{ end }} .IsPage æ˜¯å¦ä¸ºå•é¡µï¼ˆå•ç¯‡å†…å®¹ï¼‰ {{ if .IsPage }}å•é¡µ{{ end }} .IsSection æ˜¯å¦ä¸ºæŸä¸ªå†…å®¹åŒºå—ï¼ˆSectionï¼‰ {{ if .IsSection }}åŒºå—é¡µ{{ end }} .IsNode æ˜¯å¦ä¸ºèŠ‚ç‚¹é¡µé¢ï¼ˆSection æˆ–åˆ—è¡¨é¡µï¼‰ {{ if .IsNode }}èŠ‚ç‚¹é¡µ{{ end }} .IsTaxonomy æ˜¯å¦ä¸ºåˆ†ç±»æˆ–æ ‡ç­¾åˆ—è¡¨é¡µ {{ if .IsTaxonomy }}åˆ†ç±»é¡µ{{ end }} .IsTaxonomyTerm æ˜¯å¦ä¸ºåˆ†ç±»æˆ–æ ‡ç­¾æ±‡æ€»é¡µ {{ if .IsTaxonomyTerm }}æ±‡æ€»é¡µ{{ end }} .Title å½“å‰é¡µé¢æ ‡é¢˜ {{ .Title }} .Content é¡µé¢æ­£æ–‡ HTML å†…å®¹ {{ .Content }} .RawContent é¡µé¢åŸå§‹ Markdown å†…å®¹ {{ .RawContent }} .Date é¡µé¢å‘å¸ƒæ—¥æœŸ {{ .Date.Format \u0026quot;2006-01-02\u0026quot; }} .PublishDate å‘å¸ƒæ—¥æœŸï¼ˆå¦‚æœè®¾ç½®ï¼‰ {{ .PublishDate }} .Params.images å¦‚æœ front matter æœ‰å›¾ç‰‡åˆ—è¡¨å‚æ•° {{ range .Params.images }}{{ . }}{{ end }} .Resources é¡µé¢å…³è”çš„èµ„æºï¼Œå¦‚ Page Bundle ä¸­çš„å›¾ç‰‡ {{ range .Resources }}{{ .RelPermalink }}{{ end }} .Site.Menus ç«™ç‚¹èœå•é…ç½® {{ range .Site.Menus.main }}{{ .Name }}{{ end }} è°ƒè¯•ä¿¡æ¯ å¯åŠ¨è°ƒè¯• 1nmp install 2hugo server --bind 0.0.0.0 æ§åˆ¶å°æ‰“å°è°ƒè¯•ä¿¡æ¯ 1{{ warnf \u0026#34;è°ƒè¯•ä¿¡æ¯ï¼šå˜é‡ a çš„å€¼æ˜¯ %v\u0026#34; $a }} 2{{ $c := printf \u0026#34;%s%s\u0026#34; $.File.Dir $img | absURL }} ç½‘é¡µä¸Šç›´æ¥æ˜¾ç¤ºå˜é‡ â€” printf + HTML æ ‡ç­¾ 1\u0026lt;p\u0026gt;å˜é‡ a çš„å€¼æ˜¯ï¼š{{ printf \u0026#34;%v\u0026#34; $a }}\u0026lt;/p\u0026gt; 2\u0026lt;p\u0026gt;å˜é‡ a çš„å€¼æ˜¯ï¼š{{ $a }}\u0026lt;/p\u0026gt; ç½‘é¡µä¸Šæ ¼å¼åŒ–å¤æ‚å¯¹è±¡ 1\u0026lt;pre\u0026gt;{{ .Params | jsonify }}\u0026lt;/pre\u0026gt; Hugo æ¨¡æ¿å¦‚æœè¢«å¤šæ¬¡è°ƒç”¨ï¼Œå®šä½é—®é¢˜ 1{{- $uid := now.UnixNano -}} 2{{ warnf \u0026#34;===== uid =====: [%d] \u0026#34; $uid }} githug page â€”\u003e cloudfare é…ç½®dnsè§£æğŸ”— github page Enforce HTTPS åœ¨ Cloudflare çš„ DNS è®¾ç½®ä¸­æŠŠ Proxy status å…¨éƒ¨è®¾ç½®ä¸º DNS Only çŠ¶æ€ï¼Œå³ç°è‰²çš„äº‘æœµ è®¾ç½®æˆåŠŸä¹‹åï¼Œå†å¼€å¯ä»£ç†\ncloudfare SSL/TLS è®¾ç½® æ¦‚è¿°ï¼šFull (strict) è¾¹ç¼˜è¯ä¹¦ï¼šå‹¾é€‰å§‹ç»ˆä½¿ç”¨ HTTPS æºæœåŠ¡å™¨ï¼šå‹¾é€‰ç»è¿‡èº«ä»½éªŒè¯çš„æºæœåŠ¡å™¨æ‹‰å– plantuml æ·»åŠ æ–‡ä»¶ï¼šlayouts/_default/_markup/render-codeblock.html 1{{- $language := .Type | default \u0026#34;text\u0026#34; -}} 2{{- if eq $language \u0026#34;plantuml\u0026#34; -}} 3 \u0026lt;pre\u0026gt;\u0026lt;code class=\u0026#34;language-plantuml\u0026#34;\u0026gt;{{ .Inner | safeHTML }}\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt; 4{{- else -}} 5 {{ highlight .Inner $language \u0026#34;\u0026#34; }} 6{{- end -}} æ·»åŠ æ–‡ä»¶ï¼šstatic/js/plantuml-init.js 1const loadScript = (url, onloadFunction) =\u0026gt; { 2 var newScript = document.createElement(\u0026#34;script\u0026#34;); 3 newScript.onerror = (oError) =\u0026gt; { 4 throw new URIError(\u0026#34;The script \u0026#34; + oError.target.src + \u0026#34; didn\u0026#39;t load correctly.\u0026#34;); 5 }; 6 if (onloadFunction) { newScript.onload = onloadFunction; } 7 document.head.insertAdjacentElement(\u0026#39;beforeend\u0026#39;, newScript); 8 newScript.src = url; 9} 10 11const loadPlantUMLOnNeed = () =\u0026gt; { 12 let plantumlPrefix = \u0026#34;language-plantuml\u0026#34;; 13 14 if (document.querySelectorAll(\u0026#34;[class^=\u0026#34; + plantumlPrefix + \u0026#34;]\u0026#34;).length \u0026gt; 0) { 15 loadScript(\u0026#39;https://cdn.jsdelivr.net/gh/jmnote/plantuml-encoder@1.2.4/dist/plantuml-encoder.min.js\u0026#39;, () =\u0026gt; { 16 (function(){ 17 Array.prototype.forEach.call(document.querySelectorAll(\u0026#34;[class^=\u0026#34; + plantumlPrefix + \u0026#34;]\u0026#34;), function(code){ 18 let image = document.createElement(\u0026#34;IMG\u0026#34;); 19 image.loading = \u0026#39;lazy\u0026#39;; 20 image.src = \u0026#39;http://www.plantuml.com/plantuml/svg/~1\u0026#39; + plantumlEncoder.encode(code.innerText); 21 code.parentNode.insertBefore(image, code); 22 code.style.display = \u0026#39;none\u0026#39;; 23 }); 24 })(); 25 26 console.log(\u0026#34;PlantUML init done\u0026#34;); 27 }) 28 } 29} 30 31window.addEventListener(\u0026#39;load\u0026#39;, function(event) { 32 loadPlantUMLOnNeed(); 33}); å°¾éƒ¨æ·»åŠ  themes/hugo-theme-bootstrap/layouts/partials/footer.html 1\u0026lt;script src=\u0026#34;/js/plantuml-init.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; å‚è€ƒ hugo-theme-bootstrap-skeleton: ec447c05d7891b9fafa7457607db55763123ef1a\nhugo-theme-bootstrap: 8ede3af8cab8d261847edb763db8fcda60540401\n","date":"2025å¹´7æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/misc/hugo/","series":[],"smallImg":"","tags":[],"timestamp":1752936465,"title":"Hugo"},{"authors":[],"categories":[],"content":" åŸºäºarmv7çš„è®¾å¤‡ï¼Œåœ¨qemuä¸‹å¯åŠ¨ï¼Œè£¸æœºè¿è¡Œ\næ–‡æ¡£èµ„æ–™ imx6ull å®˜æ–¹èµ„æ–™é“¾æ¥ Armå®˜æ–¹æ–‡æ¡£ï¼š\nARM Architecture Reference Manual ARMv7-A and ARMv7-R edition\nARM Cortex-A Series Programmer\u0026rsquo;s Guide for ARMv7-A\nArm A-profile Architecture Registers\nArm A-profile A32/T32 Instruction Set Architecture\nArm A-profile A64 Instruction Set Architecture\narm_compiler_user_guide_100748_6.22_00_en\nArm Architecture Reference Manual for A-profile architecture : (AArch64)\ngcc-arm-10.3-2021.07-x86_64-arm-none-eabi.tar.xz https://developer.arm.com/downloads/-/gnu-a\ngcc-arm-none-eabi-10.3-2021.10-x86_64-linux.tar.bz2 https://developer.arm.com/downloads/-/gnu-rm\nqemuç¯å¢ƒæ­å»º qemuæºç ä¸‹è½½ 100askä¿®æ”¹ç‰ˆqemuæºç ä¸‹è½½ 100ask 6ullqemu 1# æœ¬æ–‡è¿è¡Œæ–¹å¼ï¼Œä½¿ç”¨å®˜æ–¹çš„qemuä¹Ÿèƒ½æ­£å¸¸è¿è¡Œï¼Œåªä½¿ç”¨imx6ullçš„åŠŸèƒ½ 2 git clone https://e.coding.net/weidongshan/ubuntu-18.04_imx6ul_qemu_system.git 6ullè£¸æœºå¼€å‘èµ„æ–™ 1 git clone https://e.coding.net/weidongshan/01_all_series_quickstart.git 2 git clone https://e.coding.net/weidongshan/noos/cortexA7_windows_tools.git 3 git clone https://e.coding.net/weidongshan/hardware/doc_and_source_for_hardware.git 4 git clone https://e.coding.net/weidongshan/noos/doc_and_source_for_mcu_mpu.gitç¼–è¯‘å™¨ä¸‹è½½:arm-none-linux-gnueabihf\n1 # ï¼Œç”¨ aria2c æ¯” wget å®åœ¨æ˜¯å¿«å¤ªå¤šäº† 2 https://armkeil.blob.core.windows.net/developer/Files/downloads/gnu/13.2.rel1/binrel/arm-gnu-toolchain-13.2.rel1-x86_64-arm-none-linux-gnueabihf.tar.xz armv7æ¶æ„ å¯„å­˜å™¨ å¼‚å¸¸å¤„ç† lrçš„åœ°å€è°ƒæ•´ï¼šå…³äºARMçš„PCæŒ‡é’ˆ ==ç–‘é—®ï¼š== armv7è¿›å…¥å¼‚å¸¸çš„æ—¶å€™æ ¹æ®è§„èŒƒæè¿°æ˜¯å¯ä»¥é€‰æ‹©è¿›å…¥armï¼Œæˆ–è€…thumbçŠ¶æ€çš„ï¼Ÿé‚£ä¹ˆå¦‚æœå¯ä»¥é€‰æ‹©thumbç¼–è¯‘çš„æ—¶å€™è¦æŒ‰ç…§thumbçš„æ ¼å¼ç¼–è¯‘\nA3ï¼šApplication Level Memory Model ä¸‰ç§å±æ€§çš„è®¾å¤‡ï¼š Normal Device Strongly-ordered çŒœæµ‹ï¼šå’Œ mmuï¼Œæˆ–è€…ä¹±åºæ‰§è¡Œæœ‰å…³ï¼Ÿ\nGeneral Timer äº§ç”Ÿtimerä¸­æ–­ä¿¡å·å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š\nCompareValueæˆ–è€…TimerValueè®¡æ—¶æ—¶é—´åˆ° timerå¿…é¡»enableä¸”æ˜¯unmask æ¶ˆé™¤timerä¸­æ–­ä¿¡å·åªéœ€è¦æ»¡æ˜¯ä¸‹é¢çš„å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å³å¯ï¼š\né‡æ–°è®¾ç½®CompareValueæˆ–TimerValueå¯„å­˜å™¨ï¼Œä½¿å…¶ä¸¤ä¸ªå®šæ—¶æ¡ä»¶éƒ½ä¸æ»¡è¶³ ä½¿ç”¨timeræ©ç ï¼ˆCNTP_CTL.IMASKï¼‰ ç¦ç”¨timerï¼ˆCNTP_CTL.ENABLE, ä¸å†äº§å‡ºä¸­æ–­ä¿¡å·ï¼‰ ä¸»è¦æ“ä½œå¯„å­˜å™¨ï¼š CNTFRQï¼šè¯»å–è®¾ç½®é¢‘ç‡\nCNTPCTï¼šè¯»å–å®šæ—¶å™¨çš„è®¡æ•°å€¼ï¼ˆ64ä½çš„ï¼‰\nCNTP_CTLï¼šæ§åˆ¶å¯„å­˜å™¨ï¼ˆæ˜¯å¦ä½¿èƒ½å±è”½å®šæ—¶å™¨ä¸­æ–­ï¼ŒçŠ¶æ€æŒ‡ç¤ºæ˜¯å¦å‘ç”Ÿä¸­æ–­ï¼‰\nCNTP_CVALï¼šè®¾ç½®å®šæ—¶å™¨çš„è®¡æ—¶æ—¶é—´ï¼ˆ64ä½ï¼Œå‘ä¸ŠåŠ ï¼‰\nç”¨æ³•å¦‚ï¼šsetTimer(getSystemTick()+delayTick)\nCNTP_TVALï¼šè®¾ç½®å®šæ—¶å™¨çš„è®¡æ—¶æ—¶é—´ï¼ˆ32ä½æœ‰ç¬¦å·ï¼Œå‘ä¸‹å‡ï¼‰\nç”¨æ³•å¦‚ï¼šsetTimer(delayTick)\nCortex A7 gic ä¸­æ–­æºIDï¼š Software Generated Interruptsï¼š0-15\nPrivate Peripheral Interruptsï¼š16-31\nå®‰å…¨ç‰©ç†å®šæ—¶å™¨IDï¼š29\néå®‰å…¨ç‰©ç†å®šæ—¶å™¨IDï¼š30\nShared Peripheral Interrupts ï¼š32-1019ï¼Œæ”¯æŒ480ä¸ª ï¼ˆcortexa7,179ï¼‰\nç‰¹æ®Šä¸­æ–­ID GIC memory-map Memory regions used for these registers must be marked as Device or Strongly-ordered in the translation tables.\nMemory regions marked as Normal Memory cannot access any of the GIC registers, instead access caches or external memory as required ï¼Ÿï¼Ÿ\nä¼˜å…ˆçº§ï¼š32çº§ GICC_BPR -\u0026gt;0,æ‰€æœ‰æ”¯æŒæŠ¢å ï¼Œ-\u0026gt;7ï¼Œæ‰€æœ‰éæŠ¢å æ¨¡å¼\ngicå¯„å­˜å™¨ 0x000: RW: GICD_CTLR: æ§åˆ¶å¯„å­˜å™¨ï¼Œæ˜¯å¦ä½¿èƒ½ gic distributor\n0x004: RO: GICD_TYPER: bit5-7,æ”¯æŒçš„cpuæ•°é‡+1ï¼Œbit0-4,gicæ”¯æŒçš„ä¸­æ–­ä¸ªæ•°x32\n0x008: RO: GICD_IIDR: bit24-31ï¼ŒProductIdï¼Œbit16-19,äº§å“ç¼–å·ï¼Ÿbit12-15,revision num, [bit0-6,0x3b,bit7,0,bit8-11,0x4]\n0x080: RW: GICD_IGROUPRn: 0,Group0,1,Group1, 0x080+(n\u0026raquo;5)\u0026laquo;2, n\u0026amp;0x1F\n0x100: RW: GICD_ISENABLERn: 0,interrupt is disabled, 1,interrupt is enable; å†™1-\u0026gt;1\n0x180: RW: GICD_ICENABLERn: ç¦ä¸­æ–­ 0,disabled, 1,enabled; å†™1-\u0026gt;0\n0x200: RW: GICD_ISPENDRn: 0,no pending,1,ppi/swi pending on this cpu, spi pending any cpu\nå†™1, edge: inactive-\u0026gt;pending; acitve-\u0026gt;active and pending; pending-\u0026gt;pending\nlevel: inactive-\u0026gt;pending; active-\u0026gt;active and pending; pending-\u0026gt;pending\n0x280: RW: GICD_ICPENDRn: 0,no pending,1,ppi/swi pending on this cpu, spi pending any cpu\nå†™1, edge: pending-\u0026gt;inactive; active and pending-\u0026gt;active\nlevel: pending-\u0026gt;inactive; active and pending-\u0026gt;active ? todo\n0x300: RW: GICD_ISACTIVERn: 0, not active, 1,active; å†™1-\u0026gt;1\n0x380: RW: GICD_ICACTIVERn: 0, not active, 1,active; å†™1-\u0026gt;0\n0x400: RW: GICD_IPRIORITYRn: è®¾ç½®ä¼˜å…ˆçº§ 0, proiority0,1,2,3 0x400+(m\u0026raquo;2)\u0026laquo;2 (m\u0026amp;0x3)*8\n0x800: RW: GICD_ITARGETSRn: ç»‘å®šcpuï¼Œ0, target cpu, byte0,1,2,3, each byte:cpu/isr\nGICD_ITARGETSR0-7,åªè¯»çš„ï¼ˆid0-31ï¼Œswiä¸­æ–­ï¼‰å…¶ä»–spiå¯å†™\n0xc00: RW: GICD_ICFGRn: low,0,N-N,1,1-N; high, 0,level,1,edge 0xc00+(m\u0026raquo;4)*4 (m\u0026amp;0xf)*2\n0xe00: RW: GICD_NSACRn: 0,no-secure\n0xf00: ROï¼šGICD_SGIR: è½¯ä»¶å‚æ•°ä¸­æ–­ï¼Œbit24-25,0,CPUTargeListï¼Œ1ï¼Œå…¶ä»–cpuï¼Œ2ï¼Œto selfï¼Œbit16-23,target cpu,bit-cpu;\nbit15,0,SGIINTID,Group0,1,Group1;bit0-3,Interrupt id 0-15\n0xf10: RW: GICD_CPENDSGIRn: byte0,1,2,3; 0,not pending, 1,pending; write 1, remove pending ?\n0xf20: RW: GICD_SPENDSGIRn: byte0,1,2,3; 0,not pending, 1,pending; write 1, add pending ?\n0x0000: RW: GICC_CTLR: bit0:0,ç¦ç”¨ä¸­æ–­ä¿¡å·ï¼Œ1ä½¿èƒ½ä¸­æ–­ä¿¡å·\n0x0004: RW: GICC_PMR: ä¸­æ–­ä¼˜å…ˆçº§æ©ç  bit0-7,bit0:128 bit0-1:64 bit0-2:32 bit0-3:16\n0x0008: RW: GICC_BPRï¼šä¸­æ–­groupåˆ†å‰²ç‚¹ bit0-2\n0x000c: RO: GICC_IAR: å“åº”çš„ä¸­æ–­å·ï¼Œbit10-12,swiè¯·æ±‚ä¸­æ–­çš„cpuï¼Œbit0-9ï¼Œä¸­æ–­id\n0x0010ï¼šWOï¼šGICC_EOIRï¼šä¸­æ–­å¤„ç†å®Œæˆï¼Œbit10-12,åŒä¸Šï¼ŒåŒä¸Š\n0x0014: RO: GICC_RPR: bit0-7ï¼Œå½“å‰è¿è¡Œçš„ä¸­æ–­ä¼˜å…ˆçº§\n0x0018: RO: GICC_HPPIR: æœ€é«˜pendingçš„ä¼˜å…ˆçº§ï¼Œbit10-12ï¼Œswiäº§ç”Ÿä¸­æ–­çš„cpuï¼Œbit0-9ï¼šæœ€é«˜pendingä¸­æ–­id\n0x001c: RW: GICC_ABPR:\n0x0020: RO: GICC_AIAR:\n0x0024: WO: GICC_AEOIR:\n0x0028: RO: GICC_AHPPIR:\n0x00d0: RW: GICC_APRn:\n0x00e0: RW: GICC_NSAPRn:\n0x00fc: RO: GICC_IIDRï¼šè¯»å–productid, gicç‰ˆæœ¬\n0x1000ï¼šWOï¼šGICC_DIR:\næ“ä½œæ–¹æ³•ï¼š\nGICD_TYPERï¼šè·å–æ”¯æŒçš„ä¸­æ–­ä¿¡æ¯ GICD_ICENABLERnï¼šç¦æ­¢ä¸­æ–­è½¬å‘ GICC_PMRï¼šè®¾ç½®ä¸­æ–­æ©ç  GICC_BPRï¼šè®¾ç½®groupï¼ŒSubpriorityï¼ˆ0,å…¨æŠ¢å ï¼Œ7ï¼Œç¦æ­¢æŠ¢å ï¼‰ GICD_CTLRï¼šä½¿èƒ½ GICC_CTLRï¼šä½¿èƒ½ MMUç›¸å…³ å¤šæ ¸ä¹‹é—´çš„æ“ä½œå…¨å±€å˜é‡çš„é—®é¢˜ï¼Ÿ\nå¦‚ä½•ä¿è¯æ•°æ®æ˜¯æœ€æ–°çš„ï¼Œæ‰‹åŠ¨åˆ·ç¼“å­˜ï¼Ÿ\na . memory typeä¸­æœ‰ä¸‰ç§æ¦‚å¿µï¼Œæ˜¯ä¸æ˜¯æŠŠå…¨å±€å˜é‡å®šä½åˆ°deviceåŒºåŸŸï¼Œå°±ä¸éœ€è¦è€ƒè™‘ç¼“å­˜çš„é—®é¢˜äº† ç¡¬ä»¶æ”¯æŒï¼Œåªè¦å†™å…¨å±€å˜é‡ï¼Œè‡ªåŠ¨å¤„ç†ï¼Œç”¨æˆ·æ— æ„Ÿï¼Ÿ armå¯„å­˜å™¨ cpsr 1N, bit[31] Negative condition flag. 2Z, bit[30] Zero condition flag. 3C, bit[29] Carry condition flag. 4V, bit[28] Overflow condition flag. 5 6A, bit[8] Asynchronous abort mask bit. 7I, bit[7] IRQ mask bit. 8F, bit[6] FIQ mask bit. 9\t0 Exception not masked. 10\t1 Exception masked 11T, bit[5] Thumb execution state bit 12\tJ\tT 13\t0\t0\tARM 14\t0\t1\tThubm 15\t1\t0 Jazelle 16\t1\t1 ThumbEE 17M[4:0], bits[4:0] Mode field 18\tUser\t10000 19\tFIQ\t10001 20\tIRQ\t10010 21\tSupervisor\t10011 22\tMonitor\t10110 23\tAbort\t10111 24\tHyp\t11010 25\tUndefined\t11011 26\tSystem\t11111 æ±‡ç¼–æŒ‡ä»¤ cåµŒæ±‡ç¼– ( Mixing C and assembly code ) ARM64åŸºç¡€4ï¼šåœ¨Cè¯­è¨€ä¸­åµŒå…¥ARM64æ±‡ç¼–ä»£ç \n1__asm__ [__volatile__] ( assembler template 2 : [output operand list] /* optional */ 3 : [input operand list] /* optional */ 4 : [clobbered register list] /* optional */ 5 ); ä¼ªæŒ‡ä»¤ globalï¼šåˆ«çš„æ–‡ä»¶å¯ä»¥è°ƒç”¨å½“å‰æ±‡ç¼–æ–‡ä»¶é‡Œçš„å‡½æ•°\nexternï¼šå½“å‰æ±‡ç¼–å¯ä»¥è°ƒç”¨åˆ«çš„æ–‡ä»¶çš„å‡½æ•°\nthumb: æŒ‡ä»¤æ¥æŒ‡æ˜æ¥ä¸‹æ¥çš„ä»£ç åº”ä»¥ Thumb æ¨¡å¼è¿›è¡Œæ±‡ç¼–\næ¡ä»¶æ‰§è¡Œ A8.3 Conditional execution msr srs rfe ç¼–è¯‘é“¾æ¥ ARMé“¾æ¥è„šæœ¬è¯¦è§£\nlinker script ldé“¾æ¥è„šæœ¬è¯­æ³•ç®€ä»‹\nGCC Arm 12.2ç¼–è¯‘æç¤º LOAD segment with RWX permissions è­¦å‘Š\nâ€“start-group å’Œ â€“end-group åŠŸèƒ½ä½œç”¨ åšäº†å“ªäº›å·¥ä½œ è®¾ç½®å¼‚å¸¸å‘é‡è¡¨ è®¾ç½®æ¨¡å¼ä¸‹çš„spï¼Œå…³mmuã€icacheã€dcache åˆå§‹åŒ–gicï¼ˆdistributionï¼Œcpuifterfaceï¼‰ è®¾ç½®arch time åˆå§‹åŒ–ä¸²å£ ä¸¤ä¸ªtaskè¿›è¡Œä»»åŠ¡åˆ‡æ¢ï¼Œå®ç°ä¸­ã€‚ã€‚ã€‚ qemuå¯åŠ¨ï¼Œtaskè°ƒåº¦ä»£ç  ä½¿èƒ½arch timer åˆå§‹åŒ– uartï¼Œæ”¯æŒprintfæ‰“å° æ”¯æŒæ·»åŠ taskï¼Œtaskå¾ªç¯è°ƒåº¦ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»»åŠ¡æ ˆä¿å­˜æ¢å¤ 1tree 2â”œâ”€â”€ build.sh # ç¼–è¯‘æ‰§è¡Œï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ç¼–è¯‘å™¨è·¯å¾„ 3â”œâ”€â”€ CMakeLists.txt 4â”œâ”€â”€ lib 5â”‚ â”œâ”€â”€ gic.c 6â”‚ â”œâ”€â”€ gic.h 7â”‚ â”œâ”€â”€ timer.c 8â”‚ â”œâ”€â”€ timer.h 9â”‚ â”œâ”€â”€ uart.c 10â”‚ â””â”€â”€ uart.h 11â”œâ”€â”€ out 12â”œâ”€â”€ qemu.sh # qemuæ‰§è¡Œè„šæœ¬ 13â””â”€â”€ src 14 â”œâ”€â”€ link.ld 15 â”œâ”€â”€ main.c 16 â”œâ”€â”€ my_printf.c 17 â”œâ”€â”€ my_printf.h 18 â”œâ”€â”€ start.S 19 â””â”€â”€ task_test.c å‚è€ƒæ–‡ç«  åœ¨çº¿è„‘å›¾å·¥å…· processon\nqemuåµŒå…¥å¼armå¿«é€Ÿä½“éªŒ\nQEMU imx6ulå¼€å‘æ¿ç¯å¢ƒæ­å»º\nç™¾é—®ç½‘èµ„æ–™ä¸‹è½½ä¸­å¿ƒ\nubootæºç \nqemuå¾ˆè€çš„ä¾‹ç¨‹\ngithbubæ–‡æ¡£è¯­æ³•\nã€ä»0å­¦ARMã€‘ä½ ä¸äº†è§£çš„ARMå¤„ç†å¼‚å¸¸ä¹‹é“\nè§†é¢‘\nSTM32:ä»0å†™RTOS,å­¦ä¹ å†…éƒ¨æœºåˆ¶\næ–‡æ¡£ä»‹ç»\nè®°å½•é—®é¢˜ armv7éœ€è¦è®¾ç½®å¼‚å¸¸å‘é‡è¡¨ï¼Œå³ VBAR å¯„å­˜å™¨ åœ¨ä¸Šç”µreset_handlerä¸­è°ƒç”¨svc #0æ— æ³•è°ƒè½¬swi_handlerï¼Œæ‰€ä»¥æ‰å‘ç°éœ€è¦è®¾ç½®å¼‚å¸¸å‘é‡ä¸­æ–­ arm arch timer æ¯ä¸ªæ ¸ä¸Šçš„timerä¸€ç›´æ˜¯åœ¨è®¡æ•°çš„ï¼Œè®¾ç½®ä¸­æ–­ä¿¡å·ä¹‹åï¼Œè¦åœ¨ä¸­æ–­å‡½æ•°ä¸­æ›´æ–°CompareValueæˆ–TimeValueçš„å€¼ æ— æ³•é€šè¿‡é€šè¿‡cp15è¯»å–gicåŸºåœ°å€ ï¼Ÿ, Configuration Base Address Register, ï¼ˆcortexa7ï¼Œp137ï¼‰ 1MRC p15, 4, \u0026lt;Rt\u0026gt;, c15, c0, 0; Read Configuration Base Address Register è¯»å–cpuidï¼ŒMPIDR 1MRC p15, 0, \u0026lt;Rt\u0026gt;, c0, c0, 5; Read Multiprocessor Affinity Register 5. è°ƒè¯•é˜¶æ®µå‘ç°æœ‰äº›ä»£ç æ‰§è¡Œå¼‚å¸¸ï¼Œæ¯”å¦‚cå’Œæ±‡ç¼–ç›¸äº’è°ƒç”¨çš„æ—¶å€™ï¼Œå‘ç°å¯èƒ½æ˜¯armv7æ”¯æŒthumbé€ æˆçš„ï¼Œ-marmå¼ºåˆ¶armæ€ 6. taskæ ˆåˆ‡æ¢ taskä¸­æ·»åŠ uint64å˜é‡æ‰§è¡Œå¼‚å¸¸ï¼ˆUndefined_Handlerï¼‰ åˆ†ææ±‡ç¼–ä»£ç å‘ç°äº†vmovæŒ‡ä»¤ï¼Œåœ¨ç¼–è¯‘é€‰é¡¹ä¸­æ·»åŠ  -mfpu=vfpv3è§£å†³ï¼Œvfpv3å’Œneonçš„åŒºåˆ«æ˜¯å•¥å‘¢ï¼Ÿ armç¼–è¯‘å™¨çš„åŒºåˆ« é‡åˆ°ç¼–è¯‘é“¾æ¥é—®é¢˜ï¼Œæ³¨æ„åˆ°ç¼–è¯‘å™¨ä¸ä¸€æ ·ï¼Œè®°å½•ä¸€ä¸‹\n9. c å‡½æ•°åº“ ï¼ˆnewlic å’Œ glicï¼‰ C å‡½æ•°åº“ ï¼ˆlibc,glibc,uClibc,newlibï¼‰\né‡åˆ°ä¸€ä¸ªç¼–è¯‘å¾ˆå‘çš„é—®é¢˜ï¼ŒæŸ¥äº†å¥½ä¹…å‘ç°æ˜¯ project enable_language å’Œ è®¾ç½®ç¼–è¯‘å™¨ï¼Œå…ˆåé¡ºåºå¯¼è‡´çš„é—®é¢˜ æ­¤æ¡ˆä¾‹ä¸­ï¼Œå…ˆè®¾ç½®project(IMX6ULL ASM C)ï¼Œåè®¾ç½®ç¼–è¯‘å™¨å³å¯è§£å†³é—®é¢˜ é‚£ä¹ˆæ˜¯å¦‚ä½•å‘ç°çš„é—®é¢˜å‘¢ï¼Œå› ä¸ºæˆ‘å¼€å§‹çš„æ—¶å€™ç”¨çš„æ˜¯ arm-none-linux-gnueabihf-gcc ç¼–è¯‘freertosï¼Œæµ‹è¯•qemuå¯åŠ¨ï¼Œç®€å•çš„taskåˆ‡æ¢éƒ½æ²¡æœ‰é—®é¢˜ï¼Œç„¶åå¼€å§‹åŠ å…¥freertosæºç ï¼Œç¼–è¯‘å°±å‡ºç°ä¸€å †å¥‡æ€ªçš„é—®é¢˜ï¼ˆundefined reference __gcc_personality_v0 / __aeabi_unwind_cpp_pr0ï¼‰ç­‰ä¸€å¤§å †é—®é¢˜ï¼Œå…ˆæ˜¯é—®äº†äººå·¥æ™ºèƒ½æ”¹äº†ä¸€å¤§åœˆä¹Ÿæ— æœ åé¢æˆ‘å‘ç°å…¶ä»–å·¥ç¨‹ç”¨çš„ç¼–è¯‘å™¨æ˜¯ arm-none-eabi-gccï¼ˆä¸Šè¿°é—®é¢˜8ï¼‰, æ¢äº†ä¹‹åç›´æ¥æŠ¥é”™ \u0026lt; is not able to compile a simple test program. undefined reference to `_exit\u0026rsquo; \u0026gt;, å¯¹æˆ‘æ¥è¯´æœ‰æ˜¯ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ æ ¹æ®aiçš„å›ç­”ï¼ŒåŠ ä¸Š_exitå‡½æ•°ä¹Ÿä¸è¡Œï¼Œåé¢æˆ‘å°±ç”¨cmakeå†™äº†ä¸€ä¸ªæœ€å°ç¼–è¯‘ç¯å¢ƒï¼Œå’Œæˆ‘å·¥ç¨‹äº¤å‰æµ‹è¯•å‘ç°äº†é—®é¢˜æ‰€åœ¨ï¼Œä¸è¿‡æ ¹æœ¬åŸå› ä¹Ÿæ²¡æ·±ç©¶ï¼Œä¹Ÿå¯èƒ½åªæ˜¯ç¢°å·§è§£å†³äº†é—®é¢˜å§\nVERBOSE=1ï¼Œç¼–è¯‘è¯¦ç»†æ—¥å¿—\nCMAKE_EXE_LINKER_FLAGS_xxx å’Œ CMAKE_BUILD_TYPE CMAKE_\u0026lt;LANG\u0026gt;_FLAGS_\u0026lt;CONFIG\u0026gt; , æµ‹è¯•å‘ç° CMAKE_BUILD_TYPE (releaseï¼Œdebugï¼Œæˆ–è€…è‡ªå®šä¹‰æ ‡ç­¾)ï¼Œä¼šå†³å®šå‰é¢çš„\u0026lt;CONFIG\u0026gt;,\nCmakeç¬”è®°\n12. xxxx.c.obj å’Œ xxx.c.o ç”Ÿæˆå·®å¼‚\nCMAKE_SYSTEM_NAME å˜é‡ç”¨äºè®¾ç½®ç›®æ ‡ç³»ç»Ÿçš„æ“ä½œç³»ç»Ÿã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿé€šå¸¸æœ‰ä¸åŒçš„ç¼–è¯‘å·¥å…·é“¾å’Œåº“è·¯å¾„ã€‚é€šè¿‡è®¾ç½® CMAKE_SYSTEM_NAMEï¼Œä½ å‘Šè¯‰CMakeæœŸæœ›çš„ç›®æ ‡ç³»ç»Ÿæ˜¯ä»€ä¹ˆï¼Œè¿™å½±å“äº†CMakeé…ç½®è¿‡ç¨‹ä¸­çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼š Windowsã€Linuxã€Darwinï¼ˆmacOSï¼‰ã€Genericï¼ˆé€šå¸¸ç”¨äºè£¸æœºæˆ–åµŒå…¥å¼ç³»ç»Ÿï¼‰\nset(CMAKE_SYSTEM_NAME Generic) set(CMAKE_SYSTEM_PROCESSOR arm) æµ‹è¯•è®¾ç½®ä¹‹åä¼šç”Ÿæˆobjåç¼€æ–‡ä»¶\ngcc é“¾æ¥ å’Œ ld é“¾æ¥å¼‚åŒç‚¹ å®‰è£…çš„ arm-none-eabi-gdb æŠ¥é”™ï¼šlibncurses.so.5: cannot open shared object file: No such file or directory ç½‘ä¸Šçš„ç­”æ¡ˆ sudo apt install libncurses5* æå®šï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘çš„æœ€æ–°ubuntu24çš„é—®é¢˜ï¼Œæ‰¾ä¸åˆ°ä¸‹è½½æºï¼Œæ‰€æœ‰å°±æ‰‹åŠ¨ä¸‹è½½å®‰è£…\nubuntu libåº“ä¸‹è½½åœ°å€ï¼šhttps://packages.ubuntu.com/ http://security.ubuntu.com/ubuntu/pool/universe/n/ncurses/libncurses5_6.2-0ubuntu2.1_amd64.deb http://security.ubuntu.com/ubuntu/pool/universe/n/ncurses/libtinfo5_6.2-0ubuntu2.1_amd64.deb ç‰ˆæœ¬ï¼š6.2-0ubuntu2.1ï¼Œ æ¶æ„ï¼ši386ï¼Œamd64\n64ä½ç”µè„‘åªéœ€è¦ amd64ï¼Œæ—§çš„gdbç‰ˆæœ¬éœ€è¦libncurses5, Distributioné€‰æ‹©any\nåŸºäºimx6ullçš„sdkï¼Œåœ¨qemuä¸Šå®ç°freertosï¼Œç¼–è¯‘æ­£å¸¸ï¼Œè¿è¡Œçš„æ—¶å€™ portYIELD_WITHIN_API è¿™ä¸ªå°±å´©äº†ï¼Œå…¶å®è°ƒç”¨svcå¼‚å¸¸,ä¸»è¦åˆ†æå®šä½å¼‚å¸¸åŸå›  æ ¹æœ¬åŸå› æ˜¯é—®é¢˜1ï¼Œæœªè®¾ç½®vbarå¯„å­˜å™¨ï¼Œå¦‚ä½•å®šä½å‘¢ï¼Œ\né¦–å…ˆè‚¯å®šå¯ä»¥å®šä½åˆ°å“ªä¸€è¡Œçš„ä»£ç æ‰§è¡Œå¼‚å¸¸ åœ¨æ‰§è¡Œå¼‚å¸¸ä»£ç çš„æ—¶å€™åˆ‡æ¢åˆ°æ±‡ç¼–ä»£ç æŸ¥çœ‹ï¼Œå¯ä»¥åˆ†æå¼‚å¸¸åŸå› ï¼Œæ¯”å¦‚æ­¤å¼‚å¸¸æ—¶å€™ï¼Œè·³åˆ°äº†0x000000c8, è¿™ä¸ªåœ°å€æ˜¯ä¸æ­£å¸¸çš„ï¼ˆç”±æ±‡ç¼–æ–‡ä»¶å¯ä»¥åˆ†æå‘é‡åœ°å€0x80002008ï¼‰ï¼Œå°±èƒ½çŸ¥é“æ˜¯å“ªé‡Œçš„å¼‚å¸¸äº† is not able to compile a simple test program https://discourse.cmake.org/t/ the-c-compiler-is-not-able-to-compile-a-simple-test-program-when-compiling-using-arm-gnu-toolchain/8215\nset(CMAKE_TRY_COMPILE_TARGET_TYPE STATIC_LIBRARY) å³å¯\n","date":"2025å¹´7æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/arm/armv7-qemu/","series":[],"smallImg":"","tags":[],"timestamp":1752896693,"title":"Armv7 Qemu"},{"authors":[],"categories":[],"content":"IMX6ULLè£¸æœºå¯åŠ¨ï¼ŒIMX6ULLè¿è¡ŒFreeRTOSï¼Œæºä»£ç åˆ†æ\nè£¸æœºå¯åŠ¨éƒ¨åˆ† imx6ullä¸­æ ¹æ®è¿è¡Œä»£ç ä½ç½®çš„ä¸åŒRAM/flash/SDå¡ï¼Œä¸Šç”µä¼šå…ˆè¿è¡Œç‰‡ä¸ŠROMä¸­çš„ä»£ç ï¼Œæ¬è¿çš„æ•°æ®å¤§å°æ˜¯ä¸åŒçš„ï¼Œä»£ç ä¹Ÿä¸æ˜¯å­˜å‚¨åœ¨0åœ°å€å¤„çš„ã€‚å¦‚ä¸‹å›¾ï¼Œæ¯”å¦‚ä»sdä¸­è¿è¡Œä»£ç ï¼Œä»£ç IVToffsetå¤§å°1kï¼ŒinitloadSizeä¸º4kã€‚ å®è´¨ä¸Šåº”ç”¨ç¨‹åºå‰çº¢è‰²æ¡†ä¸­çš„å¤§å°æœ‰3kï¼Œå¯ä»¥é…ç½®å¯åŠ¨ä¿¡æ¯ï¼Œå…¥å£åœ°å€ï¼Œåˆå§‹åŒ–è®¾å¤‡ï¼ŒåŸºæœ¬çš„æ—¶é’Ÿï¼ŒDDRè¦å…ˆåˆå§‹åŒ–æ‰èƒ½ä½¿ç”¨å§ã€‚å…·ä½“çš„å¯ä»¥å‚è€ƒå…¶ä»–èµ„æ–™å¦‚ç™¾é—®ç½‘çš„imx6ullæ‰‹å†Œ éŸ¦è€å¸ˆçš„è£¸æœºä»£ç ä¸­ï¼Œå†™å¥½çš„ç¨‹åºæ˜¯è°ƒç”¨mkimageç»™appç¨‹åºåŠ ä¸Šç‰¹æœ‰çš„å¤´éƒ¨ä¿¡æ¯ï¼Œé…åˆå…¶å¼€å‘çš„çƒ§å½•å·¥å…·100ask_imx6ull_flashing_toolå¯ä»¥ä¸‹è½½åˆ°ramè¿è¡Œï¼ˆ*.imxæ–‡ä»¶ï¼‰ã€‚å¦‚æœæƒ³ä¸‹è½½sdä¸­ï¼Œéœ€è¦åœ¨imxæ–‡ä»¶å‰é¢åŠ ä¸Š1kçš„åç§»ï¼ˆimage vector table offsetï¼‰\n1mkimage -n ./tools/imximage.cfg.cfgtmp -T imximage -e 0x80200000 -d led.bin led.imx 2// -e 0x80200000ç¨‹åºä¼šè¢«æ¬è¿åˆ°çš„ä½ç½® å…¶ä»–çš„å¼€å‘æ¿å¦‚ï¼ŒåŸå­çš„imxdownloadå·¥å…·ä¸­ç›´æ¥å›ºå®šäº†åŠ è½½åœ°å€ä¸º0X87800000ï¼Œé“¾æ¥è„šæœ¬ä¸­ä¹Ÿæ˜¯è¿™ä¸ªåœ°å€ï¼Œå¦‚ä¸åœ°å€ä¸ç›¸åŒï¼Œå°±ä¼šç‰µæ‰¯åˆ°ä»£ç é‡å®šä½çš„é—®é¢˜ã€‚ ä½†ä¹Ÿæœ‰å¯èƒ½æœ‰äººè®¾ç½®çš„å°±æ˜¯ä¸ä¸€æ ·çš„åœ°å€ï¼Œç…§æ ·èƒ½è·‘ä¸‹å»ï¼Œè¿™å°±è¦çœ‹start.sä¸­çš„è·³è½¬æŒ‡ä»¤æ˜¯\n1 ldr sp, =main /* è·³è½¬åˆ°mainå‡½æ•° */ 2 b main /* è·³è½¬åˆ°mainå‡½æ•° */é“¾æ¥åœ°å€å’ŒåŠ è½½åœ°å€ä¸ä¸€æ ·çš„æƒ…å†µï¼š å¦‚æœæ˜¯ç¬¬ä¸€è¡Œçš„è¯å°±æ— æ³•è¿è¡Œï¼Œåœ°å€ç›¸å…³ä»£ç  å¦‚æœç¬¬äºŒè¡Œçš„è¯å°±ä»£ç å¯ä»¥éƒ¨åˆ†è¿è¡Œï¼Œæ¯”å¦‚æ‰“å°å®šä¹‰å¥½çš„å…¨å±€å˜é‡å°±ä¸æ­£å¸¸äº†ï¼ŒdataåŒºæ²¡æœ‰æ¬è¿åˆ°ç›¸åº”çš„é“¾æ¥åœ°å€å»ã€‚\nIMX6ULLè¿è¡ŒFreeRTOS imx6ullæœ‰å®˜ç½‘çš„skdï¼Œé‡Œé¢å·²ç»æœ‰ä¸€äº›ä¾‹å­ã€‚ ç¬¬ä¸€æ­¥ï¼š SDK_2.2_MCIM6ULL/boards/evkmcimx6ull/demo_apps/hello_world/armgccä¸­ç›´æ¥è¿è¡Œ ./build_ddr_debug.sh\n1SDK_2.2_MCIM6ULL/boards/evkmcimx6ull/demo_apps/hello_world/armgcc# ./build_ddr_debug.shç¬¬äºŒæ­¥ï¼š\n1mkimage -n ./tools/imximage.cfg.cfgtmp -T imximage -e 0x80002000 -d led.bin led.imxæ³¨æ„ï¼š-e åœ°å€ ä¸º 0x80002000\nç¬¬ä¸‰æ­¥ï¼š åˆ©ç”¨100ask_imx6ull_flashing_toolä¸‹è½½åˆ°imx6ullä¸Šé¢è¿è¡Œå°±ä¼šçœ‹åˆ°ä¸²å£æ‰“å°çš„\n1hello world. ä¹°åˆ°æ¿å­ä¹‹åä¸ä¹…å°±ä¸€ç›´æƒ³åœ¨imx6ULLä¸Šé¢è·‘rtosï¼Œç»“æœä¹Ÿæ²¡æ‰¾åˆ°å•¥æ•™ç¨‹ï¼Œæœ‰äººè¯´cortexa7çš„å¯ä»¥å‚çœ‹a9çš„ç§»æ¤ï¼Œæ— å¥ˆè¿˜æ˜¯æ‡µï¼Œåæ¥æƒ³çœ‹çœ‹FreeRTOSæºç ä¹‹ååœ¨åŠ¨æ‰‹ï¼Œç»“æœå‘ç°ç®€å•çœ‹äº†æºç è¿˜æ˜¯èœåˆ°æ²¡å¤´ç»ªã€‚ ä¸­é—´ç©ç©è£¸æœºç¨‹åºï¼Œçªç„¶æœ‰ä¸¤å¤©å°±æƒ³ç ”ç©¶ä¸€ä¸‹ï¼Œimxä¸Šç¨‹åºä»ç¼–è¯‘å¥½åˆ°ä¸‹è½½åˆ°æ¿å­ä¸Šæ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼Œä¸ºå•¥æˆ‘ç¼–è¯‘çš„sdkä»£ç ä¸å¯ä»¥ç”¨ï¼Œåé¢å°±å‘ç°rtosçš„demoä»£ç å¯èƒ½å¯åŠ¨ä½ç½®ä¸å¯¹ï¼Œæ ¹æ®è¿æ¥è„šæœ¬ä¸­çš„ä¿¡æ¯é“¾æ¥åœ°å€ä¸º0x80002000 SDK_2.2_MCIM6ULL/boards/evkmcimx6ull/rtos_examples ç›®å½•ä¸­æœ‰äº›ä¾‹å­ï¼Œåªè¦ç¼–è¯‘åï¼ŒåŠ ä¸Šimxå¤´éƒ¨ä¿¡æ¯ï¼Œå°±å¯ä»¥æ„‰å¿«çš„åœ¨imx6ullä¸Šé¢è·‘FreeRTOSäº†ï¼Œ åç»­çœ‹çœ‹æˆ‘çš„æ¿å­æ€ä¹ˆèƒ½åœ¨FreeRTOSåŸºç¡€ä¸Šè·‘lwip\nä»£ç é‡å®šä½ å…³äºä»£ç é‡å®šä½ã€‚\nAPIæ€»è§ˆ @startmindmap + FreeRTOS ++ Task Creation +++_ xTaskCreate +++_ xTaskCreateStatic +++_ vTaskDelete +++_ xTaskGetStaticBuffers ++ Task Control +++_ vTaskDelay +++_ vTaskDelayUntil +++_ xTaskDelayUntil +++_ uxTaskPriorityGet +++_ uxTaskPriorityGetFromISR +++_ uxTaskBasePriorityGet +++_ uxTaskBasePriorityGetFromISR +++_ vTaskPrioritySet +++_ vTaskSuspend +++_ vTaskResume +++_ xTaskResumFromISR +++_ xTaskAbortDelay ++ Task Utilities +++_ uxTaskGetSystemState +++_ vTaskGetInfo +++_ xTaskGetApplicationTaskTag +++_ xTaskGetCurrentTaskHandle +++_ xTaskGetHandle +++_ xTaskGetIdleTaskHandle +++_ uxTaskGetStackHighWaterMark +++_ eTaskGetState +++_ pcTaskGetName +++_ xTaskGetTickCount +++_ xTaskGetTickCountFromISR +++_ xTaskGetSchedulerState +++_ uxTaskGetNumberOfTasks +++_ vTaskList +++_ vTaskStartTrace +++_ ulTaskEndTrace +++_ vTaskGetRunTimeStats +++_ vTaskSetApplicationTaskTag +++_ xTaskCallApplicationTaskHook +++_ vTaskSetThreadLocalStoragePointer +++_ pvTaskGetThreadLocalStoragePointer +++_ vTaskSetTimeoutState +++_ xTaskCheckForTimeOut ++ RTOS Kernel Control +++_ taskYIELD Colors +++_ taskENTER_CRITICAL +++_ taskEXIT_CRITICAL +++_ taskENTER_CRITICAL_FROM_ISR +++_ taskEXIT_CRITICAL_FROM_ISR +++_ taskDISABLE_INTERRUPTS +++_ taskENABBLE_INTERRUPTS +++_ vTaskStartScheduler +++_ vTaskEndScheduler +++_ vTaskSuspendAll +++_ vTaskResumeAll +++_ vTaskStepTick +++_ xTaskCatchUpTicks ++ Direct To Task Notifications +++_ xTaskNotifyGive/xTaskNotifyGiveIndexed +++_ vTaskNotifyGiveFromISR +++_ ulTaskNotifyTake +++_ xTaskNotify +++_ xTaskNotifyAndQuery +++_ xTaskNotifyAndQueryFromISR +++_ xTaskNotifyFromISR +++_ xTaskNotifyWait +++_ xTaskNotifyStateClear +++_ ulTaskNotifyValueClear ++ Queues +++_ xQueueCreate +++_ xQueueCreateStatic +++_ xQueueDelete +++_ xQueueSend +++_ xQueueSendFromISR +++_ xQueueSendToBack +++_ xQueueSendToBackFromISR +++_ xQueueSendToFront +++_ xQueueSendToFrontFromISR +++_ xQueueReceive +++_ xQueueReceiveFromISR +++_ uxQueueMessagesWaiting +++_ uxQueueMessagesWaitingFromISR +++_ uxQueueSpacesAvailable +++_ xQueueReset +++_ xQueueOverwrite +++_ xQueueOverwriteFromISR +++_ xQueuePeek +++_ xQueuePeekFromISR +++_ vQueueAddToRegistry +++_ vQueueUnregisterQueue +++_ pcQueueGetName +++_ xQueueIsQueueFullFromISR +++_ xQueueIsQueueEmptyFormISR +++_ xQueueGetStaticBuffers +++_ xQueue +++_ xQueue +++_ xQueue +++_ xQueued +++_ xQueuedd ++ Queue Sets +++_ xQueueCreateSet +++_ xQueueAddToSet +++_ xQueueRemoveFromSet +++_ xQueueSelectFromSet +++_ xQueueSelectFromSetFromISR -- Stream Buffers ---_ xStreamBufferCreate/xStreamBufferCreateWithCallback ---_ xStreamBufferCreateStatic/xStreamBufferCreateStaticWithCallback ---_ xStreamBufferSend ---_ xStreamBufferSendFromISR ---_ xStreamBufferReceive ---_ xStreamBufferReceiveFromISR ---_ xStreamBufferDelete ---_ xStreamBufferBytesAvailable ---_ xStreamBufferSpacesAvailable ---_ xStreamBufferSetTriggerLevel ---_ xStreamBufferReset ---_ xStreamBufferResetFromISR ---_ xStreamBufferIsEmpty ---_ xStreamBufferIsFull ---_ xStreamBufferGetStaticBuffers ---_ uxStreamBufferGetStreamBufferNotificationIndex ---_ xStreamBufferSetStreamBufferNotificationIndex ---_ xStreamBatchingBufferCreate ---_ xStreamBatchingBufferCreateStatic -- Message Buffers ---_ xMessageBufferCreate ---_ xMessageBufferCreateStatic ---_ xMessageBufferSend ---_ xMessageBufferSendFromISR ---_ xMessageBufferReceive ---_ xMessageBufferReceiveFromISR ---_ xMessageBufferReset ---_ xMessageBufferResetFromISR ---_ xMessageBufferIsEmpty ---_ xMessageBufferIsFull ---_ xMessageBufferGetStaticBuffers -- Semaphore / Mutexes ---_ xSemaphoreCreateBinary ---_ xSemaphoreCreateBinaryStatic ---_ vSemaphoreCreateBinary ---_ xSemaphoreCreateCounting ---_ xSemaphoreCreateCountingStatic ---_ xSemaphoreCreateMutex ---_ xSemaphoreCreateMutexStatic ---_ xSemaphoreCreateRecursiveMutex ---_ xSemaphoreCreateRecursiveMutexStatic ---_ vSemaphoreDelete ---_ xSemaphoreGetMutexHolder ---_ xSemaphoreGetCount ---_ xSemaphoreTake ---_ xSemaphoreTakeFromISR ---_ xSemaphoreTakeRecursive ---_ xSemaphoreGive ---_ xSemaphoreGiveRecursive ---_ xSemaphoreGiveFromISR ---_ xSemaphoreGetStaticBuffer -- Software Timers ---_ xTimerCreate ---_ xTimerCreateStatic ---_ xTimerIsTimerActive ---_ xTimerStart ---_ xTimerStop ---_ xTimerChangePeriod ---_ xTimerDelete ---_ xTimerReset ---_ xTimerStartFromISR ---_ xTimerStopFromISR ---_ xTimerChangePeriodFromISR ---_ xTimerResetFromISR ---_ pvTimerGetTimerID ---_ vTimerSetReloadMode ---_ vTimerSetTimerID ---_ xTimerGetTimerDaemonTaskHandle ---_ xTimerPendFunctionCall ---_ xTimerPendFunctionCallFromISR ---_ xTimerGetName ---_ xTimerGetPeriod ---_ xTimerGetExpiryTime ---_ xTimerGetReloadMode -- Event Groups ---_ xEventGroupCreate ---_ xEventGroupCreatxeStatic ---_ vEventGroupDelte ---_ xEventGroupWaitBits ---_ xEventGroupSetBits ---_ xEventGroupSetBitsFromISR ---_ xEventGroupClearBits ---_ xEventGroupClearBitsFromISR ---_ xEventGroupGetBits ---_ xEventGroupSync ---_ xEventGroupGetStaticBuffer -- MPU ---_ xTaskCreateRestricted ---_ xTaskCreateRestrictedStatic ---_ vTaskAllocateMPURegions ---_ portSWITCH_TO_USER_MODE -- Co-routines ---_ xCoRoutineCreate ---_ crDELAY ---_ crQUEUE_SEND ---_ crQUEUE_RECEIVE ---_ crQUEUE_SEND_FROM_ISR ---_ crQUEUE_RECEIVE_FROM_ISR ---_ vCoRoutineSchedule ---_ vCoRoutineResetState @endmindmap FreeRTOSæºä»£ç åˆ†æ ä»»åŠ¡åˆ‡æ¢ @startuml start fork :Irq Handler; split :other iar func; split again :timer tick func; note right FreeRTOS_Tick_Handler xTaskIncrementTick(è¶…æ—¶ä»»åŠ¡ï¼Œä»delayï¼Œevent liståˆ é™¤ï¼ŒåŠ å…¥ready list) å¦‚æœ xTickCount æº¢å‡ºï¼Œç´¯åŠ  xNumOfOverflows delayåˆ°æœŸçš„ä»»åŠ¡é«˜äºå½“å‰ä¼˜å…ˆçº§ï¼Œæ—¶é—´ç‰‡è½®è½¬ï¼ŒxYieldPending=trueï¼ˆå…¶ä»–ä»»åŠ¡æŠ¢å éœ€è¦è°ƒåº¦ï¼‰ ulPortYieldRequired = true end note end split if (ulPortYieldRequired == true) then (false) :irq return; else (yes) :save_context_and_switch; note right bl vTaskSwitchContextConst (vTaskSwitchContext) uxSchedulerSuspended != flase æŒ‚èµ· os ä¸å…è®¸è°ƒåº¦ xYieldPending = 0 ä¸€ä¸ªæ ‡å¿—ä½å§ï¼Œå…¶ä»–éœ€è¦è°ƒåº¦çš„æ—¶å€™ç½®1 è®¾ç½®æ–°çš„ pxCurrentTCBï¼Œï¼ˆè½¯ä»¶ï¼Œclzæ–¹å¼æ‰¾åˆ°æœ€é«˜ä¼˜å…ˆçº§ï¼‰ å°±å¯ä»¥æ¢å¤å½“å‰taskä¸Šä¸‹æ–‡ï¼Œå®Œæˆä»»åŠ¡åˆ‡æ¢ end note endif fork again :FreeRTOS_SWI_Handler; :save_context bl vTaskSwitchContextConst restroe_context; end merge stop @enduml vTaskDelay @startuml start :vTaskDelay; :vTaskSuspendAll; note right ++uxSchedulerSuspended end note if (xTicksToDelay \u003e 0) then (yes) :prvAddCurrentTaskToDelayedList; note right è®¾ç½®delayåˆ°æœŸæ—¶é—´ï¼Œæ›´æ–° xNextTaskUnblockTime end note :xTaskResumeAll; note right --uxSchedulerSuspendedï¼Œ ä¸º0å¾€ä¸‹ç»§ç»­å¤„ç† xPendingReadyList å¤„ç†pending listä¸­taskï¼ŒåŠ å…¥ready list å½“æœ‰ä»»åŠ¡å¤§äºå½“å‰ä¼˜å…ˆçº§ï¼Œéœ€è¦ä»»åŠ¡åˆ‡æ¢ è®¾ç½® xYieldPending=trueï¼Œæ›´æ–° xNextTaskUnblockTime è¡¥å¿ç³»ç»Ÿtickï¼ŒuxPendedTicks xAlreadyYielded = xTaskIncrementTick() å¦‚æœå·²ç»æœ‰å…¶ä»–taskè¯·æ±‚åˆ‡æ¢äº†ï¼Œå½“å‰å°±æ— éœ€å†è¯·æ±‚åˆ‡æ¢äº† xYieldPending ä¼šåœ¨ vTaskSwitchContext è®¾ç½® false end note else :xAlreadyYielded = false; endif if (xAlreadyYielded = false) then (yes) :portYIELD_WITHIN_API; note right delayå‚æ•°ä¸º0ï¼Œå¼ºåˆ¶æ‰§è¡Œè°ƒåº¦ portYIELD __asm volatile ( \"SWI 0\" ) end note else (no) endif stop @enduml xQueueGenericReceive @startuml start :xQueueGenericReceive; repeat :taskENTER_CRITICAL(); if (uxMessagesWaiting \u003e0) then(yes) note right é˜Ÿåˆ—é‡Œçš„å…ƒç´ æ•°é‡ end note :è®°å½•è¯»æ•°æ®çš„ä½ç½®ï¼Œreceiveæ•°æ®ä¼šå‡ºé˜Ÿï¼Œpeekåªæ˜¯è¯»æ•°æ®; :prvCopyDataFromQueue(); note right è¯»çš„ç´¢å¼•åç§»ä¸€ä¸ªuxItemSizeï¼Œå¦‚æœåˆ°tailï¼Œå†æŒ‡å‘head copyä¸€ä¸ªuxItemSizeçš„æ•°æ®åˆ°pvBufferä¸­ end note if (xJustPeeking == pdFALSE) then(yes) :å½“å‰ä¸ºreceiveæ¨¡å¼ï¼Œè¯»äº†æ•°æ®ä¹‹åå°±æ›´æ–°è¯»æŒ‡é’ˆï¼Œç›¸å½“äºå‡ºé˜Ÿæ“ä½œ; :å½“å‰queueæœ‰äº’æ–¥é”ï¼ŒæŒ‡å‘å½“å‰çš„è¿è¡Œtask pxCurrentTCB-\u003euxMutexesHeld++; :åˆ¤æ–­å½“å‰queueçš„ xTasksWaitingToSend ä¸ä¸ºç©ºçš„è¯; :xTaskRemoveFromEventList(); note left ç§»é™¤å‘é€é˜Ÿåˆ—ï¼ŒosæœªæŒ‚èµ·å°±åŠ å…¥readylistï¼ŒæŒ‚èµ·åŠ åŠ å…¥pendingreadlist ä¼˜å…ˆçº§å¤§çš„è¯ï¼Œè®¾ç½®taskè°ƒåº¦æ ‡å¿— end note else :å½“å‰æ¨¡å¼å¯ä»¥ä¸€ç›´è¯»é˜Ÿé¦–çš„æ•°æ®ï¼Œä¸ä¼šå‡ºé˜Ÿ; :æ¢å¤ä¸Šé¢è®°å½•çš„æ•°æ®è¯»ä½ç½®; :åˆ¤æ–­å½“å‰queueçš„ xTasksWaitingToReceive ä¸ä¸ºç©ºçš„è¯; :xTaskRemoveFromEventList(), taskæ˜¯å¦åŠ å…¥readlistçš„å¤„ç†ï¼Œæ˜¯å¦åˆ‡æ¢taskç­‰; endif :taskEXIT_CRITICAL(); :return pdPASS; stop else (é˜Ÿåˆ—ä¸ºç©º) if (xTicksToWait==0) then (ç­‰å¾…æ—¶é—´ä¸º0) :taskEXIT_CRITICAL(); :return errQUEUE_EMPTY; stop elseif (xEntryTimeSet == pdFALSE) then(ç­‰å¾…æ—¶é—´ä¸ä¸º0) :vTaskSetTimeOutState(); note right xEntryTimeSet = true è®°å½• xNumOfOverflows xTickCount ä¸ºåé¢åˆ¤æ–­delayåšå‡†å¤‡ end note endif endif :taskEXIT_CRITICAL(); :; :vTaskSuspendAll(); :prvLockQueue(), rx txåŠ äº’æ–¥é”; if ( xTaskCheckForTimeOut()== pdFALSE) then (yes) note right æ ¹æ®xTimeOut pxTicksToWaitåˆ¤æ–­æ˜¯å¦å»¶æ—¶æ—¶é—´åˆ° å»¶æ—¶æ—¶é—´åˆ°è¿”å›trueï¼Œå¦åˆ™è¿”å›falseï¼Œå¹¶æ›´æ–°vTaskSetTimeOutState( pxTimeOut ); end note :å½“å‰waitæ—¶é—´æ²¡æœ‰è¶…æ—¶; if (é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º) then (yes) :äº’æ–¥é”ï¼Œè¿›å…¥ä¸´ç•ŒåŒºï¼Œä¿®æ”¹taskä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ç»§æ‰¿æœºåˆ¶; note left vTaskPriorityInherit() æŒæœ‰é”çš„taskAä¼˜å…ˆçº§ä½äºå½“å‰taskä¼˜å…ˆçº§ï¼Œè°ƒæ•´taskAçš„ä¼˜å…ˆçº§ é”çš„æŒæœ‰è€…å¯èƒ½ä¸ºnullï¼Œæ„å‘³ä¸­å½“å‰åœ¨isrä¸Šä¸‹æ–‡ end note :vTaskPlaceOnEventList; note right insert event list åŠ å…¥delay listä¸­ end note :prvUnlockQueue(); if (xTaskResumeAll() == false) then (yes) :è°ƒç”¨ svc åˆ‡æ¢task; endif else :prvUnlockQueue(); :xTaskResumeAll(); endif else :å½“å‰æ—¶é—´å·²ç»è¶…æ—¶,ç­‰å¾…ç»“æŸäº†ï¼Œæœ‰æ•°æ®å°±è¿”å›æ•°æ®ï¼Œæ²¡æœ‰å°±è¿”å›ç©º; :prvUnlockQueue(); :xTaskResumeAll(); if (é˜Ÿåˆ— uxMessagesWaiting æ˜¯å¦ä¸ºç©º) then (yes) :return errQUEUE_EMPTY; stop else :éç©ºçš„è¯,ç»§ç»­ä¸‹ä¸€ä¸ªå¾ªç¯; endif endif repeat while () @enduml xQueueGenericSend @startuml start :xQueueGenericSend; repeat :taskENTER_CRITICAL(); if (é˜Ÿåˆ—æœ‰ç©ºé—² || è¦†ç›–å†™) then(yes) note right é˜Ÿåˆ—é‡Œçš„å…ƒç´ æ•°é‡ end note :è®°å½•è¯»æ•°æ®çš„ä½ç½®ï¼Œreceiveæ•°æ®ä¼šå‡ºé˜Ÿï¼Œpeekåªæ˜¯è¯»æ•°æ®; :xYieldRequired = prvCopyDataToQueue(); note left 1. uxItemSize = 0å¯èƒ½è¡¨ç¤ºäº’æ–¥é”ï¼Œéœ€è¦è°ƒæ•´æ¢å¤taskä¼˜å…ˆçº§ xTaskPriorityDisinherit 2. queueSEND_TO_BACKï¼ŒpcWriteTo+uxItemSize 3. queueSEND_TO_FRONT å…ˆå†™åè°ƒæ•´ä½ç½®pcReadFrom-uxItemSize pcReadFromæŒ‡å‘çš„æ˜¯ç©º 4. queueOVERWRITEï¼Œæœ‰ç‚¹å‘ï¼Œåªèƒ½ç”¨åœ¨é˜Ÿåˆ—é•¿åº¦ä¸º1çš„åœºæ™¯ä¸­ï¼ˆæ— æ³•æ‰§è¡Œï¼Œå¦åˆ™é˜Ÿåˆ—ä¸­å°±ä¼šå­˜åœ¨æ— æ•ˆçš„å€¼ï¼‰ end note if (configUSE_QUEUE_SETS) then (yes) :prvNotifyQueueSetContainer; note left 1. prvCopyDataToQueue,è¿™é‡ŒæŠŠå½“å‰queueæ”¾å…¥setä¸­ é˜Ÿåˆ—é›†ä¸Šæœ‰ç­‰å¾…æ¥æ”¶çš„taskï¼ŒxTaskRemoveFromEventList å”¤é†’çš„taské«˜äºå½“å‰taskä¼˜å…ˆçº§ï¼Œåˆ™æŠ¢å è¿è¡Œ 2. setä¸ºnullåœºæ™¯ï¼Œåˆ¤è¯»æ˜¯å¦æœ‰ç­‰å¾…æ¥æ”¶taskï¼Œé€»è¾‘åŒä¸Š end note else :æ²¡æœ‰é…ç½®é˜Ÿåˆ—é›†; if (xTasksWaitingToReceive éç©º) then (yes) :xTaskRemoveFromEventList; :å¦‚æœé«˜ä¼˜å…ˆçº§taskï¼Œåˆ™æŠ¢å è¿è¡Œ; else if (xYieldRequired = true) then note left åªæœ‰äº’æ–¥é”çš„æ—¶å€™æ‰æœ‰å¯èƒ½åˆ°è¾¾è¿™é‡Œï¼Œå› ä¸ºä¼˜å…ˆçº§ç»§æ‰¿ å‘é€æ•°æ®çš„æ—¶å€™ä¼šæ¢å¤ä¼˜å…ˆçº§ end note :æŠ¢å ; endif endif :taskEXIT_CRITICAL(); :return pdPASS; stop else (é˜Ÿåˆ—å·²æ»¡) if (xTicksToWait==0) then (ç­‰å¾…æ—¶é—´ä¸º0) :taskEXIT_CRITICAL(); :return errQUEUE_EMPTY; stop elseif (xEntryTimeSet == pdFALSE) then(ç­‰å¾…æ—¶é—´ä¸ä¸º0) :vTaskSetTimeOutState(); note right xEntryTimeSet = true è®°å½•æ—¶é—´æˆ³ xNumOfOverflows xTickCount ä¸ºåé¢åˆ¤æ–­delayåšå‡†å¤‡ end note endif endif :taskEXIT_CRITICAL(); :; :vTaskSuspendAll(); :prvLockQueue(), rx txåŠ äº’æ–¥é”; if ( xTaskCheckForTimeOut()== pdFALSE) then (yes) note right æ ¹æ®xTimeOut pxTicksToWaitåˆ¤æ–­æ˜¯å¦å»¶æ—¶æ—¶é—´åˆ° å»¶æ—¶æ—¶é—´åˆ°è¿”å›trueï¼Œå¦åˆ™è¿”å›falseï¼Œå¹¶æ›´æ–°vTaskSetTimeOutState( pxTimeOut ); end note :å½“å‰waitæ—¶é—´æ²¡æœ‰è¶…æ—¶; if (é˜Ÿåˆ—æ˜¯å¦å·²æ»¡) then (yes) :äº’æ–¥é”ï¼Œè¿›å…¥ä¸´ç•ŒåŒºï¼Œä¿®æ”¹taskä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ç»§æ‰¿æœºåˆ¶; :vTaskPlaceOnEventList; note left åŠ å…¥å¾…å‘é€é˜Ÿåˆ— xTasksWaitingToSendï¼ŒxEventListItem ä»å½“å‰ä¼˜å…ˆçº§é˜Ÿåˆ—ç§»é™¤ï¼ŒåŠ å…¥ delaylistï¼Œ xStateListItem end note :prvUnlockQueue(); if (xTaskResumeAll() == false) then (yes) :è°ƒç”¨ svc åˆ‡æ¢task; endif else :prvUnlockQueue(); :xTaskResumeAll(); endif else :å½“å‰æ—¶é—´å·²ç»è¶…æ—¶,ç­‰å¾…ç»“æŸäº†; :prvUnlockQueue(); :xTaskResumeAll(); :return errQUEUE_FULL; note right #yellow ä¸ºå•¥è¿™é‡Œç›´æ¥è¿”å›ï¼Œä¸åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ æœ‰ç©ºé—²çš„è¯ï¼Œè¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯å‘¢ï¼Ÿï¼Ÿ end note stop endif repeat while () @enduml å‚è€ƒ PlantUML è¯­è¨€å‚è€ƒæŒ‡å¼•\nPlantUML å¿«é€Ÿå…¥é—¨æŒ‡å—\nFreeRTOSå¼€å‘è€…æ–‡æ¡£\n","date":"2025å¹´7æœˆ19æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/arm/imx6ull-freertos/","series":[],"smallImg":"","tags":[],"timestamp":1752896623,"title":"Imx6ull FreeRTOS"},{"authors":[],"categories":[],"content":"autosar vector candbå·¥å…·\nç²¾é€‰æ–‡ç«  AUTOSARç²¾é€‰æ–‡ç« æ¨è\nå¦‚ä½•å¿«é€Ÿå­¦ä¹ AUTOSAR?\ntoppers\ntoppers.atk2\nã€Autosarã€‘å­¦ä¹ æ€»ç»“-BSWå±‚_autosar bsw-CSDNåšå®¢\n","date":"2025å¹´7æœˆ9æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/autosar/autosar/","series":[],"smallImg":"","tags":[],"timestamp":1752045220,"title":"Autosar"},{"authors":[],"categories":[],"content":"","date":"2025å¹´7æœˆ8æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/onlinetools/calculator/","series":[],"smallImg":"","tags":[],"timestamp":1751987502,"title":"è®¡ç®—å™¨"},{"authors":[],"categories":[{"title":"åµŒå…¥å¼æ¶æ„","url":"/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%9E%B6%E6%9E%84/"}],"content":" tc397å­¦ä¹ èµ„æ–™\nInfineon ç›¸å…³èµ„æ–™ï¼š å¼€å‘æ¿å¥—ä»¶ä»‹ç»é¡µé¢ï¼šhttps://www.infineon.com/cms/en/product/evaluation-boards/kit_a2g_tc397_5v_tft/\nå¼€å‘æ¿è¯´æ˜æ–‡æ¡£ï¼šApplication Kit Manual TC3X7ï¼Œ ASCLIN_Shell_UART_1_KIT_TC397_TFT TC3xxç³»åˆ—æ€»è§ˆï¼š 32-bit TriCoreâ„¢ AURIXâ„¢â€“ TC3xx\nç”¨æˆ·æ‰‹å†Œï¼š AURIXâ„¢ TC39x User Manual ç¤ºä¾‹ä»£ç ï¼š Infineon/AURIX_code_examples\nè‹±é£å‡Œæ±½è½¦ç”µå­ç”Ÿæ€åœˆï¼šhttps://www.infineon.com/cms/cn/partners/partner-ecosystems/greater-china/autoeco/\né€‰å‹ï¼š å‘½ä»¤è§„åˆ™ï¼š \u0026lt; Infineon-Microcontroller_Pocket_Guide_2022-ProductSelectionGuide-v02_00-EN.pdf \u0026gt;\nTriCoreæ¶æ„ Infineon-AURIX_TC3xx_Architecture_all-UserManual-v01_00-EN.pdf\nTriCoreæ˜¯ä¸€ç§ç»Ÿä¸€çš„ã€å•æ ¸çš„32ä½å¾®æ§åˆ¶å™¨-DSPæ¶æ„ï¼Œä¸“ä¸ºå®æ—¶åµŒå…¥å¼ç³»ç»Ÿä¼˜åŒ–ã€‚TriCoreæŒ‡ä»¤é›†æ¶æ„ï¼ˆISAï¼‰ç»“åˆäº†å¾®æ§åˆ¶å™¨çš„å®æ—¶èƒ½åŠ›ã€DSPçš„è®¡ç®—èƒ½åŠ›å’ŒRISCåŠ è½½/å­˜å‚¨æ¶æ„çš„é«˜æ€§èƒ½/ä»·æ ¼ç‰¹ç‚¹ï¼Œå¹¶ä¸”å…·æœ‰ç´§å‡‘çš„å¯é‡ç¼–ç¨‹æ ¸å¿ƒ\nç»Ÿä¸€32ä½åœ°å€ç©ºé—´ï¼ŒåŒ…å«å¯é€‰çš„è™šæ‹Ÿåœ°å€å’Œå†…å­˜æ˜ å°„I/O æ”¯æŒ16ä½å’Œ32ä½æŒ‡ä»¤æ ¼å¼ï¼Œ16ä½æŒ‡ä»¤æ˜¯32ä½æŒ‡ä»¤çš„å­é›†ï¼Œå› å…¶ä½¿ç”¨é¢‘ç‡é«˜æ‰é€‰æ‹©ã€‚è¿™äº›æŒ‡ä»¤æ˜¾è‘—å‡å°‘äº†ä»£ç ç©ºé—´ï¼Œé™ä½äº†å†…å­˜éœ€æ±‚ã€ç³»ç»Ÿå’ŒåŠŸè€— å®æ—¶å“åº”èƒ½åŠ›ä¸»è¦ç”±ä¸­æ–­å»¶è¿Ÿå’Œä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶é—´å†³å®šï¼Œé¿å…é•¿çš„å¤šå‘¨æœŸæŒ‡ä»¤å’Œæä¾›çµæ´»çš„ç¡¬ä»¶æ”¯æŒä¸­æ–­æ–¹æ¡ˆæ¥æœ€å°åŒ–ä¸­æ–­å»¶è¿Ÿ æ”¯æŒå¿«é€Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ å°ç«¯å­—èŠ‚åºï¼šdata memory and CPU registers EABIä¼ å‚ 2.2.3 Argument Passing1\nç”¨äº éæŒ‡é’ˆç±»å‹ï¼ˆä¾‹å¦‚ int, float, char ç­‰ï¼‰ çš„å¯„å­˜å™¨ï¼š D4, D5, D6, D7 ç”¨äº æŒ‡é’ˆç±»å‹ï¼ˆä¾‹å¦‚ char*, int*, struct* ç­‰ï¼‰ çš„å¯„å­˜å™¨ï¼š A4, A5, A6, A7 CALL å’Œ RETè‡ªåŠ¨ä¿å­˜/æ¢å¤è¿™äº›å¯„å­˜å™¨ï¼š D8â€“D15, A10â€“A15 taskåˆ‡æ¢åªéœ€æ‰‹åŠ¨ä¿å­˜lower contextå³å¯\nè¿”å›å€¼\n2.2.5 Return Values\nåŒ…æ‹¬ int, float, char, bool ç­‰ç±»å‹\nD2 64-bit æ ‡é‡\nä½¿ç”¨ E2ï¼Œå³ D2:D3 32-bit æŒ‡é’ˆç±»å‹\nä½¿ç”¨ A2 64-bit æŒ‡é’ˆ\nA2:A3 å°äºç­‰äº 32-bit çš„ç»“æ„ä½“\nD2 å¤§å°åœ¨ 33 ~ 64-bit çš„ç»“æ„ä½“\nA2:A3 å¤§äº 64-bit çš„ç»“æ„ä½“\nè°ƒç”¨è€…ï¼ˆcallerï¼‰åˆ†é…è¿”å›ç»“æ„ä½“æ‰€éœ€çš„ç¼“å†²åŒº å¯„å­˜å™¨ï¼š é€šç”¨å¯„å­˜å™¨ï¼š32ä¸ª æ•°æ®å¯„å­˜å™¨ (D[0] - D[15]): ç”¨äºå­˜å‚¨å’Œå¤„ç†æ•°æ®\nåœ°å€å¯„å­˜å™¨ (A[0] - A[15]): ç”¨äºå­˜å‚¨å’Œæ“ä½œå†…å­˜åœ°å€\nA[10]ã€A[11]ã€A[15]ã€D[15]è¿™4ä¸ªé€šç”¨å¯„å­˜å™¨è¿˜æœ‰ç‰¹æ®ŠåŠŸèƒ½ï¼š\nA[10]ï¼šæ ˆæŒ‡é’ˆå¯„å­˜å™¨Stack Pointer (SP) register\nA[11]ï¼šè¿”å›åœ°å€å¯„å­˜å™¨Return Address (RA) register\nA[15]ï¼šéšå¼åŸºåœ°å€å¯„å­˜å™¨Implicit Address register\nD[15]ï¼šéšå¼æ•°æ®å¯„å­˜å™¨Implicit Data register\nA[0]ã€A[1]ã€A[8]ã€A[9]æ˜¯ç³»ç»Ÿå…¨å±€å¯„å­˜å™¨ï¼š\nå‡½æ•°è°ƒç”¨ã€ä¸­æ–­å‘ç”Ÿè¿‡ç¨‹ä¸­ï¼Œä¸Šä¸‹æ–‡çš„Saveå’ŒRestoreä¸ä¼šå­˜å‚¨è¿™4ä¸ªå¯„å­˜å™¨ä¸­çš„ä¿¡æ¯\nå…¶ä»–åŠŸèƒ½å¯„å­˜å™¨ DEA (Data Error Address Register):è®°å½•è§¦å‘å¼‚å¸¸çš„å†…å­˜åœ°å€ï¼ˆå¯¹äºæ•°æ®è®¿é—®å¼‚å¸¸ï¼Œå¦‚ç©ºæŒ‡é’ˆæˆ–å†™åªè¯»åŒºåŸŸï¼‰ DSTR (Data Synchronous Trap Register):æä¾›æ•°æ®è®¿é—®å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯ FCX (Free Context List Pointer):æŒ‡å‘å¯ç”¨ä¸Šä¸‹æ–‡ä¿å­˜åŒºåŸŸï¼Œå¯èƒ½ç”¨äºæ£€æŸ¥ä¸Šä¸‹æ–‡æ˜¯å¦è€—å°½ï¼ˆå¯èƒ½å¯¼è‡´å¼‚å¸¸ï¼‰ Register Name Description AddressOffset PCXI2 Previous Context Information Register FE00 PSW3 Program Status Word Register FE04 CPU_ID CPU Identification Register (Read Only) FE18 CORE_ID Core Identification Register FE1C BIV4 Base Interrupt Vector Table Pointer FE20 BTV5 Base Trap Vector Table Pointer FE24 ISP Interrupt Stack Pointer Register FE28 ICR6 ICU Interrupt Control Register FE2C Trap System å¤„ç†å„ç§å¼‚å¸¸äº‹ä»¶ï¼Œå¦‚ä¸å¯å±è”½ä¸­æ–­ï¼ˆNMIï¼‰ã€æŒ‡ä»¤å¼‚å¸¸æˆ–éæ³•è®¿é—®ï¼Œä¸èƒ½è¢«è½¯ä»¶å±è”½ï¼Œtrapä¸€ç›´æ˜¯ä½¿èƒ½çš„\ntrapç±»å‹ï¼š TriCoreæ¶æ„å°†é™·é˜±åˆ†ä¸ºå…«ä¸ªç±»åˆ«ï¼Œæ¯ä¸ªç±»åˆ«è¿›ä¸€æ­¥åˆ†ä¸ºåŒæ­¥æˆ–å¼‚æ­¥ã€ç¡¬ä»¶æˆ–è½¯ä»¶é™·é˜±ã€‚æ¯ä¸ªé™·é˜±éƒ½æœ‰ä¸€ä¸ªé™·é˜±è¯†åˆ«å·ï¼ˆTrap Identification Number, TINï¼‰ï¼Œç”¨äºåœ¨å…¶ç±»åˆ«å†…æ ‡è¯†é™·é˜±çš„åŸå› ã€‚å½“é™·é˜±è¢«æ•è·æ—¶ï¼Œé™·é˜±è¯†åˆ«å· TIN ä¼šæ”¾ç½®åœ¨æ•°æ®å¯„å­˜å™¨D[15]ä¸­\nD15çš„ä½å…­ä½ä¸­\nMMU (Memory Management Unit) é™·é˜±: ä¸å†…å­˜ç®¡ç†å•å…ƒç›¸å…³çš„å¼‚å¸¸ï¼Œå¦‚å†…å­˜è®¿é—®è¿ä¾‹ã€‚ å†…éƒ¨ä¿æŠ¤é™·é˜±: ä¿æŠ¤æœºåˆ¶å¼•å‘çš„å¼‚å¸¸ï¼Œå¦‚æƒé™é—®é¢˜ã€‚ æŒ‡ä»¤é”™è¯¯é™·é˜±: æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿçš„é”™è¯¯ï¼Œå¦‚éæ³•æŒ‡ä»¤ã€‚ ä¸Šä¸‹æ–‡ç®¡ç†é™·é˜±: ä¸ä»»åŠ¡ä¸Šä¸‹æ–‡åˆ‡æ¢ç›¸å…³çš„å¼‚å¸¸ã€‚ ç³»ç»Ÿæ€»çº¿å’Œå¤–è®¾é™·é˜±: ç³»ç»Ÿæ€»çº¿å’Œå¤–è®¾å¼•å‘çš„å¼‚å¸¸ã€‚ æ–­è¨€é™·é˜±: ç¨‹åºä¸­æ–­è¨€å¤±è´¥å¼•å‘çš„å¼‚å¸¸ã€‚ ç³»ç»Ÿè°ƒç”¨é™·é˜±: ç³»ç»Ÿè°ƒç”¨æŒ‡ä»¤å¼•å‘çš„å¼‚å¸¸ã€‚ ä¸å¯å±è”½ä¸­æ–­ (NMI) é™·é˜±: é«˜ä¼˜å…ˆçº§çš„ä¸å¯å±è”½ä¸­æ–­å¼•å‘çš„å¼‚å¸¸ã€‚ åˆå¯åˆ†ä¸ºå¦‚ä¸‹å‡ ç§ç±»å‹ï¼š\nåŒæ­¥é™·é˜±: ç”±æŒ‡ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸­çš„é”™è¯¯å¼•å‘ï¼Œå‘ç”Ÿåœ¨ç¨‹åºçš„é¢„å®šç‚¹ã€‚ å¼‚æ­¥é™·é˜±: ç”±å¤–éƒ¨äº‹ä»¶ï¼ˆå¦‚ä¸­æ–­ï¼‰å¼•å‘ï¼Œå¯èƒ½åœ¨ç¨‹åºæ‰§è¡Œçš„ä»»æ„æ—¶åˆ»å‘ç”Ÿã€‚ ç¡¬ä»¶é™·é˜±: ç”±ç¡¬ä»¶é”™è¯¯æˆ–å¼‚å¸¸å¼•å‘ã€‚ è½¯ä»¶é™·é˜±: ç”±è½¯ä»¶é”™è¯¯æˆ–å¼‚å¸¸å¼•å‘ã€‚ ä¸å¯æ¢å¤çš„é™·é˜±: å¼•å‘ä»»åŠ¡ä¸å¯æ¢å¤ï¼Œæ— æ³•ç®€å•é‡æ–°å¯åŠ¨ã€‚ TIN Name Synch./\nASynch. HW/\nSW Definition Class 0 \u0026mdash; \u0026mdash; \u0026mdash; MMU 0 VAF Synch. HW Virtual Address Fill. 1 VAP Synch. HW Virtual Address Protection. Class 1 \u0026mdash; \u0026mdash; \u0026mdash; Internal Protection Traps 1 PRIV Synch. HW Privileged Instruction. 2 MPR Synch. HW Memory Protection Read. 3 MPW Synch. HW Memory Protection Write. 4 MPX Synch. HW Memory Protection Execution. 5 MPP Synch. HW Memory Protection Peripheral Access. 6 MPN Synch. HW Memory Protection Null Address. 7 GRWP Synch. HW Global Register Write Protection. Class 2 \u0026mdash; \u0026mdash; \u0026mdash; Instruction Errors 1 IOPC Synch. HW Illegal Opcode. 2 UOPC Synch. HW Unimplemented Opcode. 3 OPD Synch. HW Invalid Operand specification. 4 ALN Synch. HW Data Address Alignment. 5 MEM Synch. HW Invalid Local Memory Address. Class 3 \u0026mdash; \u0026mdash; \u0026mdash; Context Management 1 FCD Synch. HW Free Context List Depletion (FCX = LCX). 2 CDO Synch. HW Call Depth Overflow. 3 CDU Synch. HW Call Depth Underflow 4 FCU Synch. HW Free Context List Underflow (FCX = 0). 5 CSU Synch. HW Call Stack Underflow (PCX = 0). 6 CTYP Synch. HW Context Type (PCXI.UL wrong). 7 NEST Synch. HW Nesting Error: RFE with non-zero call depth. Class 4 \u0026mdash; \u0026mdash; \u0026mdash; System Bus and Peripheral Errors 1 PSE Synch. HW Program Fetch Synchronous Error. 2 DSE Synch. HW Data Access Synchronous Error. 3 DAE Asynch AHW Data Access Asynchronous Error. 4 CAE Asynch HW Coprocessor Trap Asynchronous Error. 5 PIE Synch HW Program Memory Integrity Error. 6 DIE Asynch HW Data Memory Integrity Error. 7 TAE Asynch HW Temporal Asynchronous Error Class 5 \u0026mdash; \u0026mdash; \u0026mdash; Assertion Traps 1 OVF Synch SW Arithmetic Overflow. 2 SOVF Synch SW Sticky Arithmetic Overflow. Class 6 \u0026mdash; \u0026mdash; \u0026mdash; System Call SYS Synch SW System Call. Class 7 \u0026mdash; \u0026mdash; \u0026mdash; Non-Maskable Interrupt 0 NMI Asynch HW Non-Maskable Interrupt Infineon-AURIX_TC3xx_Architecture_vol1-UserManual-v01_00-EN_merged_unsigned.pdf -\u0026gt; 6.1 Trap Types\nå¼‚å¸¸å¤„ç†ï¼š é™·é˜±ä¸ä¼šæ”¹å˜ CPU çš„ä¸­æ–­ä¼˜å…ˆçº§ï¼Œå› æ­¤ ICR.CCPN å­—æ®µä¸ä¼šè¢«æ›´æ–°\nè¿”å›åœ°å€å­˜å‚¨åœ¨è¿”å›åœ°å€å¯„å­˜å™¨ A[11] ä¸­ã€‚\nåŒæ­¥é™·é˜±ï¼Œè¿”å›åœ°å€æ˜¯å¼•å‘é™·é˜±çš„æŒ‡ä»¤çš„ç¨‹åºè®¡æ•°å™¨ (PC)\nSYS é™·é˜±: ç”± SYSCALL æŒ‡ä»¤è§¦å‘çš„ SYS é™·é˜±ï¼Œè¿”å›åœ°å€æŒ‡å‘ SYSCALL ä¹‹åçš„æŒ‡ä»¤\nFCD é™·é˜±: è¯¦è§ â€œFCD - è‡ªç”±ä¸Šä¸‹æ–‡åˆ—è¡¨è€—å°½ (TIN 1)â€\nå¼‚æ­¥é™·é˜±: è¿”å›åœ°å€æ˜¯å¦‚æœæœªå‘ç”Ÿé™·é˜±å°†è¦æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ã€‚ä¸­æ–­çš„è¿”å›åœ°å€ä¹Ÿéµå¾ªç›¸åŒçš„è§„åˆ™\nå½“å‘ç”Ÿé™·é˜±æ—¶ï¼Œç¡¬ä»¶ä¼šç”Ÿæˆä¸€ä¸ªé™·é˜±æ ‡è¯†ç¬¦ï¼Œè¯¥æ ‡è¯†ç¬¦ç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š\né™·é˜±ç±»åˆ«å· (TCN): ç”¨äºç´¢å¼•åˆ°é™·é˜±å‘é‡è¡¨ã€‚ é™·é˜±è¯†åˆ«å· (TIN): è¯¥å·ç ä¼šè¢«åŠ è½½åˆ°æ•°æ®å¯„å­˜å™¨ D[15] ä¸­ã€‚ é™·é˜±ç±»åˆ«å· (TCN) ä¼šå·¦ç§»äº”ä½ï¼Œå¹¶ä¸ BTV å¯„å­˜å™¨ä¸­çš„åœ°å€è¿›è¡ŒæŒ‰ä½æˆ–æ“ä½œï¼Œä»¥ç”Ÿæˆé™·é˜±å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€ã€‚\nå¼‚å¸¸å‘é‡åŸºåœ°å€ ï¼šBTVï¼Œ æ¯ä¸¤ä¸ªä¹‹é—´é—´éš”32ä¸ªbyte ï¼Œå¦‚æœå¤„ç†é€»è¾‘å¾ˆç®€çŸ­ï¼Œå¯ä»¥æ”¾åœ¨å‘é‡ä»£ç æ®µ32ä¸ªbyteå†…ï¼Œå¦åˆ™å°±è·³åˆ°å¤„ç†ç¨‹åºå…¶ä»–éƒ¨åˆ†ï¼Œä½¿ç”¨ MTCR æŒ‡ä»¤ä¿®æ”¹ BTV å¯„å­˜å™¨ï¼Œæœ‰å¤šä¸ªå¼‚å¸¸å‘é‡è¡¨çš„æ—¶å€™å¯ä»¥é€‚é…è°ƒæ•´ã€‚\né€šè¿‡TCNå·¦ç§»5ä½ä¸ä¸ŠBTVï¼Œæ‰¾åˆ°å‡½æ•°çš„å…¥å£åœ°å€\nUnlike the Interrupt Vector Table, entries in the Trap Vector Table cannot be spanned. æ‰€æœ‰çš„trapæ¡ç›®éƒ½è¦é…ç½® ?\nTCNçš„ä½œç”¨ï¼Œè®¡ç®—é…ç½®trapå‘é‡è¡¨ï¼Œæ‰¾åˆ°å…¥å£åœ°å€ï¼Œç„¶åTINè¿›è¡Œå¤„ç†ï¼Ÿ\né™·é˜±è§¦å‘æ—¶çš„åˆå§‹çŠ¶æ€ å½“é™·é˜±å‘ç”Ÿæ—¶çš„åˆå§‹çŠ¶æ€å®šä¹‰å¦‚ä¸‹ï¼š\nä¸Šå±‚ä¸Šä¸‹æ–‡è¢«ä¿å­˜ã€‚ è¿”å›åœ°å€æ›´æ–°è‡³ A[11]ã€‚ é™·é˜±è¯†åˆ«å· (TIN) è¢«åŠ è½½åˆ° D[15]ã€‚ å †æ ˆæŒ‡é’ˆ (A[10]) è¢«è®¾ç½®ä¸ºä¸­æ–­å †æ ˆæŒ‡é’ˆ (ISP)ï¼Œå‰ææ˜¯å¤„ç†å™¨ä¹‹å‰æœªä½¿ç”¨ä¸­æ–­å †æ ˆï¼ˆå³ PSW.IS = 0ï¼‰ã€‚å †æ ˆæŒ‡é’ˆä½è¢«è®¾ç½®ä¸ºä½¿ç”¨ä¸­æ–­å †æ ˆï¼šPSW.IS = 1ã€‚ I/O æ¨¡å¼è¢«è®¾ç½®ä¸ºç›‘ç£æ¨¡å¼ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰æƒé™éƒ½è¢«å¯ç”¨ï¼šPSW.IO = 10Bã€‚ å½“å‰ä¿æŠ¤å¯„å­˜å™¨ç»„è¢«è®¾ç½®ä¸º 0ï¼šPSW.PRS = 000Bã€‚ è°ƒç”¨æ·±åº¦è®¡æ•°å™¨ (CDC) è¢«æ¸…é›¶ï¼Œè°ƒç”¨æ·±åº¦é™åˆ¶è®¾ç½®ä¸º 64ï¼šPSW.CDC = 0000000Bã€‚ å¯ç”¨è°ƒç”¨æ·±åº¦è®¡æ•°å™¨ï¼ŒPSW.CDE = 1ã€‚ PSW å®‰å…¨ä½è¢«è®¾ç½®ä¸º SYSCON å¯„å­˜å™¨ä¸­å®šä¹‰çš„å€¼ï¼šPSW.S = SYSCON.TSã€‚ ç¦æ­¢å†™å…¥å…¨å±€å¯„å­˜å™¨ A[0], A[1], A[8], A[9]ï¼šPSW.GW = 0ã€‚ ä¸­æ–­ç³»ç»Ÿè¢«å…¨å±€ç¦ç”¨ï¼šICR.IE = 0ã€‚æ—§çš„ ICR.IE å’Œ ICR.CCPN åˆ†åˆ«ä¿å­˜åˆ° PCXI.PIE å’Œ PCXI.PCPN ä¸­ã€‚ICR.CCPN ä¿æŒä¸å˜ã€‚ è®¿é—®é™·é˜±å‘é‡è¡¨ä»¥è·å–é™·é˜±å¤„ç†ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚ **å°½ç®¡é™·é˜±ä¸ä¼šæ›´æ”¹ ** ICR.CCPN ï¼Œä½†å®ƒä»¬çš„å¤„ç†ç¨‹åºä»ç„¶åœ¨ä¸­æ–­è¢«ç¦ç”¨çš„æƒ…å†µä¸‹å¼€å§‹æ‰§è¡Œã€‚å› æ­¤ï¼Œå®ƒä»¬å¯ä»¥åœ¨ä¸è¢«ä¸­æ–­çš„æƒ…å†µä¸‹æ‰§è¡Œå…³é”®çš„åˆå§‹æ“ä½œï¼Œç›´åˆ°å®ƒä»¬æ˜ç¡®é‡æ–°å¯ç”¨ä¸­æ–­ã€‚\nå¯¹äºä¸å¯æ¢å¤çš„ FCU é™·é˜±ï¼Œåˆå§‹çŠ¶æ€æœ‰æ‰€ä¸åŒã€‚ä¸Šå±‚ä¸Šä¸‹æ–‡æ— æ³•ä¿å­˜ã€‚åªæœ‰ä»¥ä¸‹çŠ¶æ€è¢«ä¿è¯ï¼š\nTIN è¢«åŠ è½½åˆ° D[15]ã€‚ å †æ ˆæŒ‡é’ˆ (A[10]) è¢«è®¾ç½®ä¸ºä¸­æ–­å †æ ˆæŒ‡é’ˆ (ISP)ï¼Œå‰ææ˜¯å¤„ç†å™¨ä¹‹å‰æœªä½¿ç”¨ä¸­æ–­å †æ ˆï¼ˆå³ PSW.IS == 0ï¼‰ã€‚ I/O æ¨¡å¼è¢«è®¾ç½®ä¸ºç›‘ç£æ¨¡å¼ï¼ˆæ‰€æœ‰æƒé™éƒ½è¢«å¯ç”¨ï¼šPSW.IO = 10Bï¼‰ã€‚ å½“å‰ä¿æŠ¤å¯„å­˜å™¨ç»„è¢«è®¾ç½®ä¸º 0ï¼šPSW.PRS = 000Bã€‚ PSW å®‰å…¨ä½è¢«è®¾ç½®ä¸º SYSCON å¯„å­˜å™¨ä¸­å®šä¹‰çš„å€¼ï¼šPSW.S = SYSCON.TSã€‚ ä¸­æ–­ç³»ç»Ÿè¢«å…¨å±€ç¦ç”¨ï¼šICR.IE = 0ã€‚ICR.CCPN ä¿æŒä¸å˜ã€‚ è®¿é—®é™·é˜±å‘é‡è¡¨ä»¥è·å– FCU é™·é˜±å¤„ç†ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ ä»£ç åˆ†æ BTVå¯„å­˜å™¨è®¾ç½®trapå¼‚å¸¸è·³è½¬å‡½æ•°\n1#define TRAPTAB0 (LCF_TRAPVEC0_START) 2group trapvec_tc0 (align = 8, run_addr=LCF_TRAPVEC0_START) 3{ 4 section \u0026#34;trapvec_tc0\u0026#34; (size=0x100, attributes=rx, fill=0) 5 { 6 select \u0026#34;(.text.traptab_cpu0*)\u0026#34;; 7 } 8} 9\u0026#34;__TRAPTAB_CPU0\u0026#34; := TRAPTAB0; 10#define CPU_BTV 0xFE24 11#define __TRAPTAB_CPU(cpu) __TRAPTAB_CPU##cpu 12#define __TRAPTAB(cpu) __TRAPTAB_CPU##cpu 13Ifx_Ssw_MTCR(CPU_BTV, (unsigned int)__TRAPTAB(0)); 14 15 16#pragma ghs section text=\u0026#34;.traptab_cpu0\u0026#34; 17void IfxCpu_Trap_vectorTable0(void) 18{ 19 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_memoryManagementError); 20 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_internalProtectionError); 21 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_instructionError); 22 IfxCpu_Tsr_CallCSATSR(IfxCpu_Trap_contextManagementError); 23 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_busError); 24 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_assertion); 25 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_systemCall_Cpu0); 26 IfxCpu_Tsr_CallTSR(IfxCpu_Trap_nonMaskableInterrupt); 27} 28#pragma ghs section 29 30// defined(__ghs__) 31#define __ALIGN_TRAP_TAB__ __asm(\u0026#34; .align 32\u0026#34;); 32#define IfxCpu_Tsr_CallTSR(serviceRoutine) \\ 33 { \\ 34 __ALIGN_TRAP_TAB__; \\ 35 __asm(\u0026#34;svlcx\\n\u0026#34;); \\ 36 __asm(\u0026#34;mov\\t d4, d15\u0026#34;); \\ 37 __asm(\u0026#34;ji\\t %0\u0026#34; : : \u0026#34;a\u0026#34; (serviceRoutine)); \\ 38 __asm(\u0026#34;rfe\u0026#34;); \\ 39 } 40#define IfxCpu_Tsr_CallCSATSR(serviceRoutine) \\ 41 { \\ 42 __ALIGN_TRAP_TAB__; \\ 43 __asm(\u0026#34;mov\\t d4, d15\u0026#34;); \\ 44 __asm(\u0026#34;ji\\t %0\u0026#34; : : \u0026#34;a\u0026#34; (serviceRoutine)); \\ 45 __asm(\u0026#34;rfe\u0026#34;); \\ 46 } ä¸­æ–­ï¼š SRPN (Service Request Priority Number): æ¯ä¸ªä¸­æ–­æºåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ SRPN\nPIPN (Pending Interrupt Priority Number) : æŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§å·\nCCPN (Current CPU Priority Number): å½“å‰cpuä¼˜å…ˆçº§\nICU (Interrupt Control Unit ): ä¸­æ–­æ§åˆ¶å•å…ƒ\nä¸­æ–­æè¿°ï¼š ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU) ä½¿ç”¨ SRPN æ¥ä¼˜å…ˆå¤„ç†å¤šä¸ªå¹¶å‘çš„ä¸­æ–­è¯·æ±‚ã€‚è·èƒœè¯·æ±‚çš„ SRPN ä½œä¸ºæŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§å· (PIPN)ï¼Œå½“æœ‰æ–°çš„ä¸­æ–­è¯·æ±‚è§¦å‘,CPU é€šè¿‡å°† PIPN ä¸å½“å‰ CPU ä¼˜å…ˆçº§å· (CCPN) è¿›è¡Œæ¯”è¾ƒï¼Œå†³å®šæ˜¯å¦æ¥å—è¯·æ±‚çš„ä¸­æ–­ã€‚å¦‚æœ CPU å†³å®šæ¥å—ä¸­æ–­è¯·æ±‚ï¼Œå®ƒå°†å“åº”ä¸€ä¸ªä¸­æ–­ç¡®è®¤ï¼Œå¹¶è¿”å›å·²æ¥å—ä¸­æ–­çš„ä¼˜å…ˆçº§å·ã€‚ICU éšåä¼šæ¸…é™¤è¯·æ±‚çš„ä¸­æ–­æº\n**ä¸­æ–­å“åº”æ¡ä»¶ï¼š **ICR.IE == 1 \u0026amp;\u0026amp; PIPN \u0026gt; CCPN\nå¯èƒ½ç¦æ­¢ä¸­æ–­å“åº”çš„æ¡ä»¶ï¼š\nä¸­æ–­ç³»ç»Ÿå…¨å±€ç¦ç”¨ (ICR.IE == 0)ã€‚\nå½“å‰ CPU ä¼˜å…ˆçº§ (CCPN) ç­‰äºæˆ–é«˜äºæŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§å· (PIPN)ã€‚\nCPU æ­£åœ¨è¿›å…¥ä¸­æ–­æˆ–é™·é˜±æœåŠ¡ä¾‹ç¨‹ã€‚\nCPU æ­£åœ¨æ‰§è¡Œä¸å¯ä¸­æ–­çš„é™·é˜±æœåŠ¡ã€‚\nCPU æ­£åœ¨æ‰§è¡Œå¤šå‘¨æœŸæŒ‡ä»¤ã€‚\nCPU æ­£åœ¨æ‰§è¡Œä¿®æ”¹ ICR çš„æŒ‡ä»¤\nä¸­æ–­å‘é‡è¡¨ï¼š æ¯ä¸ªä¸­æ–­å‘é‡å ç”¨32byteæˆ–è€…8byteï¼Œç”±BIV.VSSçš„å€¼å†³å®š\n1if (BIV.VSS == 1â€™b0) 2 ISR_Entry_PC = {BIV[31:1],1â€™b0} | {PIPN\u0026lt;\u0026lt;5}; 3else 4 ISR_Entry_PC = {BIV[31:1],1â€™b0} | {PIPN\u0026lt;\u0026lt;3}; ä¼˜å…ˆçº§ç»„ï¼š\nä¸­æ–­ä¼˜å…ˆçº§ç»„æè¿°äº†ä¸€ç»„ä¸èƒ½ä¸­æ–­å½¼æ­¤æœåŠ¡ç¨‹åºçš„ä¸­æ–­ã€‚å½“ CPU å¼€å§‹å¤„ç†æŸä¸ªä¸­æ–­æ—¶ï¼Œä¸­æ–­ç³»ç»Ÿä¼šè¢«å…¨å±€ç¦ç”¨ï¼Œä¸” CPU çš„å½“å‰ä¼˜å…ˆçº§å·ç  (CCPN) è®¾ç½®ä¸ºæ­£åœ¨æœåŠ¡çš„ä¸­æ–­çš„ä¼˜å…ˆçº§å·ç ã€‚è¿™ä¼šé˜»æ­¢æ‰€æœ‰è¿›ä¸€æ­¥çš„ä¸­æ–­æœåŠ¡ï¼Œç›´åˆ°é€šè¿‡è½¯ä»¶é‡æ–°å¯ç”¨ä¸­æ–­ç³»ç»Ÿæˆ–ä½¿ç”¨ RFEï¼ˆå¼‚å¸¸è¿”å›ï¼‰æŒ‡ä»¤ç»ˆæ­¢æœåŠ¡ä¾‹ç¨‹ã€‚\nRFE æŒ‡ä»¤ï¼šRFE æŒ‡ä»¤ä¼šè‡ªåŠ¨æ¢å¤ ICR.IE ä½çš„å‰ä¸€ä¸ªçŠ¶æ€ï¼ˆICR.IE = 1ï¼‰\nå½“ ISR è½¯ä»¶é€šè¿‡è®¾ç½® ICR.IE å†æ¬¡å¯ç”¨ä¸­æ–­ç³»ç»Ÿè€Œä¸æ”¹å˜ CCPN æ—¶ï¼Œå°±å¯ä»¥é˜»æ­¢æ‰€æœ‰ä¸ CCPN ç›¸åŒæˆ–æ›´ä½ä¼˜å…ˆçº§çš„ä¸­æ–­è¯·æ±‚ã€‚è¿™åŒ…æ‹¬å½“å‰ä¸­æ–­çš„é‡æ–°å‘ç”Ÿï¼Œå³å½“å‰ä¸­æ–­ä¸èƒ½ä¸­æ–­è‡ªå·±çš„æœåŠ¡ã€‚ä½†ä¼šè¢«æ›´é«˜ä¼˜å…ˆçº§çš„ä¸­æ–­æ‰“æ–­ã€‚ä¸ºäº†å®ç°ä¸­æ–­ä¼˜å…ˆçº§ç»„ï¼Œç›¸å…³çš„æœåŠ¡ä¾‹ç¨‹è½¯ä»¶ä¼šåœ¨å†æ¬¡å¯ç”¨ä¸­æ–­ç³»ç»Ÿä¹‹å‰ï¼Œ å°† CCPN è®¾ç½®ä¸ºè¯¥ç»„ä¸­æœ€é«˜ SRPN çš„å€¼ ï¼Œå¦‚ä¸‹å›¾ï¼š\nç»„1ï¼š11-12ï¼ŒCCPN=12\nç»„2ï¼š14-17ï¼ŒCCPN=17\nä¸­æ–­ä¼˜å…ˆçº§ï¼š ä¸­æ–­å¤„ç†ï¼š è¿›å…¥ä¸­æ–­çš„è¡Œä¸ºå¦‚ä¸‹ï¼š\nThe upper context of the current task is saved. The Return Address (A[11]) is updated with the current PC. If the processor was not previously using the interrupt stack (PSW.IS = 0), then the A[10] Stack Pointer is set to the interrupt stack pointer (ISP). The stack pointer bit is then set for using the interrupt stack: PSW.IS = 1. The I/O mode is set to Supervisor mode, which means all permissions are enabled: PSW.IO = 10B. The current Protection Register Set is set to 0: PSW.PRS = 000B. The Call Depth Counter (PSW.CDC) is cleared, and the call depth limit selector is set for 64: PSW.CDC = 0000000B. Call Depth Counter is enabled, PSW.CDE = 1. PSW Safety bit is set to value defined in the SYSCON register. PSW.S = SYSCON.IS. Write permission to global registers A[0], A[1], A[8], A[9] is disabled: PSW.GW = 0. The interrupt system is globally disabled: ICR.IE = 0. The old ICR.IE is saved into PCXI.PIE. The Current CPU Priority Number (ICR.CCPN) is saved into the Previous CPU Priority Number (PCXI.PCPN) field. The Pending Interrupt Priority Number (ICR.PIPN) is saved into the Current CPU Priority Number (ICR.CCPN) field. The interrupt vector table is accessed to fetch the first instruction of the ISR. ä¸­æ–­é€€å‡ºçš„è¡Œä¸ºï¼š\nPCXI.PCPN is written to ICR.CCPN to set the CPU priority number to the value before interruption. PCXI.PIE is written to ICR.IE to restore the state of this bit. ä»»åŠ¡åˆ‡æ¢ åœ¨åµŒå…¥å¼å’Œå®æ—¶æ§åˆ¶ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œé€šå¸¸å°†ä¸­æ–­å¤„ç†ç¨‹åºå’Œè½¯ä»¶ç®¡ç†çš„ä»»åŠ¡è§†ä¸ºåœ¨å„è‡ªçš„â€œè™šæ‹Ÿâ€å¾®æ§åˆ¶å™¨ä¸Šæ‰§è¡Œã€‚è¿™ä¸ªæ¨¡å‹é€šå¸¸ç”±å®æ—¶æ‰§è¡Œç³»ç»Ÿæˆ–å®æ—¶æ“ä½œç³»ç»Ÿï¼ˆRTOSï¼‰æ”¯æŒï¼Œè¿™äº›ç³»ç»Ÿå±‚å åœ¨åº•å±‚æœºå™¨æ¶æ„çš„åŠŸèƒ½ä¹‹ä¸Šã€‚\nåœ¨TriCoreâ„¢æ¶æ„ä¸­ï¼ŒRTOSå±‚éœ€è¦å¤„ç†çš„æ›´å°‘ï¼Œç¡¬ä»¶å¯ä»¥é«˜æ•ˆåœ°å¤„ç†ä»»åŠ¡ä¹‹é—´çš„åˆ‡æ¢ã€‚åŒæ—¶ï¼Œè¯¥æ¶æ„å…è®¸åœ¨ä»»åŠ¡æ¨¡å‹ä¸­å…·æœ‰ç›¸å½“å¤§çš„çµæ´»æ€§ã€‚ç³»ç»Ÿè®¾è®¡äººå‘˜å¯ä»¥æ ¹æ®åº”ç”¨ç¨‹åºçš„éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„å®æ—¶æ‰§è¡Œç³»ç»Ÿå’Œè½¯ä»¶è®¾è®¡æ–¹æ³•ï¼Œè€Œæ¶æ„å¯¹å…¶æ–½åŠ çš„é™åˆ¶ç›¸å¯¹è¾ƒå°‘ã€‚\nåœ¨TriCoreæ¶æ„ä¸­ï¼Œä½å¼€é”€çš„ä»»åŠ¡åˆ‡æ¢å’Œå‡½æ•°è°ƒç”¨æœºåˆ¶æ˜¯å¯†åˆ‡ç›¸å…³çš„ã€‚\nä»»åŠ¡åˆ‡æ¢ï¼Œä¿æŠ¤å½“å‰ä»»åŠ¡çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åå›å¤å¦ä¸€ä¸ªå¾…æ‰§è¡Œä»»åŠ¡çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶æ‰§è¡Œ\nContexts, when saved to memory, occupy 16 word blocks of storage, known as **Context Save Areas ** (CSAs).\nUpper context: åŒ…æ‹¬åœ°å€å¯„å­˜å™¨A[10]åˆ°A[15]å’Œæ•°æ®å¯„å­˜å™¨D[8]åˆ°D[15]ï¼ŒPCXIå’ŒPSWã€‚\nLower context : åŒ…æ‹¬åœ°å€å¯„å­˜å™¨A[2]åˆ°A[7]ã€æ•°æ®å¯„å­˜å™¨D[0]åˆ°D[7]ã€A[11]ï¼ˆè¿”å›åœ°å€ï¼‰å’ŒPCXIã€‚\næ¯ä¸ªCSAä¿å­˜ä¸€ä¸ª Upper context æˆ– Lower context\nLink Wordç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼ŒSegmentå’ŒOffsetï¼Œä¸Šé¢è§£é‡Šäº†ä¸€ä¸ªCSAå ç”¨64byteå¤§å°ï¼Œæ‰€æœ‰CSAå¯ç”¨çš„å¤§å°æ˜¯4M\nç³»ç»Ÿä¸­çš„ä¼šç»´æŠ¤ä¸¤ä¸ªCSAé“¾è¡¨ï¼ŒPrevious Context List (PCX) å’Œ Free Context List (FCX)\nä¸Šä¸‹æ–‡ä¿å­˜ï¼š\nä¸‹åŠéƒ¨åˆ†ä¸Šä¸‹æ–‡å¯„å­˜å™¨ï¼šç±»ä¼¼äºå…¨å±€å¯„å­˜å™¨ï¼Œå³ä¸­æ–­å¤„ç†ç¨‹åºã€é™·é˜±å¤„ç†ç¨‹åºæˆ–è°ƒç”¨å‡½æ•°å¯ä»¥çœ‹åˆ°è¿™äº›å¯„å­˜å™¨ä¸­æ–­å‰çš„å€¼ã€‚åœ¨äº‹ä»¶ç»“æŸåï¼Œè¿™äº›å¯„å­˜å™¨ä¸­çš„ä»»ä½•æ›´æ”¹ä¼šä¿ç•™ï¼Œå› æ­¤å¯ä»¥ç”¨äº ä¼ é€’å‡½æ•°å‚æ•°å’Œè¿”å›å€¼ ã€‚ä¸­æ–­å’Œé™·é˜±å¤„ç†ç¨‹åºå¿…é¡»åœ¨ä½¿ç”¨è¿™äº›å¯„å­˜å™¨ä¹‹å‰ä¿å­˜å®ƒä»¬çš„åŸå§‹å€¼ï¼Œå¹¶åœ¨é€€å‡ºä¹‹å‰æ¢å¤è¿™äº›å€¼ã€‚ ä¸ŠåŠéƒ¨åˆ†ä¸Šä¸‹æ–‡å¯„å­˜å™¨ï¼šè¿™äº›å¯„å­˜å™¨ä¸æ˜¯ç¡¬ä»¶é™æ€å¯„å­˜å™¨ã€‚æ¦‚å¿µä¸Šï¼Œå‡½æ•°è°ƒç”¨æˆ–ä¸­æ–­å¤„ç†ç¨‹åºæ€»æ˜¯ä»¥è‡ªå·±ç§æœ‰çš„ä¸ŠåŠéƒ¨åˆ†ä¸Šä¸‹æ–‡å¯„å­˜å™¨å¼€å§‹æ‰§è¡Œã€‚è¢«ä¸­æ–­æˆ–è°ƒç”¨çš„å‡½æ•°çš„ä¸ŠåŠéƒ¨åˆ†ä¸Šä¸‹æ–‡å¯„å­˜å™¨ä¸ä¼šè¢«ç»§æ‰¿ åªæœ‰ A10ï¼ˆspï¼‰ã€A11ï¼ˆRAï¼‰ã€PSWã€PCXI å’Œåœ¨é™·é˜±æƒ…å†µä¸‹çš„ D[15] å¯„å­˜å™¨åœ¨è°ƒç”¨å‡½æ•°ã€é™·é˜±å¤„ç†ç¨‹åºæˆ–ä¸­æ–­å¤„ç†ç¨‹åºä¸­å…·æœ‰æ¶æ„å®šä¹‰çš„åˆå§‹å€¼ã€‚å‡½æ•°ã€é™·é˜±å¤„ç†ç¨‹åºæˆ–ä¸­æ–­å¤„ç†ç¨‹åºåœ¨å†™å…¥å…¶ä»–ä¸ŠåŠéƒ¨åˆ†ä¸Šä¸‹æ–‡å¯„å­˜å™¨ä¹‹å‰è¯»å–è¿™äº›å¯„å­˜å™¨çš„å€¼ï¼Œæ˜¯æœªå®šä¹‰æ“ä½œã€‚ ä¸Šä¸‹æ–‡ä¿å­˜ï¼š\nä¸Šä¸‹æ–‡æ¢å¤ï¼š\n1/* ç¬¬ä¸€ä¸ª CSA */ 2uppercontext = (uppercontext_t)LINKWORDTOEA(Fcx); 3/* ç¬¬äºŒä¸ª CSA */ 4lowercontext = (lowercontext_t)LINKWORDTOEA(uppercontext-\u0026gt;PCXI); 5/* ç¬¬ä¸‰ä¸ª CSA çº¿ç¨‹é€€å‡º */ 6exitcontext = (uppercontext_t)LINKWORDTOEA(lowercontext-\u0026gt;PCXI); æ¨¡å¼ä¸è®¿é—®æƒé™ï¼š ç”¨æˆ·æ¨¡å¼ï¼ˆUser Modeï¼‰ User-0æ¨¡å¼: è¯¥æ¨¡å¼ç”¨äºä¸è®¿é—®å¤–è®¾çš„ä»»åŠ¡ã€‚åœ¨è¿™ä¸ªæ¨¡å¼ä¸‹ï¼Œä»»åŠ¡æ— æ³•å¯ç”¨æˆ–ç¦ç”¨ä¸­æ–­ã€‚ User-1æ¨¡å¼: è¯¥æ¨¡å¼ç”¨äºè®¿é—®å¸¸è§çš„ã€æœªä¿æŠ¤çš„å¤–è®¾ä»»åŠ¡ã€‚ä¾‹å¦‚ï¼Œä¸²å£è¯»å†™æ“ä½œã€è®¡æ—¶å™¨çš„è¯»æ“ä½œï¼Œä»¥åŠå¤§å¤šæ•°I/OçŠ¶æ€å¯„å­˜å™¨çš„è®¿é—®ã€‚æ­¤æ¨¡å¼ä¸‹çš„ä»»åŠ¡å¯ä»¥ç¦ç”¨ä¸­æ–­ï¼ˆæ­¤è¡Œä¸ºå¯ä»¥é€šè¿‡ç³»ç»Ÿæ§åˆ¶å¯„å­˜å™¨è¦†ç›–ï¼‰ã€‚ ç›‘ç£æ¨¡å¼ï¼ˆSupervisor Modeï¼‰ è¯¥æ¨¡å¼å…è®¸ä»»åŠ¡è¯»å–å’Œå†™å…¥ç³»ç»Ÿå¯„å­˜å™¨ï¼Œå¹¶è®¿é—®æ‰€æœ‰å¤–è®¾è®¾å¤‡ã€‚æ­¤æ¨¡å¼ä¸‹çš„ä»»åŠ¡å¯ä»¥ç¦ç”¨ä¸­æ–­ã€‚ Memory Barrier å†…å­˜å±éšœï¼ˆMemory Barrierï¼‰ï¼Œä¹Ÿå«å†…å­˜æ …æ ï¼Œæ˜¯ä¸€ç§ç”¨äºæ§åˆ¶ CPU å’Œç¼–è¯‘å™¨åœ¨æ‰§è¡Œæ“ä½œæ—¶çš„é¡ºåºçš„æœºåˆ¶ã€‚å†…å­˜å±éšœç¡®ä¿æŸäº›æ“ä½œåœ¨ä»£ç æ‰§è¡Œé¡ºåºä¸Šä¿æŒä¸€è‡´ï¼Œä»è€Œé¿å…å› æŒ‡ä»¤é‡æ’åºå¯¼è‡´çš„ä¸ä¸€è‡´æ€§é—®é¢˜ã€‚\nå†…å­˜å±éšœçš„ä½œç”¨ åœ¨å¤šæ ¸ç³»ç»Ÿä¸­ï¼Œä¸åŒæ ¸å¿ƒå¯èƒ½ä¼šä¹±åºæ‰§è¡ŒæŒ‡ä»¤æˆ–è€… ä¹±åºè¯»å–/å†™å…¥å†…å­˜ ã€‚å¦‚æœæ²¡æœ‰å†…å­˜å±éšœï¼Œä»¥ä¸‹é—®é¢˜å¯èƒ½ä¼šå‘ç”Ÿï¼š\næ•°æ®ç«äº‰ï¼šä¸¤ä¸ªæ ¸å¿ƒåŒæ—¶è®¿é—®åŒä¸€å†…å­˜ä½ç½®ï¼Œå…¶ä¸­ä¸€ä¸ªæ ¸å¿ƒå†™å…¥æ•°æ®åï¼Œå¦ä¸€ä¸ªæ ¸å¿ƒå¯èƒ½ä¼šè¯»åˆ°æ—§çš„æ•°æ®ã€‚ æŒ‡ä»¤é‡æ’åºï¼šç¼–è¯‘å™¨æˆ– CPU å‡ºäºä¼˜åŒ–ç›®çš„ï¼Œå¯èƒ½ä¼šæ”¹å˜æŒ‡ä»¤æ‰§è¡Œé¡ºåºï¼Œå¯¼è‡´é¢„æœŸçš„åŒæ­¥è¡Œä¸ºè¢«ç ´åã€‚ å†…å­˜å±éšœé€šè¿‡é˜»æ­¢è¿™ç§ä¹±åºæ“ä½œï¼Œç¡®ä¿æ‰€æœ‰æ ¸å¿ƒçœ‹åˆ°ä¸€è‡´çš„æ•°æ®å’Œå†…å­˜æ“ä½œé¡ºåºã€‚\nDSYNCï¼ˆData Synchronizationï¼‰ DSYNC æŒ‡ä»¤ä¿è¯åœ¨ DSYNC æŒ‡ä»¤ä¹‹å‰çš„æ‰€æœ‰æ•°æ®è®¿é—®æ“ä½œéƒ½å·²å®Œæˆï¼Œç„¶åæ‰ä¼šå¯åŠ¨ä¸ DSYNC ä¹‹åçš„æŒ‡ä»¤ç›¸å…³è”çš„ä»»ä½•æ•°æ®å†…å­˜è®¿é—®æ“ä½œã€‚è¿™åŒ…æ‹¬æ‰€æœ‰å¯¹ç³»ç»Ÿæ€»çº¿å’Œæœ¬åœ°æ•°æ®å†…å­˜çš„è®¿é—®ã€‚ ISYNCï¼ˆInstruction Synchronizationï¼‰ ISYNC æŒ‡ä»¤ç”¨äºç¡®ä¿ CPU å†…éƒ¨çš„çŠ¶æ€ä¸€è‡´æ€§ã€‚å®ƒä¸»è¦ç”¨äºæŒ‡ä»¤çš„åŒæ­¥ï¼Œç¡®ä¿åœ¨ ISYNC æŒ‡ä»¤ä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤éƒ½å·²æ‰§è¡Œå®Œæ¯•ï¼Œå¹¶ä¸”å¯¹æ¶æ„çŠ¶æ€çš„ä»»ä½•æ›´æ”¹å·²ç»ç”Ÿæ•ˆï¼Œç„¶åæ‰ä¼šç»§ç»­æ‰§è¡Œ ISYNC ä¹‹åçš„æŒ‡ä»¤ã€‚ ISYNC æŒ‡ä»¤çš„æ“ä½œå¦‚ä¸‹ï¼š ç­‰å¾… ISYNC ä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤å®Œæˆã€‚ åˆ·æ–° CPU ç®¡é“å¹¶å–æ¶ˆ ISYNC ä¹‹åçš„æ‰€æœ‰æŒ‡ä»¤ã€‚ ä½¿ç®¡é“ä¸­æ‰€æœ‰ç¼“å­˜çŠ¶æ€å¤±æ•ˆï¼Œä¾‹å¦‚å¾ªç¯ç¼“å­˜ç¼“å†²åŒºã€‚ é‡æ–°è·å– ISYNC ä¹‹åçš„ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚ TC397XXï¼š å®˜æ–¹ä»‹ç»ï¼š SAK-TC397XX-256F300S BD\nInfineon-AURIX_TC3xx_Architecture_all-UserManual-v01_00-EN.pdf\nInfineon-AURIX_TC39x-UserManual-v02_00-EN.pdf\nç¡¬ä»¶ç‰¹æ€§ï¼š TriCoreâ„¢ TC397xxæ˜¯32ä½é«˜æ€§èƒ½çš„å¾®æ§åˆ¶å™¨ï¼Œå¹¿æ³›åº”ç”¨äºæ±½è½¦å’Œå…¶ä»–è¦æ±‚é«˜å¯é æ€§å’Œé«˜æ€§èƒ½çš„é¢†åŸŸã€‚ä»¥ä¸‹æ˜¯å…¶ä¸»è¦ç‰¹æ€§ï¼š\nå¤„ç†å™¨æ¶æ„ï¼š\né…å¤‡6ä¸ªTriCoreâ„¢ï¼ˆTC1.6.2ï¼‰æ ¸å¿ƒï¼Œä¸»é¢‘ä¸º300 MHzï¼Œå…¶ä¸­åŒ…æ‹¬4ä¸ªé™„åŠ çš„æ£€æŸ¥æ ¸å¿ƒï¼Œæä¾›4000 DMIPSï¼ˆDhrystone MIPSï¼‰ã€‚ æµ®ç‚¹ä¸å®šç‚¹æ”¯æŒï¼š\næ‰€æœ‰æ ¸å¿ƒéƒ½æ”¯æŒæµ®ç‚¹è¿ç®—å’Œå®šç‚¹è¿ç®—ï¼Œæä¾›çµæ´»çš„è®¡ç®—èƒ½åŠ›ã€‚ RAM/ROMï¼š\n16 MB flashï¼Œæ”¯æŒECCï¼ˆé”™è¯¯æ›´æ­£ç ï¼‰ä¿æŠ¤ã€‚ umbrella (5 x 3 MB, 1 x 1 MB)1. é«˜è¾¾6.9 MB SRAMï¼Œæ”¯æŒECCä¿æŠ¤ï¼Œå¢å¼ºæ•°æ®å¯é æ€§ã€‚ é€šä¿¡æ¥å£ï¼š\n1 Gbitä»¥å¤ªç½‘æ¥å£ã€‚ 12ä¸ªCAN FDæ¥å£ï¼Œç”¨äºé«˜å¸¦å®½çš„æ§åˆ¶å™¨å±€åŸŸç½‘ç»œé€šä¿¡ã€‚ 2ä¸ªFlexRayæ¥å£ï¼Œæ”¯æŒé«˜é€Ÿè½¦è½½é€šä¿¡ã€‚ 12ä¸ªASCLINï¼ˆå¼‚æ­¥ä¸²è¡Œé€šä¿¡æ¥å£ï¼‰ï¼Œé€‚ç”¨äºå¤šç§ä¸²è¡Œé€šä¿¡éœ€æ±‚ã€‚ 6ä¸ªQSPIæ¥å£ï¼ˆå››çº¿ä¸²è¡Œå¤–è®¾æ¥å£ï¼‰ï¼Œç”¨äºé«˜é€Ÿå¤–éƒ¨å­˜å‚¨ã€‚ 2ä¸ªIÂ²Cæ¥å£ï¼Œæ”¯æŒå¤šä¸»è®¾å¤‡å’Œå¤šä»è®¾å¤‡çš„ä¸²è¡Œé€šä¿¡ã€‚ 25ä¸ªSENTæ¥å£ï¼ˆä¸²è¡Œå¢å¼ºæ•°å­—ä¼ æ„Ÿå™¨æ¥å£ï¼‰ï¼Œç”¨äºä¼ æ„Ÿå™¨æ•°æ®é‡‡é›†ã€‚ 4ä¸ªPSI5æ¥å£å’Œ1ä¸ªPSI5Sæ¥å£ï¼Œæ”¯æŒè½¦è½½ä¼ æ„Ÿå™¨çš„æ•°æ®ä¼ è¾“ã€‚ 2ä¸ªHSSLLæ¥å£ï¼ˆé«˜é€ŸåŒæ­¥ä¸²è¡Œé“¾è·¯ï¼‰ï¼Œé€‚ç”¨äºé«˜é€Ÿæ•°æ®ä¼ è¾“ã€‚ 4ä¸ªMSCæ¥å£ï¼ˆå¤šåŠŸèƒ½åŒæ­¥é€šä¿¡ï¼‰ï¼Œç”¨äºå¤šç§æ•°æ®é€šä¿¡éœ€æ±‚ã€‚ 1ä¸ªeMMC/SDIOTæ¥å£ï¼Œæ”¯æŒå¤–éƒ¨å­˜å‚¨æ‰©å±•ã€‚ 1ä¸ªIÂ²Sä»¿çœŸæ¥å£ï¼Œç”¨äºéŸ³é¢‘æ•°æ®ä¼ è¾“ã€‚ å®šæ—¶å™¨æ¨¡å—ï¼š\nå¤šç§å†—ä½™å’Œå¤šæ ·åŒ–çš„å®šæ—¶å™¨æ¨¡å—ï¼Œå¦‚GTMï¼ˆé€šç”¨å®šæ—¶å™¨æ¨¡å—ï¼‰ã€CCU6ï¼ˆè®¡æ•°å™¨æ§åˆ¶å•å…ƒ6ï¼‰ã€GPT12ï¼ˆé€šç”¨é¢„åˆ†é¢‘å®šæ—¶å™¨12ï¼‰ï¼Œæä¾›ç²¾ç¡®çš„æ—¶é—´ç®¡ç†å’Œæµ‹é‡åŠŸèƒ½ã€‚ å®‰å…¨æ€§ï¼š\nEVITA Full HSMï¼ˆç¡¬ä»¶å®‰å…¨æ¨¡å—ï¼‰ï¼Œæ”¯æŒECC256ï¼ˆæ¤­åœ†æ›²çº¿å¯†ç å­¦256ä½å¯†é’¥ï¼‰å’ŒSHA2ï¼ˆå®‰å…¨æ•£åˆ—ç®—æ³•2ï¼‰ï¼Œæä¾›é«˜çº§çš„å®‰å…¨ä¿éšœã€‚ å°è£…ï¼š\né‡‡ç”¨LFBGA-292å°è£…ï¼Œé€‚åˆé«˜å¯†åº¦é›†æˆã€‚ å®‰å…¨æ ‡å‡†ï¼š\nä¾ç…§ISO 26262/IEC 61508æ ‡å‡†è¿›è¡Œå¼€å‘å’Œæ–‡æ¡£åŒ–ï¼Œæ”¯æŒé«˜è¾¾ASIL-Dï¼ˆæ±½è½¦å®‰å…¨å®Œæ•´æ€§ç­‰çº§Dï¼‰/SIL3ï¼ˆå®‰å…¨å®Œæ•´æ€§ç­‰çº§3ï¼‰çš„å®‰å…¨è¦æ±‚ã€‚ AUTOSARæ”¯æŒï¼š\næ”¯æŒAUTOSAR 4.2ï¼ˆæ±½è½¦å¼€æ”¾ç³»ç»Ÿæ¶æ„ï¼‰ï¼Œç”¨äºè½¦è½½è½¯ä»¶çš„æ ‡å‡†åŒ–å¼€å‘ã€‚ å¯é€‰æµ®ç‚¹å•å…ƒ ï¼ˆFPUï¼‰ å’Œå†…å­˜ç®¡ç†å•å…ƒ ï¼ˆMMUï¼‰\nç”µæºä¾›åº”ï¼š\nå•ç”µå‹ä¾›ç”µï¼Œæ”¯æŒ5 Væˆ–3.3 Vç”µå‹è¾“å…¥ã€‚ æ¸©åº¦èŒƒå›´ï¼š\nå·¥ä½œæ¸©åº¦èŒƒå›´ä¸º-40Â°Cåˆ°125Â°Cï¼Œé€‚åˆæç«¯ç¯å¢ƒä¸‹çš„åº”ç”¨ã€‚ ä¼˜åŠ¿ï¼š\næœ€ä½³æ€§èƒ½ï¼Œæ”¯æŒASIL-Dè®¾è®¡\nASIL-Dåˆè§„æ€§ï¼šTC397xxå¾®æ§åˆ¶å™¨æä¾›äº†é¡¶çº§çš„æ€§èƒ½ï¼Œèƒ½å¤Ÿæ”¯æŒè¾¾åˆ°ASIL-Då®‰å…¨æ ‡å‡†çš„è®¾è®¡ã€‚ASIL-Dæ˜¯ISO 26262æ ‡å‡†ä¸­æœ€é«˜çš„æ±½è½¦å®‰å…¨å®Œæ•´æ€§ç­‰çº§ï¼Œç¡®ä¿æ±½è½¦åº”ç”¨çš„æœ€é«˜å®‰å…¨æ°´å¹³ã€‚ å‘ä¸‹å…¼å®¹ï¼Œé€‚é…æˆæœ¬æ›´ä½çš„AURIXâ„¢ TC3xxå¾®æ§åˆ¶å™¨\næˆæœ¬æ•ˆç›Šï¼šTC397xxå¾®æ§åˆ¶å™¨å¯ä»¥å‘ä¸‹å…¼å®¹ï¼Œé€‚é…è¾ƒä½æˆæœ¬çš„AURIXâ„¢ TC3xxç³»åˆ—å¾®æ§åˆ¶å™¨ã€‚è¿™ç§å‘ä¸‹å…¼å®¹æ€§æ„å‘³ç€å¯ä»¥åœ¨ä¸åŒæˆæœ¬çº§åˆ«çš„äº§å“ä¸­ä½¿ç”¨ç›¸ä¼¼çš„ç¡¬ä»¶æ¶æ„ï¼Œå¸®åŠ©é™ä½æ•´ä½“ç³»ç»Ÿæˆæœ¬ï¼ŒåŒæ—¶ä¿ç•™æ ¸å¿ƒåŠŸèƒ½å’Œæ€§èƒ½ã€‚ æ”¯æŒA/Bäº¤æ¢çš„è½¯ä»¶æ›´æ–°\nè¿œç¨‹æ›´æ–°æ”¯æŒï¼šTC397xxæ”¯æŒA/Bäº¤æ¢çš„è½¯ä»¶æ›´æ–°æœºåˆ¶ï¼Œè¿™å…è®¸åœ¨ç³»ç»Ÿè¿è¡Œæ—¶è¿›è¡Œå®‰å…¨çš„è½¯ä»¶æ›´æ–°ã€‚A/Bäº¤æ¢çš„æ–¹å¼å¯ä»¥åœ¨ä¸å½±å“ç³»ç»Ÿæ­£å¸¸è¿è¡Œçš„æƒ…å†µä¸‹å®Œæˆè½¯ä»¶æ›´æ–°ï¼Œæå‡ç³»ç»Ÿçš„å¯é æ€§å’Œå®‰å…¨æ€§ã€‚è¿™ç§æ”¯æŒå¯¹æ±½è½¦ç³»ç»Ÿçš„ç»´æŠ¤å’Œå‡çº§éå¸¸é‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨éœ€è¦è¿œç¨‹æ›´æ–°çš„æƒ…å†µä¸‹ã€‚ ä»AURIXâ„¢ç¬¬ä¸€ä»£äº§å“çš„æ˜“è¿ç§»\nå…¼å®¹æ€§ï¼šTC397xxå¾®æ§åˆ¶å™¨ä¸AURIXâ„¢ç¬¬ä¸€ä»£äº§å“åœ¨è½¯ä»¶å’Œç¡¬ä»¶æ–¹é¢å…·æœ‰å…¼å®¹æ€§ï¼Œä½¿å¾—ä»æ—©æœŸç‰ˆæœ¬çš„AURIXâ„¢å¾®æ§åˆ¶å™¨è¿ç§»åˆ°TC397xxå˜å¾—æ›´ä¸ºç®€ä¾¿ã€‚è¿™æ ·çš„å…¼å®¹æ€§ä¸ä»…å‡å°‘äº†å¼€å‘æ—¶é—´å’Œæˆæœ¬ï¼Œè¿˜å¯ä»¥ç¡®ä¿ç°æœ‰ç³»ç»Ÿçš„å¹³ç¨³è¿‡æ¸¡ Flash ä¸­æ–­ ä¸­æ–­è¯·æ±‚å¯ä»¥ç”±CPUæˆ–DMAæ¨¡å—æ¥å¤„ç†ï¼Œåœ¨æ–‡æ¡£ä¸­è¢«ç§°ä¸ºâ€œ æœåŠ¡è¯·æ±‚ â€è€Œä¸æ˜¯â€œä¸­æ–­è¯·æ±‚â€ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç”±ä»»ä¸€æœåŠ¡æä¾›è€…å¤„ç†ã€‚\nä¸­æ–­ç³»ç»Ÿæ˜¯åœ¨ä¸­æ–­è·¯ç”±å™¨(IR)æ¨¡å—ä¸­å®ç°çš„ï¼Œè¯¥æ¨¡å—åŒ…æ‹¬æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNsï¼‰ã€ä¸­æ–­æ§åˆ¶å•å…ƒï¼ˆICUsï¼‰ï¼Œä»¥åŠä¸€äº›æ”¯æŒè½¯ä»¶å¼€å‘çš„é™„åŠ åŠŸèƒ½ã€‚\nå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¯ä¸ªå¯ä»¥äº§ç”ŸæœåŠ¡è¯·æ±‚çš„æ¨¡å—éƒ½è¿æ¥åˆ° IR æ¨¡å—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNsï¼‰ã€‚IR æ¨¡å—è¿˜åŒ…æ‹¬å‡ ä¸ªé€šç”¨çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNsï¼‰ï¼Œå³è½¯ä»¶è§¦å‘ä¸­æ–­\næ¯ä¸ªSRNéƒ½åŒ…å«ä¸€ä¸ªSRCï¼ˆService Request Control Registerï¼‰ï¼Œç”¨æ¥é…ç½®æœåŠ¡è¯·æ±‚çš„ä¼˜å…ˆçº§ã€æ˜ å°„åˆ°çš„æœåŠ¡æä¾›è€…ç­‰ã€‚æ¯ä¸ªSRNéƒ½è¿æ¥åˆ°ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­çš„æ‰€æœ‰ICUsï¼Œè€ŒSRNçš„æ§åˆ¶å¯„å­˜å™¨è®¾ç½®åˆ™å®šä¹‰äº†æœåŠ¡è¯·æ±‚çš„ç›®æ ‡æœåŠ¡æä¾›è€…å’Œä¼˜å…ˆçº§ã€‚\næ¯ä¸ªICUè´Ÿè´£åœ¨æ˜ å°„åˆ°è¯¥ICUçš„å¤šä¸ªæœåŠ¡è¯·æ±‚ä¹‹é—´è¿›è¡Œä¸­æ–­ä»²è£ã€‚ICUåœ¨ä»²è£è½®ä¸­é€‰æ‹©ä¸€ä¸ªæœ‰æ•ˆçš„è·èƒœæœåŠ¡è¯·æ±‚/SRNï¼Œå¹¶å°†å…¶æä¾›ç»™æœåŠ¡æä¾›è€…ï¼ˆCPUæˆ–DMAæ¨¡å—ï¼‰ã€‚æœåŠ¡æä¾›è€…åœ¨å¤„ç†æœåŠ¡è¯·æ±‚æ—¶ï¼Œå‘ICUåé¦ˆå½“å‰æ­£åœ¨å¤„ç†çš„æœåŠ¡è¯·æ±‚ã€‚\nä¸­æ–­ä»²è£ æ¯ä¸ªä¸­æ–­æ¨¡å—ä¸­çš„ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU) éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ä¸­æ–­æ€»çº¿ã€‚æ¯ä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) éƒ½å¯ä»¥é€šè¿‡åœ¨SRC.TOS ä½å­—æ®µä¸­è®¾ç½®ï¼Œå°†å…¶æ˜ å°„åˆ°ç›¸å…³çš„ ICU / ä¸­æ–­æ€»çº¿ä¸Šï¼Œä»è€Œå°†è¯¥æœåŠ¡è¯·æ±‚èŠ‚ç‚¹å®šå‘åˆ°ç‰¹å®šçš„æœåŠ¡æä¾›è€…\nSRC.TOS: Type of Service Control ( cpu0-5, dma ï¼‰\nSRC.SRE: Service Request Enable ï¼ˆ1ï¼šenabledï¼‰\nå½“ç¬¬ä¸€ä¸ªæœåŠ¡è¯·æ±‚pendingæ—¶ï¼Œç›¸å…³çš„ä¸­æ–­æ€»çº¿å°†å¯åŠ¨ç¬¬ä¸€æ¬¡ä»²è£è¿‡ç¨‹ã€‚ç›¸å…³çš„ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU) æä¾›åœ¨ä¸Šä¸€æ¬¡ä»²è£è¿‡ç¨‹ä¸­è·èƒœçš„æœåŠ¡ã€‚ä»²è£è¿‡ç¨‹ä½¿ç”¨ 3-4 ä¸ªç³»ç»Ÿå¤–å›´æ€»çº¿æ—¶é’Ÿå‘¨æœŸæ¥ç¡®å®šå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§å·ç  (SRPN) çš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚ã€‚\nåœ¨ä»²è£è¿‡ç¨‹ä¸­ï¼Œä¸­æ–­æ€»çº¿ä¼šæ¯”è¾ƒæ˜ å°„åˆ°æ­¤ä¸­æ–­æ€»çº¿ï¼ˆé€šè¿‡ SRC.TOS è®¾ç½®ï¼‰çš„æ‰€æœ‰å¾…å¤„ç†æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) çš„SRC.SRPN ä½å­—æ®µã€‚ä»²è£è¿‡ç¨‹ä¸­ï¼Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§å·ç çš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚å°†è¢«è¯†åˆ«ä¸ºè·èƒœè€…ï¼Œå¹¶ä¸”ç›¸å…³çš„ SRN æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨çš„ä½å­—æ®µå€¼ï¼ˆSRPNã€ECC å’Œ SRN çš„ç´¢å¼•ï¼‰å°†æä¾›ç»™ ICUï¼Œå¹¶ä¼ ç»™ç»™æœåŠ¡æä¾›è€…ï¼Œç„¶åICUä¼šæ”¶åˆ°ç¡®è®¤ä¿¡æ¯ï¼Œä¹‹åè¿›è¡ŒECCæ ¡éªŒ,ä¸­æ–­è·¯ç”±æ¨¡å—ä¼šå°†æ£€æµ‹åˆ°çš„é”™è¯¯ä¿¡å·å‘é€åˆ°å®‰å…¨ç®¡ç†å•å…ƒ (SMU)ï¼ˆSMU ä¸­çš„ä¸€ä¸ªä½è¦†ç›–äº†æ‰€æœ‰ SRN å’Œ ICU çš„é”™è¯¯ï¼‰ã€‚\nä¸­æ–­é…ç½® å¦‚ä¸‹å›¾ä¸­æ–­å‘é‡è¡¨å¯ä»¥é…ç½®32byteï¼Œ8byteï¼Œå•åœ°å€\nä¸­æ–­åˆå§‹åŒ–ï¼š\nå¤–éƒ¨ä¸­æ–­ï¼š External Request Unit (ERU) æ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½çš„äº‹ä»¶å’Œæ¨¡å¼æ£€æµ‹å•å…ƒï¼Œå…¶ä¸»è¦åŠŸèƒ½æ˜¯æ ¹æ®å¯é€‰æ‹©çš„è§¦å‘äº‹ä»¶ç”Ÿæˆä¸­æ–­ï¼ˆä¾‹å¦‚ï¼Œå½“è¾“å…¥å¼•è„šä¸Šæ£€æµ‹åˆ°è¾¹æ²¿å˜åŒ–æ—¶ï¼Œç”Ÿæˆå¤–éƒ¨ä¸­æ–­è¯·æ±‚ï¼‰ã€‚æ­¤å¤–ï¼ŒERUè¿˜å¯ä»¥å°†æ£€æµ‹åˆ°çš„äº‹ä»¶ç”¨äºå…¶ä»–ç›®æ ‡æ¨¡å—ï¼Œä»¥è§¦å‘æˆ–æ§åˆ¶æ¨¡å—ç‰¹å®šçš„æ“ä½œã€‚\nåŠŸèƒ½åˆ—è¡¨ï¼š\nç”Ÿæˆä¸­æ–­ï¼šæ”¯æŒåŸºäºä¸åŒè¾“å…¥ä¸Šçš„å¯é€‰æ‹©è§¦å‘äº‹ä»¶ç”Ÿæˆä¸­æ–­ã€‚ 8ä¸ªç‹¬ç«‹è¾“å…¥é€šé“ï¼šç”¨äºè¾“å…¥é€‰æ‹©å’Œè§¦å‘æˆ–æ§åˆ¶åŠŸèƒ½çš„æ¡ä»¶è®¾å®šã€‚ äº‹ä»¶åˆ†é…çŸ©é˜µï¼šä½¿ç”¨è¿æ¥çŸ©é˜µå®šä¹‰è¾“å…¥é€šé“xçš„äº‹ä»¶ï¼Œè¿™äº›äº‹ä»¶å°†å¯¼è‡´è¾“å‡ºé€šé“yçš„ååº”ã€‚ 8ä¸ªç‹¬ç«‹è¾“å‡ºé€šé“ï¼šç”¨äºäº‹ä»¶ç»„åˆã€å®šä¹‰äº‹ä»¶çš„æ•ˆæœï¼Œå¹¶åˆ†é…ç»™ç³»ç»Ÿï¼ˆä¾‹å¦‚ï¼Œä¸­æ–­ç”Ÿæˆã€å®šæ—¶å™¨è§¦å‘ç­‰ï¼‰ã€‚ è¿™äº›åŠŸèƒ½ä½¿ERUæˆä¸ºä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºæ£€æµ‹å’Œå“åº”å¤šç§å¤–éƒ¨ä¿¡å·å’Œäº‹ä»¶ï¼Œåœ¨åµŒå…¥å¼ç³»ç»Ÿä¸­å…·æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚\nè¿™äº›ä»»åŠ¡ç”±ä»¥ä¸‹æ„å»ºå—(building block)å¤„ç†:\nExternal Request Select Unit (ERSx), æ¯ä¸ªè¾“å…¥é€šé“éƒ½æœ‰ä¸€ä¸ªå¤–éƒ¨è¯·æ±‚é€‰æ‹©å•å…ƒï¼ˆERSxï¼‰ï¼Œå¯ä»¥ä»6ä¸ªå¯èƒ½çš„å¯ç”¨è¾“å…¥ä¸­é€‰æ‹©ä¸€ä¸ªè¾“å…¥å‘é‡ Event Trigger Logic (ETLx), æ¯ä¸ªè¾“å…¥é€šé“çš„äº‹ä»¶è§¦å‘é€»è¾‘ï¼ˆETLxï¼‰å…è®¸å®šä¹‰å¯¼è‡´è§¦å‘äº‹ä»¶çš„è½¬æ¢ï¼ˆè¾¹ç¼˜é€‰æ‹©æˆ–é€šè¿‡è½¯ä»¶ï¼‰ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨æ­¤çŠ¶æ€. æ­¤å¤„ï¼Œæ‰€é€‰ä¿¡å·çš„è¾“å…¥ç”µå¹³è¢«è½¬æ¢ä¸ºäº‹ä»¶ï¼ˆæ£€æµ‹åˆ°äº‹ä»¶=ç½®ä½äº‹ä»¶æ ‡å¿—ï¼Œä¸åŸå§‹è¾“å…¥ä¿¡å·çš„ææ€§æ— å…³ï¼‰ Connecting Matrix, è¿æ¥çŸ©é˜µå°†è¾“å…¥é€šé“ç”Ÿæˆçš„äº‹ä»¶å’ŒçŠ¶æ€æ ‡å¿—åˆ†é…åˆ°è¾“å‡ºé€šé“ Output Gating Unit (OGUy), æ¯ä¸ªè¾“å‡ºé€šé“çš„è¾“å‡ºé—¨æ§å•å…ƒï¼ˆOGUyï¼‰ï¼Œç»“åˆäº†å¯ç”¨çš„è§¦å‘äº‹ä»¶å’Œæ¥è‡ªè¾“å…¥é€šé“çš„çŠ¶æ€ä¿¡æ¯. ä¸€ä¸ªè¾“å…¥é€šé“çš„äº‹ä»¶å¯ä»¥å¯¼è‡´å¤šä¸ªè¾“å‡ºé€šé“çš„ååº”ï¼Œæˆ–è€…å¤šä¸ªè¾“å…¥é€šé“çš„äº‹ä»¶ä¹Ÿå¯ä»¥ç»„åˆæˆä¸€ä¸ªè¾“å‡ºé€šé“çš„ååº”ï¼ˆæ¨¡å¼æ£€æµ‹ï¼‰. å¯ä»¥é…ç½®ä¸åŒç±»å‹çš„ååº”ï¼Œä¾‹å¦‚äº§ç”Ÿä¸­æ–­. å¯ä»¥ä»å¤§é‡è¾“å…¥ä¿¡å·ä¸­é€‰æ‹©ERUçš„è¾“å…¥, è¿™äº›è¾“å…¥ä¸­çš„16ä¸ªç›´æ¥æ¥è‡ªè¾“å…¥ç«¯å£ï¼Œè€Œå…¶ä»–è¾“å…¥åˆ™æ¥è‡ªå„ç§å¤–å›´æ¨¡å—çŠ¶æ€ä¿¡å·.\nREQxy Digital PORT Input Glitch Filter (FILT), æ¯›åˆºæ»¤æ³¢å™¨ä»…åœ¨ç«¯å£(PORTS)å¯ç”¨, ç”¨å¯„å­˜å™¨EIFILTé…ç½®, ç”¨äºæŠ‘åˆ¶ä¿¡å·å™ªå£°å¯¼è‡´PORTSçš„è¾“å…¥å¼•è„šä¸Šå‘ç”Ÿçš„ä¸å¿…è¦çš„å¿«é€Ÿè½¬æ¢, ç±»ä¼¼äºå»¶æ—¶æ¶ˆæŠ–. æ»¤æ³¢å™¨é¢„åˆ†é¢‘å™¨å¯ä»¥è®¾ç½®ä¸º1åˆ°15ä¹‹é—´çš„å€¼ï¼Œä»è€Œæä¾›ä»10ns ~ \u0026gt;2Âµsçš„å¯èƒ½çš„æ¯›åˆºç‰¹æ€§èŒƒå›´, é€šå¸¸ï¼Œ3~5 Tfiltçš„æ·±åº¦å°±è¶³å¤Ÿäº†. é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯æ¸…é™¤çš„. å¦‚æœæ¸…é™¤äº†DEPTHï¼Œåˆ™æ‰€æœ‰è¿‡æ»¤å™¨å‡å¤„äºéæ´»åŠ¨çŠ¶æ€:\nExternal Request Selector Unit (ERS)ï¼š\nEvent Trigger Logic (ETLx), äº‹ä»¶è§¦å‘é€»è¾‘, åŸºäºè¾¹ç¼˜æ£€æµ‹æ¨¡å—ï¼Œåœ¨è¯¥æ¨¡å—ä¸­ï¼Œå¯ä»¥åˆ†åˆ«å¯ç”¨å¯¹ä¸Šå‡æ²¿æˆ–ä¸‹é™æ²¿çš„æ£€æµ‹. å¦‚æœä¸¤ä¸ªä½¿èƒ½ä½éƒ½è¢«ç½®ä½ï¼ˆä¾‹å¦‚å¤„ç†è§¦å‘è¾“å…¥ï¼‰ï¼Œåˆ™ä¸¤ä¸ªè¾¹æ²¿éƒ½ä¼šå¯¼è‡´è§¦å‘äº‹ä»¶. å››ä¸ªETLå•å…ƒä¸­çš„æ¯å¯¹éƒ½æœ‰ä¸€ä¸ªå…³è”çš„EICRyå¯„å­˜å™¨ï¼Œè¯¥å¯„å­˜å™¨æ§åˆ¶ETLçš„æ‰€æœ‰é€‰é¡¹ï¼ˆè¯¥å¯„å­˜å™¨è¿˜ä¿å­˜å…³è”çš„ERSå•å…ƒå¯¹çš„æ§åˆ¶ä½ï¼‰\nERU_Interrupt_1 for KIT_AURIX_TC397_TFT\nå¦‚ä½•è®¾ç½®ä¸­æ–­å‘é‡è¡¨ï¼Œä»¥åŠä¸­æ–­handlerå¦‚ä½•æ”¾åˆ°ä¸­æ–­å‘é‡è¡¨ä¸­çš„\nLcf_Tasking_Tricore_Tc.lsl\n1 2#define LCF_TRAPVEC0_START 0x80000100 3#define TRAPTAB0 (LCF_TRAPVEC0_START) 4 \u0026#34;__TRAPTAB_CPU0\u0026#34; := TRAPTAB0; 5 6 group trapvec_tc0 (align = 8, run_addr=LCF_TRAPVEC0_START) 7 { 8 section \u0026#34;trapvec_tc0\u0026#34; (size=0x100, attributes=rx, fill=0) 9 { 10 select \u0026#34;(.text.traptab_cpu0*)\u0026#34;; // ä¸‹æ–‡ä»£ç ä¸­é…ç½®çš„ 11 } 12 } 1// IfxCpu_Trap.c 2 3#pragma protect on 4#pragma section code \u0026#34;traptab_cpu0\u0026#34; 5 6void IfxCpu_Trap_vectorTable0(void) 7 8#pragma endprotect 9 10| IfxCpu_Trap.o | .text.traptab_cpu0 (27065)| 0x000000f2 | 0x0| .text.traptab_cpu0 (27065) | 0x000000f2 | 1#define LCF_INTVEC0_START 0x802FE000 2#define INTTAB0 (LCF_INTVEC0_START) 3 \u0026#34;_lc_u_int_tab\u0026#34; = (LCF_INTVEC0_START); 4 \u0026#34;__INTTAB_CPU0\u0026#34; = (LCF_INTVEC0_START); 5 6 7#define IFX_INTERRUPT(isr, vectabNum, prio) IFX_INTERRUPT_INTERNAL(isr, vectabNum, prio) 8#define IFX_INTERRUPT_INTERNAL(isr, vectabNum, prio) void __interrupt(prio) __vector_table(vectabNum) isr(void) å‚è€ƒï¼š AURIX TC397 SCU ä¹‹ ERU å¤–éƒ¨ä¸­æ–­_scuä¸­æ–­é…ç½®-CSDNåšå®¢\nã€å›çœ¸ã€‘AurixTC397ERUå¤–éƒ¨ä¸­æ–­å¼€å‘ èŒæ–°æœ­è®°\nUCBï¼š6.8 User Configuration Block (UCB)\nTriCoreâ„¢ Embedded Applications Binary Interface (EABI)\né—®é¢˜å®šä½ è®¿é—®ç©ºæŒ‡é’ˆ DMI-\u0026gt;DSTR-\u0026gt;MPE : Error\nç³»ç»Ÿå¯„å­˜å™¨ Infineon-TC2xx_EABI-UM-v02_09-EN.pdf\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nPCXI(Previous Context Information register): ä¿å­˜ä»»åŠ¡ä¸Šä¸‹æ–‡ä¿¡æ¯\nField Bits Type Description PCPN [29:22] rw Previous CPU PriorityNumber PIE 21 rw Previous Interrupt Enable (ICR.IE) UL 20 rw 0:Lower, 1:Upper Context PCXS [19:16] rw PCX Segment Address PCXO [15:0] rw Previous Context Pointer Offset \u0026#160;\u0026#x21a9;\u0026#xfe0e; PSW (Program Status Word): è®°å½•å¤„ç†å™¨çŠ¶æ€ã€ä¿æŠ¤æ¨¡å¼ç­‰\nField Bits Type Description USB [31:24] rw User Status Bits PRS[2] 15 - Protection Register Set bit[2] S 14 rw Safety Task Identifier PRS[1:0] [13:12] rw Protection Register Set bits[1:0] IO [11:10] rw Access Privilege Level Control IS 9 rw 0:User Stack, 1: Shared Global Stack GW 8 rw Global Address Register Write Permission CDE 7 rw Call Depth Count Enable CDC [6:0] rw Call Depth Counter (0-64) User Status Bits: Field Bits Type Description C 31 rw Carry V 30 rw Overflow SV 29 rw Sticky Overflow AV 28 rw Advance Overflow SAV 27 rw Sticky Advance Overflow RES [26:24] - Reserved Field Access Privilege Level Control: 00: User-0 Mode, No peripheral access\n01: User-1 Mode, Regular peripheral access\n10: Supervisor Mode, Enables access to all peripheral devices \u0026#160;\u0026#x21a9;\u0026#xfe0e; BIV(Base Interrupt Vector Table Pointer): ä¸­æ–­å‘é‡åœ°å€\nField Bits Type Description BIV [31:1] rw Base Address of Interrupt Vector Table VSS 0 rw Vector Spacing Selec (0:32byte,1:8byte) \u0026#160;\u0026#x21a9;\u0026#xfe0e; BTV(Base Trap Vector Table Pointer): trapå¼‚å¸¸åœ°å€\nField Bits Type Description BIV [31:1] rw Base Address of Trap Vector Table RES 0 - Reserved \u0026#160;\u0026#x21a9;\u0026#xfe0e; ICR(ICU Interrupt Control Register): ä¸­æ–­æ§åˆ¶å¯„å­˜å™¨\nField Bits Type Description PIPN [23:16] rh Pending Interrupt Priority Number\n0:no pending, 1:lower priority IE 15 rwh Global Interrupt Enable Bit\n0:å…¨å±€å…³ä¸­æ–­ï¼Œ1:å…¨å±€å¼€ä¸­æ–­ CCPN [7:0] rwh Current CPU Priority Number \u0026#160;\u0026#x21a9;\u0026#xfe0e; ","date":"2025å¹´7æœˆ8æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/tricore/tc397/","series":[{"title":"Tc397 æ¶æ„ç³»åˆ—","url":"/series/tc397-%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97/"}],"smallImg":"","tags":[{"title":"Tricore","url":"/tags/tricore/"},{"title":"Tc397","url":"/tags/tc397/"}],"timestamp":1751986567,"title":"Tc397"},{"authors":[],"categories":[{"title":"Tricoreä¸­æ–­","url":"/categories/tricore%E4%B8%AD%E6%96%AD/"}],"content":" Tc397ä¸­æ–­å­ç³»ç»Ÿ\n3. é€šç”¨å¯„å­˜å™¨å’Œç³»ç»Ÿå¯„å­˜å™¨ æ ¸å¿ƒå¯„å­˜å™¨æœ‰ä¸¤ç§ç±»å‹ï¼šé€šç”¨å¯„å­˜å™¨ï¼ˆGPRsï¼‰å’Œæ ¸å¿ƒç‰¹æ®ŠåŠŸèƒ½å¯„å­˜å™¨ï¼ˆCSFRsï¼‰ã€‚GPRsåŒ…æ‹¬16ä¸ªé€šç”¨æ•°æ®å¯„å­˜å™¨å’Œ16ä¸ªé€šç”¨åœ°å€å¯„å­˜å™¨ã€‚CSFRsç”¨äºæ§åˆ¶æ ¸å¿ƒçš„æ“ä½œå¹¶æä¾›å…³äºæ ¸å¿ƒçš„çŠ¶æ€ä¿¡æ¯ã€‚\né€šç”¨å¯„å­˜å™¨ ç³»ç»Ÿå¯„å­˜å™¨ï¼ˆPSWï¼ŒPCï¼ŒPCXIï¼‰ æ ˆç®¡ç†å¯„å­˜å™¨ï¼ˆA[10] å’Œ ISPï¼‰ SYSCONå’ŒCPU_IDå¯„å­˜å™¨ é™·é˜±å¯„å­˜å™¨ (Trap registers) ä¸Šä¸‹æ–‡ç®¡ç†å¯„å­˜å™¨ å†…å­˜ä¿æŠ¤å¯„å­˜å™¨ å†…å­˜ç®¡ç†å¯„å­˜å™¨ è°ƒè¯•å¯„å­˜å™¨ æµ®ç‚¹å¯„å­˜å™¨ ä¸æ ¸å¿ƒç›¸å…³çš„ç‰¹æ®ŠåŠŸèƒ½å¯„å­˜å™¨ å¤ä½å€¼ åº”æ³¨æ„ï¼Œç”±äºæœ¬æ‰‹å†Œæè¿°çš„æ˜¯TriCoreÂ®æ¶æ„ï¼Œè€Œä¸æ˜¯è¯¥æ¶æ„çš„å…·ä½“å®ç°ï¼Œå› æ­¤æŸäº›å¤ä½å€¼æœªç»™å‡ºã€‚æœªæä¾›çš„å¤ä½å€¼æ˜¯å…·ä½“å®ç°ç›¸å…³çš„ã€‚\nENDINITä¿æŠ¤ è¯¥æ¶æ„æ”¯æŒåœ¨æ“ä½œçŠ¶æ€ä¹‹å‰çš„åˆå§‹åŒ–çŠ¶æ€çš„æ¦‚å¿µã€‚\nåœ¨åˆå§‹åŒ–çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰æ ¸å¿ƒç‰¹æ®ŠåŠŸèƒ½å¯„å­˜å™¨ï¼ˆCSFRsï¼‰éƒ½å¯ä»¥ä½¿ç”¨MTCRæŒ‡ä»¤è¿›è¡Œä¿®æ”¹ã€‚åœ¨æ“ä½œçŠ¶æ€ä¸‹ï¼Œåªæœ‰éƒ¨åˆ†CSFRså¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼ä¿®æ”¹ã€‚å…¶ä»–åŠŸèƒ½åœ¨è¿™ä¸¤ç§çŠ¶æ€ä¸‹ä¿æŒç›¸åŒã€‚\nåœ¨åˆå§‹åŒ–çŠ¶æ€ä¸‹åªèƒ½å†™å…¥çš„CSFRsè¢«æè¿°ä¸ºENDINITä¿æŠ¤çš„ã€‚\nåˆå§‹åŒ–çŠ¶æ€å’Œæ“ä½œçŠ¶æ€ä¹‹é—´çš„è½¬æ¢ç”±ç³»ç»Ÿå®ç°æ§åˆ¶ã€‚æ­¤åŠŸèƒ½é€šè¿‡ä»…å…è®¸åœ¨åˆå§‹åŒ–çŠ¶æ€ä¸‹æ›´æ”¹å…³é”®CSFRsï¼Œå¢åŠ äº†é¢å¤–çš„ä¿æŠ¤çº§åˆ«ã€‚\nä»¥ä¸‹å¯„å­˜å™¨å—ENDINITä¿æŠ¤ï¼š\nBTV, BIV, ISP, PMA0, PMA1, PMA2, PCON0, DCON0, SEGEN æä¾›äº†ä¸€ä¸ªä¸“ä¸ºå®‰å…¨è®¾è®¡çš„ENDINITä¿æŠ¤ç‰ˆæœ¬ã€‚ä»¥ä¸‹å¯„å­˜å™¨å—SAFETY_ENDINITä¿æŠ¤ï¼š\nSMACON, SYSCON, COMPAT, TPS_EXTIM_ENTRY_LVAL, TPS_EXTIM_EXIT_LVAL 4. ä»»åŠ¡å’ŒåŠŸèƒ½ å¤§å¤šæ•°åµŒå…¥å¼å’Œå®æ—¶æ§åˆ¶ç³»ç»Ÿéƒ½æ˜¯æ ¹æ®ä¸€ä¸ªæ¨¡å‹è®¾è®¡çš„ï¼Œè¯¥æ¨¡å‹ä¸­ä¸­æ–­å¤„ç†ç¨‹åºå’Œè½¯ä»¶ç®¡ç†çš„ä»»åŠ¡å„è‡ªè¢«è§†ä¸ºåœ¨è‡ªå·±çš„â€œè™šæ‹Ÿâ€å¾®æ§åˆ¶å™¨ä¸Šæ‰§è¡Œã€‚è¿™ç§æ¨¡å‹é€šå¸¸ç”±å®æ—¶æ‰§è¡Œä½“æˆ–å®æ—¶æ“ä½œç³»ç»Ÿï¼ˆRTOSï¼‰çš„æœåŠ¡æ”¯æŒï¼Œè¿™äº›æœåŠ¡ä½äºåº•å±‚æœºå™¨æ¶æ„çš„ç‰¹æ€§å’ŒåŠŸèƒ½ä¹‹ä¸Šã€‚\nåœ¨TriCoreâ„¢æ¶æ„ä¸­ï¼ŒRTOSå±‚å¯ä»¥éå¸¸â€œè–„â€ï¼Œç¡¬ä»¶å¯ä»¥é«˜æ•ˆåœ°å¤„ç†ä¸€ä¸ªä»»åŠ¡ä¸å¦ä¸€ä¸ªä»»åŠ¡ä¹‹é—´çš„åˆ‡æ¢ã€‚åŒæ—¶ï¼Œè¯¥æ¶æ„å…è®¸åœ¨æ‰€ä½¿ç”¨çš„ä»»åŠ¡æ¨¡å‹ä¸­å…·æœ‰ç›¸å½“çš„çµæ´»æ€§ã€‚ç³»ç»Ÿè®¾è®¡è€…å¯ä»¥é€‰æ‹©æœ€é€‚åˆå…¶åº”ç”¨éœ€æ±‚çš„å®æ—¶æ‰§è¡Œä½“å’Œè½¯ä»¶è®¾è®¡æ–¹æ³•ï¼Œæ¶æ„æ–½åŠ çš„é™åˆ¶ç›¸å¯¹è¾ƒå°‘ã€‚\n5. ä¸­æ–­ç³»ç»Ÿ åœ¨TriCoreTMç³»ç»Ÿä¸­ï¼Œå¤šä¸ªæºï¼ˆå¦‚å¤–å›´è®¾å¤‡æˆ–å¤–éƒ¨ä¸­æ–­ï¼‰å¯ä»¥å‘CPUæˆ–DMAé€šé“ç­‰ä¸­æ–­æœåŠ¡æä¾›è€…å‘å‡ºä¸­æ–­è¯·æ±‚ã€‚æœ¬ç« æè¿°äº†CPUçš„ä¸­æ–­å¤„ç†èƒ½åŠ›ï¼ŒåŒ…æ‹¬ä¸­æ–­ä¼˜å…ˆçº§æ–¹æ¡ˆå’Œå¯¹å‘é‡è¡¨çš„è®¿é—®ã€‚\n5.1 ä¸€èˆ¬æ“ä½œ æ¯ä¸ªä¸­æ–­æºéƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ä¸­æ–­ä¼˜å…ˆçº§ç¼–å·ï¼Œç§°ä¸ºæœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§ç¼–å·ï¼ˆSRPNï¼‰ã€‚åœ¨æ¥æ”¶åˆ°æ¥è‡ªä¸­æ–­æºçš„ä¸­æ–­è¯·æ±‚åï¼ŒSRPNä¼šè¢«ä¸­æ–­æ§åˆ¶å•å…ƒï¼ˆICUï¼‰ç”¨æ¥åœ¨å¤šä¸ªå¹¶å‘ä¸­æ–­è¯·æ±‚ä¹‹é—´è¿›è¡Œä¼˜å…ˆçº§æ’åºã€‚è·èƒœè¯·æ±‚çš„SRPNä½œä¸ºæŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§ç¼–å·ï¼ˆPIPNï¼‰ä¸è¯·æ±‚è§¦å‘ä¸€èµ·ä¼ é€’ç»™CPUã€‚CPUé€šè¿‡å°†PIPNä¸å½“å‰CPUä¼˜å…ˆçº§ç¼–å·ï¼ˆCCPNï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œå†³å®šæ˜¯å¦æ¥å—è¯·æ±‚çš„ä¸­æ–­ã€‚å¦‚æœCPUå†³å®šæ¥å—è¯·æ±‚çš„ä¸­æ–­ï¼Œå®ƒä¼šä»¥ä¸­æ–­ç¡®è®¤å“åº”ï¼Œå¹¶è¿”å›å·²æ¥æ”¶ä¸­æ–­çš„ä¼˜å…ˆçº§ç¼–å·ã€‚éšåICUå°†æ¸…é™¤è¯·æ±‚ä¸­æ–­çš„æºã€‚\n5.1.1 ICUä¸­æ–­æ§åˆ¶å¯„å­˜å™¨ï¼ˆICRï¼‰ ICUä¸­æ–­æ§åˆ¶å¯„å­˜å™¨ï¼ˆICRï¼‰åŒ…å«å½“å‰CPUä¼˜å…ˆçº§ç¼–å·ï¼ˆCCPNï¼‰ã€å…¨å±€ä¸­æ–­å¯ç”¨/ç¦ç”¨ä½ï¼ˆIEï¼‰å’Œå½“å‰æŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§ç¼–å·ï¼ˆPIPNï¼‰ã€‚\n5.1.2 CPUå¯¹ä¸­æ–­è¯·æ±‚çš„æ“ä½œ CPUæ£€æŸ¥å…¨å±€ä¸­æ–­å¯ç”¨ä½ICR.IEçš„çŠ¶æ€ï¼Œå¹¶å°†å½“å‰CPUä¼˜å…ˆçº§ç¼–å·ICR.CCPNä¸PIPNè¿›è¡Œæ¯”è¾ƒã€‚åªæœ‰å½“ICR.IE == 1å¹¶ä¸”PIPNå¤§äºCCPNæ—¶ï¼ŒCPUæ‰ä¼šè¢«ä¸­æ–­ã€‚å¦‚æœæ»¡è¶³æ¡ä»¶ï¼ŒCPUå¯ä»¥è¿›å…¥æœåŠ¡ä¾‹ç¨‹ã€‚PIPNç”¨äºç¡®å®šä¸­æ–­å‘é‡è¡¨çš„å…¥å£ç‚¹ï¼Œå¹¶å‘ICUç¡®è®¤ï¼ŒICUéšåä¼šå‘æŒ‚èµ·çš„ä¸­æ–­è¯·æ±‚å‘é€ç¡®è®¤ã€‚\nå‡ ç§æƒ…å†µå¯èƒ½ä¼šé˜»æ­¢CPUç«‹å³å“åº”ç”±ICUç”Ÿæˆçš„ä¸­æ–­è¯·æ±‚ï¼Œè¿™äº›æƒ…å†µåŒ…æ‹¬ï¼š\nä¸­æ–­ç³»ç»Ÿè¢«å…¨å±€ç¦ç”¨ï¼ˆICR.IE == 0ï¼‰ã€‚ å½“å‰CPUä¼˜å…ˆçº§ï¼ˆCCPNï¼‰ç­‰äºæˆ–é«˜äºæŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§ç¼–å·ï¼ˆPIPNï¼‰ã€‚ CPUæ­£åœ¨è¿›å…¥ä¸­æ–­æˆ–é™·é˜±æœåŠ¡ä¾‹ç¨‹çš„è¿‡ç¨‹ä¸­ã€‚ CPUæ­£åœ¨æ‰§è¡Œä¸å¯ä¸­æ–­çš„é™·é˜±æœåŠ¡ã€‚ CPUæ­£åœ¨æ‰§è¡Œå¤šå‘¨æœŸæŒ‡ä»¤ã€‚ CPUæ­£åœ¨æ‰§è¡Œä¿®æ”¹ICRçš„æŒ‡ä»¤ã€‚ åªæœ‰å½“è¿™äº›æ¡ä»¶ä¸å†æˆç«‹æ—¶ï¼ŒCPUæ‰ä¼šå“åº”ä¸­æ–­è¯·æ±‚ã€‚\n5.1.3 è¿›å…¥ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰ å½“ CPU æ»¡è¶³æ‰€æœ‰æ¡ä»¶æ¥å¤„ç†ä¸­æ–­è¯·æ±‚æ—¶ï¼Œå°†æ‰§è¡Œä»¥ä¸‹æ“ä½œä»¥è¿›å…¥ä¸­æ–­æœåŠ¡ç¨‹åº (ISR)ï¼šï¼š\nå½“å‰ä»»åŠ¡çš„ä¸Šæ–‡è¢«ä¿å­˜ã€‚ å½“å‰PCä¿å­˜åˆ°è¿”å›åœ°å€ï¼ˆA[11]ï¼‰ä¸­ã€‚ å¦‚æœå¤„ç†å™¨ä¹‹å‰æ²¡æœ‰ä½¿ç”¨ä¸­æ–­æ ˆï¼ˆPSW.IS = 0ï¼‰ï¼Œåˆ™A[10]æ ˆæŒ‡é’ˆä¼šè¢«è®¾ç½®ä¸ºä¸­æ–­æ ˆæŒ‡é’ˆï¼ˆISPï¼‰ã€‚éšåæ ˆæŒ‡é’ˆä½è¢«è®¾ç½®ä¸ºä½¿ç”¨ä¸­æ–­æ ˆï¼šPSW.IS = 1ã€‚ I/Oæ¨¡å¼è®¾ç½®ä¸ºSupervisoræ¨¡å¼ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰æƒé™è¢«å¯ç”¨ï¼šPSW.IO = 10Bã€‚ å½“å‰çš„ä¿æŠ¤å¯„å­˜å™¨é›†è¢«è®¾ç½®ä¸º0ï¼šPSW.PRS = 000Bã€‚ è°ƒç”¨æ·±åº¦è®¡æ•°å™¨ï¼ˆPSW.CDCï¼‰è¢«æ¸…é™¤ï¼Œè°ƒç”¨æ·±åº¦é™åˆ¶é€‰æ‹©å™¨è¢«è®¾ç½®ä¸º64ï¼šPSW.CDC = 0000000Bã€‚ è°ƒç”¨æ·±åº¦è®¡æ•°å™¨å·²å¯ç”¨ï¼ŒPSW.CDE = 1ã€‚ PSWå®‰å…¨ä½è®¾ç½®ä¸ºSYSCONå¯„å­˜å™¨ä¸­å®šä¹‰çš„å€¼ï¼šPSW.S = SYSCON.ISã€‚ ç¦æ­¢å¯¹å…¨å±€å¯„å­˜å™¨A[0]ã€A[1]ã€A[8]ã€A[9]çš„å†™å…¥æƒé™ï¼šPSW.GW = 0ã€‚ ä¸­æ–­ç³»ç»Ÿè¢«å…¨å±€ç¦ç”¨ï¼šICR.IE = 0ã€‚æ—§çš„ICR.IEè¢«ä¿å­˜åˆ°PCXI.PIEä¸­ã€‚ å½“å‰CPUä¼˜å…ˆçº§ç¼–å·ï¼ˆICR.CCPNï¼‰è¢«ä¿å­˜åˆ°å‰ä¸€ä¸ªCPUä¼˜å…ˆçº§ç¼–å·ï¼ˆPCXI.PCPNï¼‰å­—æ®µä¸­ã€‚ æŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§ç¼–å·ï¼ˆICR.PIPNï¼‰è¢«ä¿å­˜åˆ°å½“å‰CPUä¼˜å…ˆçº§ç¼–å·ï¼ˆICR.CCPNï¼‰å­—æ®µä¸­ã€‚ è®¿é—®ä¸­æ–­å‘é‡è¡¨ä»¥è·å–ISRçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚ æ³¨æ„ : æ¯å½“è¿›å…¥ä¸­æ–­æœåŠ¡ä¾‹ç¨‹æˆ–é™·é˜±å¤„ç†ç¨‹åºæ—¶ï¼Œéƒ½ä¼šç¦ç”¨å…¨å±€å¯„å­˜å™¨å†™å…¥æƒé™ï¼ˆPSW.GW == 0ï¼‰ã€‚è¿™ç¡®ä¿æ‰€æœ‰é™·é˜±å’Œä¸­æ–­é»˜è®¤æƒ…å†µä¸‹éƒ½å‡è®¾å®ƒä»¬æ²¡æœ‰å†™å…¥å—PSW.GWæ§åˆ¶çš„å¯„å­˜å™¨çš„æƒé™ã€‚\nè¿›å…¥ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼Œä¸­æ–­ç³»ç»Ÿå…¨å±€ç¦ç”¨ï¼Œå½“å‰ CPU ä¼˜å…ˆçº§ (CCPN) è®¾ç½®ä¸ºæ­£åœ¨æœåŠ¡çš„ä¸­æ–­çš„ä¼˜å…ˆçº§ (PIPN)ã€‚ç”¨æˆ·éœ€è¦è‡ªè¡Œå†æ¬¡å¯ç”¨ä¸­æ–­ç³»ç»Ÿï¼Œå¹¶å¯ä»¥é€‰æ‹©ä¿®æ”¹ä¼˜å…ˆçº§ç¼–å·CCPNï¼Œä»¥å®ç°ä¸­æ–­ä¼˜å…ˆçº§çº§åˆ«æˆ–å¤„ç†ç‰¹æ®Šæƒ…å†µã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ã€Šä½¿ç”¨TriCoreä¸­æ–­ç³»ç»Ÿã€‹ã€‚\nå¼€å¯ä¸­æ–­çš„æ–¹å¼å¦‚ï¼š\nENABLEæŒ‡ä»¤ï¼ŒENABLEå°†ICR.IEè®¾ç½®ä¸º1ï¼ˆä¸­æ–­ç³»ç»Ÿå¯ç”¨ï¼‰ã€‚\nBISRï¼ˆBegin Interrupt Service Routineï¼‰æŒ‡ä»¤ä¹Ÿä¼šå¯ç”¨ä¸­æ–­ç³»ç»Ÿï¼Œå°†ICR.CCPNè®¾ç½®ä¸ºæ–°å€¼ï¼Œå¹¶ä¿å­˜è¢«ä¸­æ–­ä»»åŠ¡çš„ä¸‹æ–‡ã€‚\nMTCRï¼ˆMove To Core Registerï¼‰æŒ‡ä»¤ä¿®æ”¹ä¸­æ–­å¯ç”¨ä½ï¼ˆICR.IEï¼‰å’Œå½“å‰CPUä¼˜å…ˆçº§ç¼–å·ï¼ˆICR.CCPNï¼‰ã€‚\nENABLEã€BISRå’ŒDISABLEï¼ˆç¦ç”¨ä¸­æ–­ï¼‰æŒ‡ä»¤éƒ½æ˜¯åœ¨ CPUå®Œå…¨æ‰§è¡Œå®Œè¿™äº›æŒ‡ä»¤åæ‰å…è®¸æ¥å—ä¸­æ–­è¯·æ±‚çš„ ã€‚è¿™é¿å…äº†æµæ°´çº¿å‰¯ä½œç”¨ï¼Œå¹¶æ¶ˆé™¤äº†åœ¨è¿™äº›æŒ‡ä»¤ä¹‹åä½¿ç”¨ISYNCï¼ˆåŒæ­¥æŒ‡ä»¤æµï¼‰çš„éœ€è¦ã€‚MTCRæ˜¯ä¸ªä¾‹å¤–ï¼Œå¿…é¡»åœ¨ä¹‹åè·ŸéšISYNCæŒ‡ä»¤ã€‚\n5.2 é€€å‡ºä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰ å½“ISRé€šè¿‡RFEï¼ˆReturn From Exceptionï¼‰æŒ‡ä»¤é€€å‡ºæ—¶ï¼Œç¡¬ä»¶ä¼šè‡ªåŠ¨æ¢å¤ä¸Šæ–‡ã€‚ä¸Šæ–‡åŒ…æ‹¬ä¿å­˜å‰ä¸€ä¸ªCPUä¼˜å…ˆçº§ç¼–å·ï¼ˆPCXI.PCPNï¼‰å’Œå‰ä¸€ä¸ªå…¨å±€ä¸­æ–­å¯ç”¨ä½ï¼ˆPCXI.PIEï¼‰ã€‚è¿™äº›ç›¸åº”ä½ä¸­çš„å€¼å°†å¦‚ä¸‹ä½¿ç”¨ï¼š\nå°†PCXI.PCPNå†™å…¥ICR.CCPNï¼Œä»¥å°†CPUä¼˜å…ˆçº§ç¼–å·æ¢å¤ä¸ºä¸­æ–­å‰çš„å€¼ã€‚ å°†PCXI.PIEå†™å…¥ICR.IEï¼Œä»¥æ¢å¤è¯¥ä½çš„çŠ¶æ€ã€‚ è¢«ä¸­æ–­çš„ä¾‹ç¨‹éšåå°†ç»§ç»­æ‰§è¡Œã€‚\n5.3 ä¸­æ–­å‘é‡è¡¨ ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰é€šè¿‡ä¸­æ–­å‘é‡è¡¨ä¸ç‰¹å®šä¼˜å…ˆçº§çš„ä¸­æ–­å…³è”ã€‚ä¸­æ–­å‘é‡è¡¨æ˜¯ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰å…¥å£ç‚¹çš„æ•°ç»„ã€‚ä¸­æ–­å‘é‡è¡¨å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚\nå½“CPUå“åº”ä¸­æ–­æ—¶ï¼Œå®ƒä¼šè®¡ç®—ä¸€ä¸ªä¸­æ–­å‘é‡è¡¨ä¸­çš„åœ°å€ï¼Œè¯¥åœ°å€ä¸ä¸­æ–­çš„ä¼˜å…ˆçº§ï¼ˆICR.PIPNä½å­—æ®µï¼‰ç›¸å¯¹åº”ã€‚æ­¤åœ°å€è¢«åŠ è½½åˆ°PCä¸­ï¼ŒCPUå¼€å§‹æ‰§è¡Œæ­¤åœ°å€çš„æŒ‡ä»¤ã€‚æ­¤åœ°å€çš„ä»£ç æ˜¯æ‰€é€‰ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰çš„èµ·å§‹éƒ¨åˆ†ã€‚æ ¹æ®ISRçš„ä»£ç å¤§å°ï¼Œä¸­æ–­å‘é‡è¡¨å¯èƒ½åªå­˜å‚¨ISRçš„åˆå§‹éƒ¨åˆ†ï¼Œä¾‹å¦‚å°†CPUå¼•å¯¼åˆ°ISRå…¶ä½™éƒ¨åˆ†çš„è·³è½¬æŒ‡ä»¤ï¼Œè¿™äº›éƒ¨åˆ†å¯èƒ½å­˜å‚¨åœ¨å†…å­˜çš„å…¶ä»–åœ°æ–¹ã€‚\nä¸­æ–­å‘é‡è¡¨åŸºåœ°å€å¯„å­˜å™¨ ï¼ˆBIVï¼‰å­˜å‚¨ä¸­æ–­å‘é‡è¡¨çš„åŸºåœ°å€ã€‚ä¸­æ–­å‘é‡åœ¨è¡¨ä¸­æŒ‰ä¼˜å…ˆçº§é€’å¢çš„é¡ºåºæ’åˆ—ã€‚åœ¨å¯ç”¨ä¸­æ–­ä¹‹å‰è¿›è¡Œ, BIVå¯„å­˜å™¨å¯ä»¥åœ¨ç³»ç»Ÿåˆå§‹åŒ–é˜¶æ®µä½¿ç”¨MTCRæŒ‡ä»¤è¿›è¡Œä¿®æ”¹ï¼ˆBIVå—ENDINITä¿æŠ¤ï¼‰ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªä¸­æ–­å‘é‡è¡¨ï¼Œå¹¶é€šè¿‡æ›´æ”¹BIVå¯„å­˜å™¨çš„å†…å®¹åœ¨å®ƒä»¬ä¹‹é—´åˆ‡æ¢ã€‚\nå½“å‘ç”Ÿä¸­æ–­æ—¶ï¼ŒCPUä»ICU.PIPNå’ŒBIVå¯„å­˜å™¨çš„è®¡ç®—å‡ºç›¸åº”ä¸­æ–­æœåŠ¡ä¾‹ç¨‹çš„å…¥å£ç‚¹ã€‚æœ‰ ä¸¤ç§å‘é‡è¡¨é…ç½®å¯ç”¨ï¼Œå‘é‡ä¹‹é—´çš„é—´éš”åˆ†åˆ«ä¸º32å­—èŠ‚æˆ–8å­—èŠ‚ ã€‚é—´éš”ç”±BIVå¯„å­˜å™¨çš„å‘é‡å¤§å°é€‰æ‹©ï¼ˆBIV.VSSï¼‰ä½é€‰æ‹©ã€‚\nä¸ºäº†ç”Ÿæˆä¸­æ–­å‘é‡è¡¨ä¸­çš„æŒ‡é’ˆï¼ŒPIPNå‘å·¦ç§»ä½äº”ä½ï¼ˆVSS=0ï¼‰æˆ–ä¸‰ä½ï¼ˆVSS=1ï¼‰ï¼Œç„¶åä¸BIVå¯„å­˜å™¨ä¸­çš„åœ°å€è¿›è¡Œâ€œæˆ–â€è¿ç®—ï¼Œä»¥ç”ŸæˆæŒ‡å‘ä¸­æ–­å‘é‡è¡¨çš„æŒ‡é’ˆã€‚ISRçš„æ‰§è¡Œä»è¿™ä¸ªåœ°å€å¼€å§‹ã€‚ç”±äºè¿™ç§æ“ä½œï¼Œå»ºè®®BIVå¯„å­˜å™¨çš„[14:5]ä½ï¼ˆVSS=0ï¼‰æˆ–[12:3]ä½ï¼ˆVSS=1ï¼‰è®¾ç½®ä¸º0ã€‚\n1if (BIV.VSS == 1â€™b0) 2 ISR_Entry_PC = {BIV[31:1],1â€™b0} | {PIPN\u0026lt;\u0026lt;5}; 3else 4 ISR_Entry_PC = {BIV[31:1],1â€™b0} | {PIPN\u0026lt;\u0026lt;3};å¦‚æœä¸€ä¸ªä¸­æ–­å¤„ç†ç¨‹åºéå¸¸çŸ­ï¼Œå®ƒå¯èƒ½å®Œå…¨é€‚åˆåœ¨å‘é‡ä»£ç æ®µä¸­æä¾›çš„æŒ‡ä»¤å­—å†…ã€‚å¦åˆ™ï¼Œå­˜å‚¨åœ¨å…¥å£ä½ç½®çš„ä»£ç å¯ä»¥è·¨è¶Šå¤šä¸ªå‘é‡æ¡ç›®ï¼Œæˆ–è€…åŒ…å«ä¸€äº›åˆå§‹æŒ‡ä»¤ï¼Œç„¶åè·³è½¬åˆ°å¤„ç†ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†ã€‚æœ‰å…³è·¨è¶Šå‘é‡æ¡ç›®çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§â€œè·¨è¶Šå‘é‡æ¡ç›®çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹â€ã€‚\nBIVå¯„å­˜å™¨å…è®¸ä¸­æ–­å‘é‡è¡¨ä½äºå¯ç”¨ä»£ç å†…å­˜çš„ä»»ä½•ä½ç½®ã€‚ä¸Šç”µæ—¶çš„é»˜è®¤å€¼å–å†³äºå…·ä½“çš„å®ç°ã€‚å¯ä»¥åœ¨ç³»ç»Ÿåˆå§‹åŒ–é˜¶æ®µä½¿ç”¨MTCRæŒ‡ä»¤å†™å…¥BIVå¯„å­˜å™¨ï¼Œè¿™é€šå¸¸æ˜¯åœ¨å¯ç”¨ä¸­æ–­ä¹‹å‰è¿›è¡Œã€‚è¿˜å¯ä»¥é€šè¿‡ä¿®æ”¹BIVå¯„å­˜å™¨çš„å†…å®¹ï¼Œå®ç°å¤šä¸ªä¸­æ–­å‘é‡è¡¨ä¹‹é—´çš„åˆ‡æ¢ã€‚\n5.4 ä½¿ç”¨TriCoreä¸­æ–­ç³»ç»Ÿ ä»¥ä¸‹éƒ¨åˆ†åŒ…å«ä¸€äº›ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨TriCoreæ¶æ„çµæ´»çš„ä¸­æ–­ç³»ç»Ÿæ¥è§£å†³å…¸å‹å’Œç‰¹æ®Šåº”ç”¨çš„éœ€æ±‚ã€‚\n5.4.1 è·¨å‘é‡æ¡ç›®æ‰©å±•ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRsï¼‰ ç”±äºå‘é‡æ¡ç›®å¹¶æœªä¸ä¸­æ–­æºç›´æ¥ç»‘å®šï¼Œå› æ­¤å¾ˆå®¹æ˜“è·¨è¶Šå¤šä¸ªå‘é‡æ¡ç›®ä½ç½®æ¥æ‰©å±•ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼Œå¦‚ä¹‹å‰å›¾22æ‰€ç¤ºã€‚å¦‚æœä¸­æ–­å¤„ç†ç¨‹åºçš„å‰©ä½™éƒ¨åˆ†æ— æ³•å®¹çº³åœ¨å…¥å£ä½ç½®ä¹‹é—´çš„å…«ä¸ªå­—å†…ï¼Œåˆ™æ‰©å±•å¯æ¶ˆé™¤è·³è½¬åˆ°ä¸­æ–­å¤„ç†ç¨‹åºå‰©ä½™éƒ¨åˆ†çš„éœ€è¦ã€‚ã€‚\nè¦æ³¨æ„çš„æ˜¯ï¼Œä¸è·¨è¶ŠæœåŠ¡ä¾‹ç¨‹ç›¸å…³çš„æ¡ç›®æ‰€å¯¹åº”çš„ä¼˜å…ˆçº§å·ï¼Œä¸èƒ½ç”¨äºè¯·æ±‚åŒä¸€æœåŠ¡æä¾›è€…æœåŠ¡çš„æ´»åŠ¨æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNsï¼‰ã€‚\nåœ¨å›¾22ä¸­ï¼Œå‘é‡ä½ç½®ä¸‰å’Œå››è¢«ç¬¬äºŒæ¡ç›®çš„æœåŠ¡ä¾‹ç¨‹è¦†ç›–ã€‚å› æ­¤ï¼Œè¿™äº›ä¼˜å…ˆçº§å·ä¸èƒ½åˆ†é…ç»™è¯·æ±‚CPUæœåŠ¡çš„SRNsï¼Œè™½ç„¶å®ƒä»¬å¯ä»¥ç”¨äºè¯·æ±‚å…¶ä»–æœåŠ¡æä¾›è€…ã€‚æ¥ä¸‹æ¥çš„å¯ç”¨å‘é‡æ¡ç›®æ˜¯æ¡ç›®äº”ã€‚\nä½¿ç”¨è¿™ç§æŠ€æœ¯ä¼šå¢åŠ ç³»ç»Ÿä¸­æ‰€éœ€çš„ä¼˜å…ˆçº§å·ç èŒƒå›´ï¼Œä½†éœ€è¦ç›¸åº”è°ƒæ•´å‘é‡è¡¨çš„å¤§å°ã€‚\n5.4.2 ä¸­æ–­ä¼˜å…ˆçº§ç»„ ä¸­æ–­ä¼˜å…ˆçº§ç»„æè¿°äº†ä¸€ç»„ä¸­æ–­ï¼Œè¿™äº›ä¸­æ–­çš„æœåŠ¡ä¾‹ç¨‹ä¸èƒ½ç›¸äº’ä¸­æ–­ã€‚è¿™äº›ç»„å¯ä»¥é€šè¿‡TriCoreä¸­æ–­ç³»ç»Ÿæ¶æ„è½»æ¾åˆ›å»ºã€‚\nå½“CPUå¼€å§‹æœåŠ¡æŸä¸ªä¸­æ–­æ—¶ï¼Œä¸­æ–­ç³»ç»Ÿä¼šå…¨å±€ç¦ç”¨ï¼Œå¹¶ä¸”CPUä¼˜å…ˆçº§CCPNè®¾ç½®ä¸ºæ­£åœ¨æœåŠ¡çš„ä¸­æ–­çš„ä¼˜å…ˆçº§ã€‚è¿™å°†é˜»æ­¢æ‰€æœ‰å¯¹å…¶ä»–ä¸­æ–­çš„å¤„ç†ï¼Œç›´åˆ°é€šè¿‡è½¯ä»¶é‡æ–°å¯ç”¨ä¸­æ–­ç³»ç»Ÿï¼Œæˆ–é€šè¿‡RFEï¼ˆå¼‚å¸¸è¿”å›ï¼‰æŒ‡ä»¤ç»ˆæ­¢æœåŠ¡ä¾‹ç¨‹ã€‚\næ³¨æ„ï¼š RFEæŒ‡ä»¤ä¼šè‡ªåŠ¨æ¢å¤ICR.IEä½çš„å…ˆå‰çŠ¶æ€ã€‚è¿™å°†æ˜¯1ï¼ˆICR.IE = 1ï¼‰ï¼Œå¦åˆ™è¯¥ä¸­æ–­å°±ä¸ä¼šè¢«å¤„ç† ã€‚\nå½“ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰è½¯ä»¶åœ¨ä¸æ”¹å˜CCPNçš„æƒ…å†µä¸‹é‡æ–°å¼€å¯ä¸­æ–­ï¼ˆè®¾ç½®ICR.IEï¼‰ï¼Œå…¶æ•ˆæœæ˜¯ï¼Œæ‰€æœ‰ä¼˜å…ˆçº§ç­‰äºæˆ–ä½äºCCPNçš„ä¸­æ–­è¯·æ±‚ä»ç„¶è¢«é˜»æ­¢æœåŠ¡ã€‚è¿™åŒ…æ‹¬å½“å‰ä¸­æ–­çš„å†æ¬¡å‘ç”Ÿï¼›å³å®ƒä¸èƒ½ä¸­æ–­æ­¤æœåŠ¡ã€‚\nç„¶è€Œï¼Œå…·æœ‰æ¯”CCPNæ›´é«˜ä¼˜å…ˆçº§å·ç çš„æ¯ä¸ªè¯·æ±‚éƒ½ä¼šä¸­æ–­æ­¤ISRã€‚ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼ˆåœ¨TriCoreæ¶æ„ä¸­å¯ä»¥è½»æ¾å…‹æœï¼‰æ˜¯ï¼Œåº”ç”¨ç¨‹åºéœ€æ±‚é€šå¸¸è¦æ±‚ç›¸ä¼¼é‡è¦æ€§çš„ä¸­æ–­è¯·æ±‚è¢«åˆ†ç»„åœ¨ä¸€èµ·ï¼Œä½¿å¾—è¯¥ç»„ä¸­çš„ä»»ä½•è¯·æ±‚éƒ½ä¸èƒ½ä¸­æ–­åŒç»„å…¶ä»–æˆå‘˜çš„ISRã€‚\nåœ¨ä¸­æ–­ç³»ç»Ÿä¸­åˆ›å»ºè¿™äº›ä¸­æ–­ä¼˜å…ˆçº§ç»„éå¸¸å®¹æ˜“ã€‚å¯¹äºå®šä¹‰çš„ä¸€ç»„ä¸­æ–­è¯·æ±‚ï¼Œå…¶ç›¸åº”æœåŠ¡ä¾‹ç¨‹çš„è½¯ä»¶åœ¨å†æ¬¡å¯ç”¨ä¸­æ–­ç³»ç»Ÿä¹‹å‰ï¼Œå°†CCPNè®¾ç½®ä¸ºè¯¥ç»„ä¸­ä½¿ç”¨çš„æœ€é«˜SRPNçš„å·ç ã€‚å¦‚å›¾23æ‰€ç¤ºã€‚\nä¼˜å…ˆçº§å·ä¸º11å’Œ12çš„ä¸­æ–­è¯·æ±‚æ„æˆä¸€ä¸ªç»„ï¼Œè€Œä¼˜å…ˆçº§å·ä¸º14åˆ°17ï¼ˆåŒ…æ‹¬14å’Œ17ï¼‰çš„ä¸­æ–­è¯·æ±‚æ„æˆå¦ä¸€ä¸ªç»„ã€‚æ¯æ¬¡åœ¨å¤„ç†ç¬¬ä¸€ä¸ªç»„ä¸­çš„ä¸€ä¸ªä¸­æ–­æ—¶ï¼ŒæœåŠ¡ä¾‹ç¨‹ä¼šå°†CCPNè®¾ç½®ä¸ºè¯¥ç»„ä¸­çš„æœ€é«˜ä¼˜å…ˆçº§å·12ï¼Œç„¶åå†é‡æ–°å¯ç”¨ä¸­æ–­ç³»ç»Ÿã€‚æ¯æ¬¡å¤„ç†ç¬¬äºŒä¸ªç»„ä¸­çš„ä¸€ä¸ªä¸­æ–­æ—¶ï¼ŒæœåŠ¡ä¾‹ç¨‹ä¼šå°†CCPNè®¾ç½®ä¸º17ï¼Œç„¶åå†é‡æ–°å¯ç”¨ä¸­æ–­ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¤„ç†äº†ä¸­æ–­14ï¼Œå®ƒåªèƒ½è¢«ä¼˜å…ˆçº§é«˜äº17çš„è¯·æ±‚ä¸­æ–­ï¼Œè€Œä¸ä¼šè¢«æ¥è‡ªå…¶è‡ªèº«ä¼˜å…ˆçº§ç»„çš„è¯·æ±‚æˆ–ä¼˜å…ˆçº§è¾ƒä½çš„è¯·æ±‚ä¸­æ–­ã€‚\nå¯ä»¥çœ‹å‡ºè¯¥ç³»ç»Ÿçš„çµæ´»æ€§åŠå…¶ä¼˜äºå›ºå®šä¼˜å…ˆçº§ç³»ç»Ÿçš„åœ°æ–¹ã€‚åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œä¼˜å…ˆçº§å·ä¸º13çš„ä¸­æ–­è¯·æ±‚å½¢æˆäº†ä¸€ä¸ªå•ç‹¬çš„â€œç»„â€ã€‚ åœ¨æ¯ä¸ªæœåŠ¡ä¾‹ç¨‹ä¸­å°†CCPNè®¾ç½®ä¸ºæœ€å¤§å€¼255çš„æ•ˆæœä¸ä¸é‡æ–°å¯ç”¨ä¸­æ–­ç³»ç»Ÿçš„æ•ˆæœç›¸åŒ ï¼›å³æ‰€æœ‰ä¸­æ–­è¯·æ±‚éƒ½å¯ä»¥è¢«è§†ä¸ºå±äºåŒä¸€ä¸ªç»„ã€‚\nä¸­æ–­ä¼˜å…ˆçº§æ°´å¹³çš„çµæ´»æ€§èŒƒå›´ä»æ‰€æœ‰ä¸­æ–­åœ¨ä¸€ä¸ªç»„å†…ï¼Œåˆ°æ¯ä¸ªä¸­æ–­è¯·æ±‚å½¢æˆè‡ªå·±çš„ç»„ï¼Œä»¥åŠæ‰€æœ‰ä»‹äºä¸¤è€…ä¹‹é—´çš„å¯èƒ½ç»„åˆã€‚\n5.4.3 å°†ISRåˆ†ä¸ºä¸åŒçš„ä¼˜å…ˆçº§ ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆISRï¼‰å¯ä»¥å¾ˆå®¹æ˜“åœ°åˆ†ä¸ºä¸åŒä¼˜å…ˆçº§çš„éƒ¨åˆ† ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªä¸­æ–­è¢«è®¾ç½®ä¸ºéå¸¸é«˜çš„ä¼˜å…ˆçº§ï¼Œå› ä¸ºå¯¹äº‹ä»¶çš„å“åº”æ—¶é—´å’Œååº”éå¸¸å…³é”®ï¼Œä½†è¯¥æœåŠ¡ä¾‹ç¨‹ä¸­çš„è¿›ä¸€æ­¥æ“ä½œå¯ä»¥åœ¨è¾ƒä½ä¼˜å…ˆçº§ä¸Šè¿è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡ä¾‹ç¨‹å°†è¢«åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†åŒ…å«å…³é”®æ“ä½œï¼Œå¦ä¸€éƒ¨åˆ†åŒ…å«è¾ƒä¸å…³é”®çš„æ“ä½œã€‚\né¦–å…ˆå°†ä¸­æ–­èŠ‚ç‚¹çš„ä¼˜å…ˆçº§è®¾ç½®ä¸ºé«˜ä¼˜å…ˆçº§ï¼Œä»¥ä¾¿å½“ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œç«‹å³æ‰§è¡Œå¿…è¦çš„æ“ä½œã€‚ç„¶åå°†è¯¥ä¸­æ–­çš„ä¼˜å…ˆçº§é™ä½ï¼Œå¹¶åœ¨ä»å¤„äºæœåŠ¡ä¾‹ç¨‹ä¸­æ—¶é€šè¿‡è½¯ä»¶å†æ¬¡è®¾ç½®ä¸­æ–­è¯·æ±‚ä½ï¼ˆè¡¨ç¤ºæœ‰å¾…å¤„ç†çš„ä¸­æ–­ï¼‰ã€‚è¿”å›è¢«ä¸­æ–­çš„ç¨‹åºå°†ç»ˆæ­¢é«˜ä¼˜å…ˆçº§çš„æœåŠ¡ä¾‹ç¨‹ã€‚å½“CPUçš„ä¼˜å…ˆçº§ä½äºæŒ‚èµ·ä¸­æ–­çš„ä¼˜å…ˆçº§æ—¶ï¼Œè¯¥å¾…å¤„ç†ä¸­æ–­å°†è¢«æœåŠ¡ã€‚è¿›å…¥æœåŠ¡ä¾‹ç¨‹åï¼ˆæ­¤æ—¶æœåŠ¡ä¾‹ç¨‹åœ¨ç¨‹åºå­˜å‚¨å™¨çš„ä¸åŒåœ°å€ï¼‰ï¼Œæ‰§è¡Œå‰©ä½™çš„ä½ä¼˜å…ˆçº§ä¸­æ–­æ“ä½œã€‚\nåœ¨å…¶ä»–æƒ…å†µä¸‹ï¼ŒæœåŠ¡è¯·æ±‚çš„ä¼˜å…ˆçº§å¯èƒ½è¾ƒä½ï¼Œå› ä¸ºå¯¹äº‹ä»¶çš„å“åº”æ—¶é—´å¹¶ä¸å…³é”®ï¼Œä½†ä¸€æ—¦è·å¾—æœåŠ¡åˆ™ä¸åº”è¢«ä¸­æ–­ã€‚ä¸ºäº†é˜²æ­¢ä»»ä½•ä¸­æ–­ï¼ŒTriCoreæ¶æ„å…è®¸åœ¨ISRå†…æé«˜æœåŠ¡è¯·æ±‚çš„ä¼˜å…ˆçº§ï¼Œå¹¶ä¸”å…è®¸å®Œå…¨ç¦ç”¨ä¸­æ–­ã€‚\nå³å¯¹äºåŒä¸€ä¸ªisrï¼Œè¿›å…¥ä¸­æ–­handlerå‰åè®¾ç½®ä¸åŒçš„ä¼˜å…ˆçº§\n5.4.4 ä½¿ç”¨ä¸åŒçš„ä¼˜å…ˆçº§å¤„ç†ç›¸åŒçš„ä¸­æ–­æº å¯¹äºæŸäº›åº”ç”¨ç¨‹åºï¼Œä¸­æ–­è¯·æ±‚çš„ä¼˜å…ˆçº§ç›¸å¯¹äºå…¶ä»–è¯·æ±‚å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯å–å†³äºç³»ç»Ÿçš„å½“å‰æƒ…å†µã€‚è¿™å¯ä»¥é€šè¿‡åœ¨ä¸åŒæ—¶é—´ä¸ºä¸­æ–­æºåˆ†é…ä¸åŒçš„æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§å·ç ï¼ˆSRPNsï¼‰æ¥å®ç°ï¼Œä»¥æ»¡è¶³åº”ç”¨ç¨‹åºçš„éœ€æ±‚ã€‚é€šå¸¸ï¼Œé’ˆå¯¹è¯¥ä¸­æ–­çš„ISRä¼šæ ¹æ®ä¼˜å…ˆçº§æ‰§è¡Œä¸åŒçš„ä»£ç ã€‚\nåœ¨ä¼ ç»Ÿçš„ä¸­æ–­ç³»ç»Ÿä¸­ï¼ŒISRå¿…é¡»æ£€æŸ¥å½“å‰ä¸­æ–­è¯·æ±‚çš„ä¼˜å…ˆçº§ï¼Œå¹¶æ ¹æ®ä¼˜å…ˆçº§æ‰§è¡Œé€‚å½“çš„ä»£ç éƒ¨åˆ†ï¼Œè¿™å¯èƒ½å¯¼è‡´å¯¹è¯·æ±‚çš„å“åº”å»¶è¿Ÿã€‚ç„¶è€Œï¼Œåœ¨TriCoreç³»ç»Ÿä¸­ï¼Œä¸­æ–­ä¼šè‡ªåŠ¨ä¸ºä¸åŒçš„ä¼˜å…ˆçº§æä¾›ä¸åŒçš„å‘é‡æ¡ç›®ã€‚å› æ­¤ï¼Œä¸éœ€è¦åœ¨ISRä¸­è¿›è¡Œé¢å¤–çš„æ£€æŸ¥å’Œè·³è½¬ï¼Œä»è€Œå‡å°‘äº†ä¸­æ–­å»¶è¿Ÿã€‚\nå¦‚æœISRä¸ä¸­æ–­çš„ä¼˜å…ˆçº§æ— å…³ï¼Œåˆ™éœ€è¦åœ¨è¯¥ä¸­æ–­çš„æ¯ä¸ªå‘é‡æ¡ç›®ä¸Šè·³è½¬åˆ°é€šç”¨ISRä»£ç ã€‚\nä¸ºä¸€ä¸ªä¸­æ–­ä½¿ç”¨ä¸åŒä¼˜å…ˆçº§å·ç æ—¶ï¼Œåœ¨åˆ›å»ºå‘é‡è¡¨æ—¶éœ€è¦è€ƒè™‘è¿™ä¸€ç‚¹ã€‚\n5.4.5 ä¸­æ–­æ§åˆ¶å¯„å­˜å™¨ ICRï¼š ICU Interrupt Control Register ä¸­æ–­æ§åˆ¶å¯„å­˜å™¨ ICR.PIPN [23:16] : æŒ‚èµ·çš„ä¸­æ–­ä¼˜å…ˆçº§å·\n0ï¼šæ— æ•ˆï¼Œ1ï¼šæœ€ä½ï¼Œ0xff:æœ€é«˜\nICR.IE [15] : ä¸­æ–­ç³»ç»Ÿä½¿èƒ½/ç¦ç”¨ä½\nICR.CCPN [7:0] : å½“å‰ CPU ä¼˜å…ˆçº§å·\nBIVï¼š Base Interrupt Vector Table Pointer åŸºæœ¬ä¸­æ–­å‘é‡è¡¨æŒ‡é’ˆ ICR.BIV [31:1] : ä¸­æ–­å‘é‡è¡¨çš„åŸºåœ°å€\nICR.VSS [0] : å‘é‡é—´è·é€‰æ‹©\n0 -\u0026gt; 32byte, 1 -\u0026gt; 8byte\n16. ä¸­æ–­è·¯ç”±å™¨ (Interrupt Router, IR) æœ¬ç« æè¿°äº†ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ï¼Œè¯¥æ¨¡å—å°†æ¥è‡ªå¤–éƒ¨èµ„æºã€å†…éƒ¨èµ„æºå’Œè½¯ä»¶çš„ä¸­æ–­ï¼ˆåœ¨æ­¤ç§°ä¸º æœåŠ¡è¯·æ±‚ ï¼‰è°ƒåº¦åˆ°CPUå’ŒDMAæ¨¡å—ï¼ˆåœ¨æ­¤ç§°ä¸º æœåŠ¡æä¾›è€… ï¼‰ã€‚\næœ¬æ–‡æ¡£çš„èŒƒå›´ æœ¬æ–‡æ¡£é€‚ç”¨äºTC3xxï¼Œå¹¶æ¶µç›–ä»¥ä¸‹ä¸»é¢˜ï¼š\nä¸­æ–­ç³»ç»Ÿæ¶æ„ ä¸­æ–­ç³»ç»Ÿé…ç½® ä¸­æ–­è·¯ç”±å™¨æ“ä½œ 16.1 åŠŸèƒ½åˆ—è¡¨ ä»¥ä¸‹åˆ—è¡¨æ˜¾ç¤ºäº†ä¸­æ–­è·¯ç”±å™¨æ¨¡å—çš„ä¸»è¦åŠŸèƒ½ï¼š\næ”¯æŒæœ€å¤š1024ä¸ªæœåŠ¡è¯·æ±‚çš„ä¸­æ–­ç³»ç»Ÿ æ¯ä¸ªICU1) / æœåŠ¡æä¾›è€…æ”¯æŒå¤šè¾¾255ä¸ªæœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§åˆ« æ”¯æŒå¤šè¾¾ 8ä¸ªICU / æœåŠ¡æä¾›è€… ï¼ˆ 397æœ‰åªæœ‰7ä¸ª**ï¼‰** æ¯ä¸ªå®ç°çš„CPU / DMAæ¨¡å—ï¼ˆæœåŠ¡æä¾›è€…ï¼‰éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨ICU ä½å»¶è¿Ÿä»²è£ - ä»æ¥æ”¶åˆ°æœåŠ¡è¯·æ±‚åˆ°å‘é€ç»™æœåŠ¡æä¾›è€…ï¼Œè€—æ—¶ä»…ä¸ºä¸‰åˆ°å››ä¸ªæ—¶é’Ÿå‘¨æœŸ æ¯ä¸ªå¤–è®¾ä¸­æ–­éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰ æ¯ä¸ªSRNéƒ½æœ‰ä¸€ä¸ªå¯ç¼–ç¨‹çš„8ä½ä¼˜å…ˆçº§å‘é‡ æ¯ä¸ªSRNå¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ªå·²å®ç°çš„ICU / æœåŠ¡æä¾›è€… å½“é…ç½®çš„æœåŠ¡æä¾›è€…ç¡®è®¤ä¸­æ–­æ—¶ï¼ŒSRNå°†ç”±ç¡¬ä»¶è‡ªåŠ¨æ¸…é™¤ æ”¯æŒå®Œæ•´æ€§ä¿æŠ¤çš„ä¸­æ–­ç³»ç»Ÿ æ¯ä¸ªCPUæœ‰8ä¸ªé€šç”¨æœåŠ¡è¯·æ±‚ï¼ˆGPSRï¼‰ï¼Œå¯ç”¨ä½œè½¯ä»¶ä¸­æ–­ï¼ˆä¸åˆ†é…ç»™å¤–è®¾æˆ–å¤–éƒ¨ä¸­æ–­ï¼‰ æœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ï¼ˆSRBï¼‰ï¼Œå¯åŒæ—¶å‘å¤šä¸ªæœåŠ¡æä¾›è€…å‘å‡ºé€šç”¨æœåŠ¡è¯·æ±‚ï¼ˆè½¯ä»¶ä¸­æ–­ï¼‰ æœåŠ¡è¯·æ±‚çš„ä¼˜å…ˆçº§ä¾èµ–å±è”½ï¼ˆé’ˆå¯¹CPUï¼Œç›¸å…³æ§åˆ¶å¯„å­˜å™¨åŒ…å«åœ¨CPUä¸­ï¼‰ å…·æœ‰æ»¤æ³¢æ¨¡å¼å’Œè§¦å‘æ¨¡å¼ï¼ˆå¦‚ä¸‹é™æ²¿ã€ä¸Šå‡æ²¿ã€é«˜ç”µå¹³æˆ–ä½ç”µå¹³ï¼‰çš„å¤–éƒ¨ä¸­æ–­ã€‚æ¨¡å¼å¯åœ¨è¿è¡Œæ—¶é…ç½®3) CPUå”¤é†’æ”¯æŒï¼ˆå½“CPUxå¤„äºIDLEçŠ¶æ€æ—¶ï¼Œå°†æœåŠ¡è¯·æ±‚ä¿¡å·å‘é€è‡³SCUä»¥å”¤é†’CPUxï¼‰ 16.2 ä¸TC2xxçš„å·®å¼‚ ä»¥ä¸‹åŠŸèƒ½å˜åŒ–æ˜¯ä»Aurixåˆ°TC3xxå¼•å…¥çš„ï¼š\né€šç”¨æœåŠ¡è¯·æ±‚ç»„ï¼šæ¯ç»„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹çš„æ•°é‡ä»4ä¸ªå˜æ›´ä¸º8ä¸ªSRNï¼ˆè¯¦è§ 16.7 â€œé€šç”¨æœåŠ¡è¯·æ±‚ï¼ŒæœåŠ¡è¯·æ±‚å¹¿æ’­â€ï¼‰ å¹¿æ’­å¯„å­˜å™¨ï¼šå¹¿æ’­å¯„å­˜å™¨çš„ä½å›¾å·²é€‚åº”æ–°çš„GPSR SRNæ•°é‡ï¼ˆè¯¦è§ 16.7 â€œé€šç”¨æœåŠ¡è¯·æ±‚ï¼ŒæœåŠ¡è¯·æ±‚å¹¿æ’­â€ï¼‰ã€‚ å¹¿æ’­å¯„å­˜å™¨ï¼šæ¯ä¸ªå¹¿æ’­å¯„å­˜å™¨ç°åœ¨éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨çš„ACCENå¯„å­˜å™¨ï¼ˆè¯¦è§ 16.7.3 â€œSRBxå¯„å­˜å™¨çš„è®¿é—®ä¿æŠ¤ï¼ˆACCEN_SRBxï¼‰â€ï¼‰ã€‚ SRCxï¼šå¼•å…¥äº†SRCx[31:0]çš„è®¿é—®ä¿æŠ¤ï¼ˆæ¯ä¸ªå®ç°çš„TOSç¼–ç /ICUéƒ½æœ‰ä¸€ä¸ªACCENå¯„å­˜å™¨ï¼Œè¯¦è§ 16.4.1.3 â€œSRCå¯„å­˜å™¨çš„ä¿æŠ¤â€ï¼‰ã€‚ SRC.ECCï¼šECCä½å­—æ®µçš„å¤§å°ä»6ä½æ›´æ”¹ä¸º5ä½ï¼ˆè¯¦è§ 16.4.1.1 â€œé€šç”¨æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨æ ¼å¼â€ï¼‰ã€‚ SRC.TOSï¼šTOSä½å­—æ®µçš„å¤§å°æ›´æ”¹ä¸º3ä½ï¼ˆè¯¦è§ 16.4.1.1 â€œé€šç”¨æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨æ ¼å¼â€ï¼‰ã€‚ SRCåç§»å’Œç´¢å¼•ç¼–å·æ–¹æ¡ˆæ›´æ”¹ï¼šSRCè¢«æ˜ å°„åˆ°1024 * 32ä½èŒƒå›´å†…ã€‚ç´¢å¼•ç¼–å·ï¼ˆ0-1023ï¼‰ç­‰äºSRCçš„32ä½åç§»é‡ï¼ˆè¯¦è§ 16.4.1.1 â€œé€šç”¨æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨æ ¼å¼â€ï¼‰ã€‚ æ£€æµ‹åˆ°ä¿¡å·åˆ°ä¿ç•™TOSçš„æœåŠ¡è¯·æ±‚æ—¶ï¼Œä¼šå‘SMUå‘å‡ºè­¦æŠ¥ã€‚ SRCå¯„å­˜å™¨æ˜ å°„åˆ°IRåœ°å€æ˜ å°„å·²é‡æ–°è®¾è®¡ã€‚ 16.3 æ¦‚è¿° ä¸­æ–­è¯·æ±‚å¯ä»¥ç”±CPUæˆ–DMAæ¨¡å—æœåŠ¡ ã€‚æœ¬æ–‡æ¡£ä¸­ä½¿ç”¨â€œæœåŠ¡è¯·æ±‚â€è€Œéâ€œä¸­æ–­è¯·æ±‚â€ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥ç”±ä»»ä¸€æœåŠ¡æä¾›è€…æœåŠ¡ã€‚\nä¸­æ–­ç³»ç»Ÿåœ¨ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­å®ç°ï¼Œè¯¥æ¨¡å—åŒ…æ‹¬æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNs : Service Request Nodes ï¼‰ã€ä¸­æ–­æ§åˆ¶å•å…ƒï¼ˆICU : Interrupt Control Units ï¼‰ä»¥åŠæ”¯æŒè½¯ä»¶å¼€å‘çš„é™„åŠ åŠŸèƒ½ã€‚\nå¦‚å›¾173æ‰€ç¤ºï¼Œæ¯ä¸ªèƒ½å¤Ÿç”ŸæˆæœåŠ¡è¯·æ±‚çš„æ¨¡å—éƒ½è¿æ¥åˆ°ä¸­å¤®ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰ã€‚ä¸­æ–­è·¯ç”±å™¨æ¨¡å—è¿˜åŒ…æ‹¬å¤šä¸ªé€šç”¨æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹å¯ç”¨äºè½¯ä»¶ï¼ˆSWï¼‰è§¦å‘çš„æœåŠ¡è¯·æ±‚ã€‚\næ¯ä¸ªSRNåŒ…å«ä¸€ä¸ªæœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ï¼ˆSRCï¼‰ï¼Œç”¨äºé…ç½®æœåŠ¡è¯·æ±‚ï¼Œä¾‹å¦‚ä¼˜å…ˆçº§ã€æ˜ å°„åˆ°ä¸€ä¸ªå¯ç”¨çš„æœåŠ¡æä¾›è€…ã€‚\næ¯ä¸ªSRNè¿æ¥åˆ°ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­çš„æ‰€æœ‰ICUï¼Œåœ¨é‚£é‡Œï¼ŒSRNçš„æ§åˆ¶å¯„å­˜å™¨è®¾ç½®å®šä¹‰äº†ç›®æ ‡æœåŠ¡æä¾›è€…å’ŒæœåŠ¡è¯·æ±‚çš„ä¼˜å…ˆçº§ã€‚\næ¯ä¸ªICUå¤„ç†æ¥è‡ªæ˜ å°„åˆ°è¯¥ICUçš„SRNçš„ç«äº‰æœåŠ¡è¯·æ±‚ä¹‹é—´çš„ä¸­æ–­ä»²è£ã€‚\næ¯ä¸ªICUè¿æ¥åˆ°ä¸€ä¸ªæœåŠ¡æä¾›è€…ï¼ˆCPUæˆ–DMAæ¨¡å—ï¼‰ï¼Œåœ¨ä»²è£è½®ä¸­ï¼ŒICUå‘æœåŠ¡æä¾›è€…æä¾›æœ‰æ•ˆçš„è·èƒœæœåŠ¡è¯·æ±‚/SRNï¼Œå¹¶ä¸”æœåŠ¡æä¾›è€…åœ¨å¤„ç†æœåŠ¡è¯·æ±‚æ—¶å‘ICUå‘å›ä¿¡å·ã€‚\n16.4 æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­çš„æ¯ä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰åŒ…å«ä¸€ä¸ªæœåŠ¡è¯·æ±‚æ§åˆ¶ï¼ˆSRCï¼‰å¯„å­˜å™¨å’Œæ¥å£é€»è¾‘ï¼Œè¯¥æ¥å£é€»è¾‘å°†å…¶è¿æ¥åˆ°ä¸­æ–­è·¯ç”±å™¨æ¨¡å—å¤–éƒ¨çš„è§¦å‘å•å…ƒä»¥åŠä¸­æ–­è·¯ç”±å™¨å†…éƒ¨çš„ä¸­æ–­ä»²è£æ€»çº¿ï¼ˆå‚è§å›¾173ï¼‰ã€‚\n16.4.1 æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­çš„æ‰€æœ‰æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨æ ¼å¼ç›¸åŒã€‚é€šå¸¸ï¼Œè¿™äº›å¯„å­˜å™¨åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š\nå¯ç”¨/ç¦ç”¨ä¿¡æ¯ï¼ˆSREï¼Œç¬¬9é¡µï¼‰ æœåŠ¡è¯·æ±‚è®¾ç½®ä½å’ŒæœåŠ¡è¯·æ±‚æ¸…é™¤ä½ï¼ˆSETRï¼ŒCLRRï¼Œç¬¬9é¡µï¼‰ è½¯ä»¶ç²˜æ»ä½ï¼ˆSWSï¼‰ï¼Œç”¨äºæŒ‡ç¤ºè½¯ä»¶å‘èµ·çš„æœåŠ¡è¯·æ±‚ï¼ˆSWSï¼Œç¬¬12é¡µï¼‰ æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§å‘é‡ï¼ˆSRPNï¼Œç¬¬10é¡µï¼‰ æœåŠ¡è¯·æ±‚ç›®æ ‡/æœåŠ¡æä¾›è€…ï¼ˆTOSï¼Œç¬¬9é¡µï¼‰ æœåŠ¡è¯·æ±‚çŠ¶æ€ä½ï¼ˆSRRï¼Œç¬¬9é¡µï¼‰ å‘å®‰å…¨ç®¡ç†å•å…ƒï¼ˆSMUï¼‰ä¿¡å·å®Œæ•´æ€§é”™è¯¯ï¼ˆç¬¬11é¡µï¼‰ ä¸­æ–­æº¢å‡ºä½ï¼ˆIOVï¼Œç¬¬11é¡µï¼‰ é™¤äº†å¯ä»¥é€šè¿‡ç¡¬ä»¶ç”±ç›¸å…³çš„è§¦å‘å•å…ƒæ¿€æ´»å¤–ï¼Œæ¯ä¸ªSRNè¿˜å¯ä»¥é€šè¿‡è½¯ä»¶é€šè¿‡ä¸¤ä¸ªè½¯ä»¶å‘èµ·çš„æœåŠ¡è¯·æ±‚æ§åˆ¶ä½è¿›è¡Œè®¾ç½®æˆ–é‡ç½®ã€‚\n16.4.1.1 é€šç”¨æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨æ ¼å¼ 16.4.1.1.1 æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ï¼ˆSRC ï¼š Service Request Control Register ï¼‰ æœ¬ç« æè¿°äº†æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ï¼ˆSRCï¼‰çš„ç‰¹æ€§ã€‚\nè¯·æ³¨æ„ï¼šä¸€äº›æ¨¡å—åœ¨æ¨¡å—çº§åˆ«æœ‰é¢å¤–çš„ä¸­æ–­ç›¸å…³æ§åˆ¶å¯„å­˜å™¨ï¼ˆä¾‹å¦‚ï¼Œä¸­æ–­çŠ¶æ€ã€è®¾ç½®æ¸…é™¤æˆ–å¯ç”¨å¯„å­˜å™¨ï¼‰ã€‚è¿™äº›æ¨¡å—å¯„å­˜å™¨åœ¨ç›¸åº”æ¨¡å—ç« èŠ‚ä¸­æè¿°ã€‚\næœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ i ï¼ŒSRCi (i=0-1023)ï¼Œ(00000H + i*4)\nSRC.SRPN [7:0] : æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§\n0ï¼šæœ€ä½ï¼Œ0xffï¼šæœ€é«˜ï¼›cpuçš„æœ€å°å€¼ä¸º1ï¼Œdmaæœ€å°å€¼0\nSRC.SRE [10] : æœåŠ¡è¯·æ±‚ä½¿èƒ½/ç¦ç”¨ä½\nSRC.TOS [13:11] : æœåŠ¡è¯·æ±‚ç±»å‹\n0ï¼šcpu0ï¼Œ1ï¼šDMAï¼Œ2-6ï¼šcpu1-5\nSRC.ECC [20:16] : é”™è¯¯çº æ­£ç \nSRC.SRR [24] : æœåŠ¡è¯·æ±‚æŒ‚èµ·æ ‡å¿—ä½\nSRC.CLRR [25] : clear SRR æ¸…æ¥šæœåŠ¡æŒ‚èµ·ä½\nSRC.SETR [26] : set SRR è®¾ç½®æœåŠ¡å™¨è¯·æ±‚ä½\nSRC.IOV [27] : hwä¸­æ–­è§¦å‘æº¢å‡ºæ ‡å¿—ä½\nSRC.IOVCLR [28] : clear IOV\nSRC.SWS [29] : è½¯ä»¶ä¸­æ–­æ ‡å¿—ä½\nSRC.SWSCLR [30] : clear SWS\n16.4.1.2 æ›´æ”¹SRNé…ç½® é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰å‡è¢«ç¦ç”¨ã€‚è¦ä½¿ç”¨æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼Œå¿…é¡»é€šè¿‡å°†SRC.SREä½è®¾ç½®ä¸º 1æ¥é…ç½®å¹¶å¯ç”¨å®ƒã€‚\næœåŠ¡è¯·æ±‚èŠ‚ç‚¹å¯ä»¥é’ˆå¯¹ä¸­æ–­æœåŠ¡æä¾›è€…ç›®æ ‡ï¼ˆSRC.TOSï¼‰å’ŒæœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§ç¼–å·ï¼ˆSRC.SRPNï¼‰è¿›è¡Œé…ç½®ã€‚å¯ç”¨SRNåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ›´æ”¹TOSå’Œ/æˆ–SRPNä½å­—æ®µï¼š\nç¦ç”¨SRNï¼ˆè®¾ç½®SRC.SRE= 0ï¼‰ã€‚ æ£€æŸ¥SRNæ˜¯å¦å·²ç¦ç”¨ï¼ˆè¯»å›SRC.SREå¹¶æ£€æŸ¥SRE= 0ï¼‰ã€‚ æ£€æŸ¥å¯„å­˜å™¨LWSRxï¼ˆæœ€åçš„è·èƒœæœåŠ¡è¯·æ±‚ï¼Œè¯»å–/è½®è¯¢LWSRxï¼Œå‚è§ä¸‹è¿°è¯´æ˜ï¼‰ï¼š å¦‚æœLWSRx.STAT= 0æˆ–LWSRx.SRPNæˆ–LWSRx.ECCä¸å†ç­‰äºæ—§çš„SRCå€¼ï¼Œåˆ™ç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥ï¼ˆæ›´æ”¹SRCå€¼ï¼‰ã€‚ å¦‚æœLWSRx.STAT= 1ä¸”LWSRx.SRPNå’ŒLWSRx.ECCç­‰äºï¼ˆæ—§çš„ï¼‰SRCå€¼ï¼Œåˆ™å†æ¬¡æ£€æŸ¥LWSRxã€‚ æ›´æ”¹SRC.TOSå’Œ/æˆ–SRC.SRPNä½å­—æ®µã€‚ å¯ç”¨SRNï¼ˆSRC.SRE= 1ï¼Œå†™å…¥SRC.SREï¼‰ã€‚ å¦‚æœéœ€è¦é‡æ–°é…ç½®çš„æœåŠ¡è¯·æ±‚åœ¨ç¦ç”¨æ—¶å¤„äºæŒ‚èµ·çŠ¶æ€ï¼Œå¯èƒ½è¯¥æœåŠ¡è¯·æ±‚å·²è¢«ä»²è£å¹¶æä¾›ç»™ä¸­æ–­æœåŠ¡æä¾›è€…ï¼ˆCPUæˆ–DMAï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”å»¶è¿Ÿå¯ç”¨é‡æ–°é…ç½®çš„SRNï¼Œç›´åˆ°ä¸Šè¿°LWSRxè½®è¯¢ç®—æ³•å®Œæˆï¼Œä»¥ç¡®ä¿åˆšç¦ç”¨çš„SRNé…ç½®ä¸å†å­˜åœ¨äºä¸­æ–­ç³»ç»Ÿä¸­ã€‚å¦‚æœç¦ç”¨çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹æ˜ å°„åˆ°TriCoreï¼Œè¯»å–/è½®è¯¢åºåˆ—çš„æ—¶é—´æ˜¯éç¡®å®šæ€§çš„ã€‚å¦‚æœISPæ˜¯DMAæ¨¡å—ï¼Œåˆ™è¿›å…¥å’Œç¡®è®¤åœ¨åŒä¸€å‘¨æœŸå†…å‘å‡ºã€‚LWSRxä¸­çš„ xè¡¨ç¤ºéœ€è¦æ£€æŸ¥ä¸TOSè®¾ç½®ç›¸å…³çš„LWSRå¯„å­˜å™¨ï¼ˆTOS=0 -\u0026gt; LWSR0ï¼ŒTOS=1 -\u0026gt; LWSR1ï¼Œ\u0026hellip;ï¼‰ã€‚\n16.4.1.3 SRCå¯„å­˜å™¨çš„ä¿æŠ¤ SRCå¯„å­˜å™¨é€šè¿‡ç‰‡ä¸Šæ€»çº¿ä¸»æ§TAG-IDä¿æŠ¤ï¼ˆè¯¦è§ç¬¬16.8.1ç« ï¼‰è¿›è¡Œå†™ä¿æŠ¤ã€‚æ­¤ä¿æŠ¤ç”±ä¸­æ–­è·¯ç”±å™¨æ§åˆ¶å¯„å­˜å™¨ACCEN_CONFIGå’ŒACCEN_TOSxæ§åˆ¶ã€‚\nSRC[31:16]ï¼šå—ACCEN_TOSxï¼ˆx = SRC.TOSï¼‰å†™ä¿æŠ¤ã€‚ SRC[15:0]ï¼šå—ACCEN_CONFIGå†™ä¿æŠ¤ã€‚ å°†SRCå†™ä¿æŠ¤åˆ’åˆ†ä¸ºSRC[31:16]å’ŒSRC[15:0]çš„ä¸åŒå†™ä¿æŠ¤å¯„å­˜å™¨ï¼Œå…è®¸ä¸ºæ‰€æœ‰æœåŠ¡è¯·æ±‚èŠ‚ç‚¹çš„é…ç½®ï¼ˆé€šå¸¸åœ¨è¿è¡Œæ—¶æ˜¯é™æ€çš„ï¼‰å’Œåœ¨è¿è¡Œæ—¶ç”±ç›¸å…³è½¯ä»¶ä»»åŠ¡ä½œä¸ºæ­£å¸¸åº”ç”¨ç¨‹åºä¸€éƒ¨åˆ†ä½¿ç”¨çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹æ§åˆ¶å¯„å­˜å™¨å®šä¹‰ä¸åŒçš„ä¿æŠ¤é…ç½®ï¼ˆä¾‹å¦‚è½¯ä»¶ä¸­æ–­ï¼‰ã€‚\nå¯¹SRC[31:16]è¿›è¡Œå†™è®¿é—®æ—¶å‘ç”Ÿè®¿é—®ä¿æŠ¤è¿è§„\nå½“ä½¿ç”¨32ä½æ•°æ®è®¿é—®å†™å…¥SRCå¯„å­˜å™¨æ—¶ï¼Œä»…æ›´æ–°æœªå‘ç”ŸACCENä¿æŠ¤è¿è§„çš„SRCå¯„å­˜å™¨éƒ¨åˆ†ï¼š\nå¯¹SRC[31:16]ï¼ˆACCEN_TOSxï¼‰å’ŒSRC[15:0]ï¼ˆACCEN_CONFIGï¼‰çš„è¿è§„ ä¸æ›´æ–°SRCå¯„å­˜å™¨ï¼Œå‘SMUå‘é€è­¦æŠ¥ã€‚ å¯¹SRC[31:16]ï¼ˆACCEN_TOSxï¼‰çš„è¿è§„ï¼š ä¸æ›´æ–°SRC[31:16]ï¼Œæ›´æ–°SRC[15:0]ï¼Œå‘SMUå‘é€è­¦æŠ¥ã€‚ å¯¹SRC[15:0]ï¼ˆACCEN_CONFIGï¼‰çš„è¿è§„ï¼š æ›´æ–°SRC[31:16]ï¼Œä¸æ›´æ–°SRC[15:0]ï¼Œå‘SMUå‘é€è­¦æŠ¥ã€‚ SRCé…ç½®çš„è®¿é—®ä¿æŠ¤ï¼ˆSRC[15:0]ï¼‰\næ‰€æœ‰SRCå¯„å­˜å™¨çš„ä¸‹åŠéƒ¨åˆ†SRCx[15:0]é€šè¿‡ACCEN_CONFIGå¯„å­˜å™¨è¿›è¡Œå†™ä¿æŠ¤ã€‚è¿™æ„å‘³ç€ï¼ŒACCEN_CONFIGçš„é…ç½®å®šä¹‰äº†å“ªäº›TAG IDè¢«å…è®¸å†™å…¥æ‰€æœ‰å·²å®ç°çš„SRCå¯„å­˜å™¨çš„ä¸‹åŠéƒ¨åˆ†ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹SRC.TOSã€SRC.SREã€SRC.SRPNï¼ˆå‡æ˜ å°„åœ¨SRC[15:0]ï¼‰çš„ä¿®æ”¹ä¹Ÿä¼šé—´æ¥ä¿®æ”¹SRC.ECCä½å­—æ®µã€‚\nèƒŒæ™¯ / ç”¨ä¾‹ï¼ˆACCEN_CONFIGä¿æŠ¤çš„SRC[15:0]ï¼‰\nSRCx[15:0]åŒ…æ‹¬æœåŠ¡è¯·æ±‚èŠ‚ç‚¹çš„é…ç½®ä½/ä½å­—æ®µï¼Œé€šå¸¸ï¼š\nåœ¨å¯åŠ¨æœŸé—´é…ç½® åœ¨è¿è¡Œæ—¶æ˜¯é™æ€çš„ ä¸åº”ç”±éå®‰å…¨è½¯ä»¶ä»»åŠ¡ä¿®æ”¹ ACCEN_CONFIGå…è®¸é…ç½®ä»…ç‰¹å®šçš„TAG IDå¯ä»¥é‡æ–°é…ç½®SRCé…ç½®ï¼Œä¾‹å¦‚CPUx.DMIå®‰å…¨TAG IDã€‚\nSRCæ§åˆ¶ä½çš„è®¿é—®ä¿æŠ¤ï¼ˆSRC[31:16]ï¼‰\nSRCå¯„å­˜å™¨çš„ä¸ŠåŠéƒ¨åˆ†SRC[31:16]é€šè¿‡ä¸€ä¸ªACCEN_SRC_TOSxå¯„å­˜å™¨è¿›è¡Œå†™ä¿æŠ¤ã€‚ä¿æŠ¤SRNçš„ACCEN_SRC_TOSxå¯„å­˜å™¨ç”±SRNçš„SRC.TOSé…ç½®é€‰æ‹©ï¼š\nSRCx.TOS = 0 -\u0026gt; SRCå¯„å­˜å™¨é€šè¿‡ACCEN_SRC_TOS0è¿›è¡Œå†™ä¿æŠ¤ SRCx.TOS = 1 -\u0026gt; SRCå¯„å­˜å™¨é€šè¿‡ACCEN_SRC_TOS1è¿›è¡Œå†™ä¿æŠ¤ SRCx.TOS = 2 -\u0026gt; SRCå¯„å­˜å™¨é€šè¿‡ACCEN_SRC_TOS2è¿›è¡Œå†™ä¿æŠ¤ \u0026hellip; å¯¹äºâ€œä¿ç•™â€TOSç¼–ç ï¼Œæ²¡æœ‰å®ç°ACCEN_SRC_TOSxå¯„å­˜å™¨ã€‚è¿™æ„å‘³ç€ï¼Œå¯¹äºé…ç½®äº†ä¿ç•™TOSç¼–ç çš„SRCyï¼ŒSRCyå§‹ç»ˆå¯ä»¥å†™å…¥ã€‚æœåŠ¡è¯·æ±‚åˆ°æœªå®ç°çš„ISPï¼ˆSRC.TOS=ä¿ç•™ï¼‰å°†ä½œä¸ºè­¦æŠ¥å‘é€åˆ°SMUã€‚\nèƒŒæ™¯ / ç”¨ä¾‹ï¼ˆACCEN_SRC_TOSxä¿æŠ¤çš„SRC[31:16]ï¼‰\nSRCx[31:16]åŒ…æ‹¬æœåŠ¡è¯·æ±‚èŠ‚ç‚¹çš„æ§åˆ¶ä½/ä½å­—æ®µï¼Œå¯ç”¨äºåœ¨è¿è¡Œæ—¶ï¼š\nè®¾ç½®æœåŠ¡è¯·æ±‚ï¼ˆè½¯ä»¶ä¸­æ–­ï¼‰ æ¸…é™¤æœåŠ¡è¯·æ±‚ æ¸…é™¤ä¸­æ–­æº¢å‡ºæˆ–ç²˜æ»ä½ é€šè¿‡SRC.ECCä½å­—æ®µæ³¨å…¥ECCé”™è¯¯ å¦‚æœæ²¡æœ‰è¿™ä¸ªæœºåˆ¶ï¼Œä»»ä½•CPUä»»åŠ¡å’Œä»»ä½•å…·æœ‰ä¸»åŠŸèƒ½çš„ç‰‡ä¸Šæ€»çº¿IPéƒ½å¯ä»¥ç”Ÿæˆå¯¹ä»»ä½•CPUçš„SWä¸­æ–­å’Œ/æˆ–æ¸…é™¤ä»»ä½•ä¸­æ–­ã€‚è¯¥æœºåˆ¶ä½¿ç³»ç»Ÿèƒ½å¤Ÿä»¥â€œæ¯CPUâ€ä¸ºç²’åº¦å°è£…è½¯ä»¶ä»»åŠ¡ï¼Œå¹¶é™åˆ¶ä¸æ­£ç¡®è½¯ä»¶çš„å‰¯ä½œç”¨ä»…å½±å“æ‰§è¡Œè¯¥è½¯ä»¶çš„CPUã€‚\nä¾‹å¦‚ï¼šæ‰€æœ‰æ˜ å°„åˆ°CPU0çš„SRNsï¼ˆTOS=0ï¼‰éƒ½é€šè¿‡ACCEN_SRC_TOS0è¿›è¡Œå†™ä¿æŠ¤ã€‚è¿™æ„å‘³ç€ï¼Œé€šè¿‡ACCEN_SRC_TOS0çš„é…ç½®ï¼Œå®šä¹‰äº†å“ªäº›TAG IDè¢«å…è®¸å‘CPU0è®¾ç½®æˆ–æ¸…é™¤æœåŠ¡è¯·æ±‚ã€‚ACCEN_SRC_TOS0å¯ä»¥é…ç½®ä¸ºä»…å…è®¸CPU0ä»»åŠ¡å‘CPU0è®¾ç½®è½¯ä»¶ä¸­æ–­ã€‚è¿™ç¡®ä¿äº†ä»»ä½•å…¶ä»–CPUæˆ–DMAé€šé“ä¸Šçš„æŸåè½¯ä»¶ä¸ä¼šé€šè¿‡æ°¸ä¹…è½¯ä»¶ä¸­æ–­å½±å“CPU0ã€‚\nåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœå‘ç”Ÿè®¿é—®ä¿æŠ¤é”™è¯¯ï¼Œå†™å…¥æ“ä½œå°†è¢«é™é»˜å¿½ç•¥ï¼Œå¹¶å‘SMUå‘é€é”™è¯¯ä¿¡å·ã€‚é™¤å‘SMUå‘å‡ºä¿¡å·å¤–ï¼Œä¸ä¼šç”Ÿæˆå…¶ä»–é”™è¯¯ã€ä¸­æ–­æˆ–é™·é˜±ã€‚\n16.4.1.4 è¯·æ±‚è®¾ç½®å’Œæ¸…é™¤ä½ï¼ˆSETRï¼ŒCLRRï¼‰ SETRä½ï¼šå†™å…¥1ä¼šå°†SRRä½è®¾ç½®ä¸º1ã€‚ CLRRä½ï¼šå†™å…¥1ä¼šå°†SRRä½æ¸…é™¤ä¸º0ã€‚ åŒæ—¶å†™å…¥1åˆ°SETRå’ŒCLRRæ—¶ï¼ŒSRRä½ä¸ä¼šæ”¹å˜ã€‚ å†™å…¥SETRæˆ–CLRRçš„å€¼ä¸ä¼šè¢«å­˜å‚¨ã€‚ å†™å…¥0å¯¹è¿™äº›ä½æ²¡æœ‰å½±å“ã€‚ è¯»å–è¿™äº›ä½æ—¶æ€»æ˜¯è¿”å›0ã€‚ 16.4.1.5 ä½¿èƒ½ä½ï¼ˆSREï¼‰ SREä½å…è®¸ä¸­æ–­å‚ä¸é€‰å®šæœåŠ¡æä¾›è€…çš„ä»²è£ã€‚å®ƒä¸ä¼šå¯ç”¨æˆ–ç¦ç”¨è¯·æ±‚æ ‡å¿—SRRçš„è®¾ç½®ï¼›è¯·æ±‚æ ‡å¿—å¯ä»¥é€šè¿‡ç¡¬ä»¶æˆ–è½¯ä»¶ï¼ˆé€šè¿‡SETRï¼‰ç‹¬ç«‹äºSREä½çš„çŠ¶æ€è¿›è¡Œè®¾ç½®ã€‚è¿™ä½¿å¾—æœåŠ¡è¯·æ±‚å¯ä»¥é€šè¿‡ç¡¬ä»¶è‡ªåŠ¨å¤„ç†æˆ–é€šè¿‡è½¯ä»¶è½®è¯¢å¤„ç†ã€‚\nSRE = 1ï¼š å¦‚æœSRE = 1ï¼Œå¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚å°†ä¼ é€’ç»™æŒ‡å®šçš„æœåŠ¡æä¾›è€…è¿›è¡Œä¸­æ–­ä»²è£ã€‚å½“æœåŠ¡è¯·æ±‚è¢«æœåŠ¡æä¾›è€…ç¡®è®¤æ—¶ï¼Œç¡¬ä»¶ä¼šè‡ªåŠ¨å°†SRRä½é‡ç½®ä¸º0ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå»ºè®®è½¯ä»¶ä¸è¦ä¿®æ”¹SRRä½ï¼Œä»¥é¿å…ç”±äºç¡¬ä»¶æ§åˆ¶è¯¥ä½å¯¼è‡´çš„æ„å¤–è¡Œä¸ºã€‚ SRE = 0ï¼š å¦‚æœSRE = 0ï¼Œå¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚ä¸ä¼šä¼ é€’ç»™æœåŠ¡æä¾›è€…ã€‚è½¯ä»¶å¯ä»¥è½®è¯¢SRRä½ä»¥æ£€æŸ¥æ˜¯å¦æœ‰æœåŠ¡è¯·æ±‚å¾…å¤„ç†ã€‚è¦ç¡®è®¤æœåŠ¡è¯·æ±‚ï¼ŒSRRä½å¿…é¡»é€šè¿‡è½¯ä»¶å†™å…¥1åˆ°CLRRæ¥é‡ç½®ã€‚ åœ¨æœ¬æ–‡æ¡£ä¸­ï¼Œâ€œactive sourceâ€æŒ‡çš„æ˜¯å…¶è¯·æ±‚ä½¿èƒ½ä½SREè®¾ç½®ä¸º1ï¼Œä»¥å…è®¸å…¶æœåŠ¡è¯·æ±‚å‚ä¸ä¸­æ–­ä»²è£çš„SRNã€‚\n16.4.1.6 æœåŠ¡è¯·æ±‚æ ‡å¿—ï¼ˆSRRï¼‰ å½“è®¾ç½®æ—¶ï¼ŒSRRæ ‡å¿—è¡¨ç¤ºæœ‰ä¸€ä¸ªæœåŠ¡è¯·æ±‚å¾…å¤„ç†ã€‚å®ƒå¯ä»¥é€šè¿‡ç¡¬ä»¶ç›´æ¥è®¾ç½®æˆ–é‡ç½®ï¼Œæˆ–é€šè¿‡è½¯ä»¶ä½¿ç”¨SETRå’ŒCLRRä½é—´æ¥è®¾ç½®æˆ–é‡ç½®ã€‚é€šè¿‡è½¯ä»¶ç›´æ¥å†™å…¥è¯¥ä½æ²¡æœ‰æ•ˆæœã€‚ SRRå¯ä»¥ç”±ç¡¬ä»¶æˆ–è½¯ä»¶è®¾ç½®æˆ–æ¸…é™¤ï¼Œæ— è®ºSREä½çš„çŠ¶æ€å¦‚ä½•ã€‚ç„¶è€Œï¼Œåªæœ‰å½“SREä½è®¾ç½®ä¸º1æ—¶ï¼Œè¯·æ±‚æ‰ä¼šè¢«è½¬å‘è¿›è¡ŒæœåŠ¡ã€‚å¦‚æœSRE = 1ï¼Œå¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚å°†å‚ä¸è®¾å¤‡TOSä½å­—æ®µé€‰æ‹©çš„æœåŠ¡æä¾›è€…çš„ä¸­æ–­ä»²è£ã€‚å¦‚æœSRE = 0ï¼Œå¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚å°†è¢«æ’é™¤åœ¨ä¸­æ–­ä»²è£ä¹‹å¤–ã€‚ å½“æœåŠ¡è¯·æ±‚è¢«ç¡®è®¤å¹¶æœåŠ¡åï¼Œç¡¬ä»¶ä¼šè‡ªåŠ¨é‡ç½®SRRã€‚è½¯ä»¶å¯ä»¥è½®è¯¢SRRä»¥æ£€æŸ¥å¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒSRRå¿…é¡»é€šè¿‡è½¯ä»¶å†™å…¥1åˆ°CLRRæ¥é‡ç½®ã€‚ æ¸…é™¤å¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚æ ‡å¿—SRRå’Œå¯ç”¨ç›¸åº”çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰åº”åˆ†ä¸¤æ­¥/ä¸¤æ¬¡å†™å…¥ï¼šé¦–å…ˆæ¸…é™¤SRRæ ‡å¿—ï¼ˆSRC.CLRRï¼‰ï¼Œç„¶åå¯ç”¨ï¼ˆSRC.SREï¼‰ã€‚\n16.4.1.7 ç±»å‹æœåŠ¡æ§åˆ¶ (TOS) æ¯ä¸ª TriCore CPU å’Œæ¯ä¸ªç³»ç»Ÿ DMA å®ä¾‹éƒ½å¯ä»¥ä½œä¸ºä¸­æ–­æœåŠ¡æä¾›è€…ï¼ˆISPï¼‰ã€‚æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰å¯ä»¥é€šè¿‡ TOS ä½å­—æ®µæ˜ å°„åˆ°ä¸€ä¸ªç¡®åˆ‡çš„ ISPã€‚\nTOS é…ç½®å°†æœåŠ¡è¯·æ±‚æ˜ å°„åˆ°ï¼š\nä¸­æ–­æœåŠ¡æä¾›è€…ï¼ˆCPUxï¼ŒDMAï¼‰ ä¸ ISP ç›¸å…³çš„ä¸­æ–­è·¯ç”±å™¨å†…éƒ¨ä¸­æ–­æ§åˆ¶å•å…ƒï¼ˆICUxï¼‰ï¼Œä¾‹å¦‚ TOS=0 æ˜ å°„åˆ° ICU0ï¼ŒTOS=1 æ˜ å°„åˆ° ICU1ï¼Œ\u0026hellip; ä¸€ä¸ª ACCEN_SRC_TOSx å†™ä¿æŠ¤å¯„å­˜å™¨ï¼Œä¾‹å¦‚ TOS=0 æ˜ å°„åˆ° ACCEN_SRC_TOS0ï¼Œ\u0026hellip; å¦‚æœ SRN å¯ç”¨ä¸”é…ç½®ä¸ºä¿ç•™ TOS ç¼–ç ï¼ŒHW æˆ– SW è§¦å‘è¯¥ SRN å°†é€šè¿‡è­¦æŠ¥å‘é€åˆ° SMUï¼Œä¸ä¼šæœ‰è¿›ä¸€æ­¥çš„æ“ä½œã€‚\n16.4.1.8 æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§å· (SRPN) SRPN å®šä¹‰äº†æœåŠ¡è¯·æ±‚ç›¸å¯¹äºåŒä¸€æœåŠ¡æä¾›è€…çš„å…¶ä»–è¯·æ±‚æºçš„ä¼˜å…ˆçº§ï¼Œä»¥åŠç›¸å¯¹äºæœåŠ¡æä¾›è€…æœ¬èº«çš„ä¼˜å…ˆçº§ã€‚\nå¯¹äºæ˜ å°„åˆ°ç›¸åŒæœåŠ¡æä¾›è€…ï¼ˆç›¸åŒ TOS é…ç½®ï¼‰çš„æ¯ä¸ªæ´»åŠ¨ SRNï¼š\nå¯ä»¥å…·æœ‰å”¯ä¸€çš„ SRPN å€¼ å¯ä»¥å…·æœ‰éå”¯ä¸€çš„ SRPNï¼Œä»¥èµ‹äºˆä¸€ç»„æœåŠ¡è¯·æ±‚ç›¸åŒçš„ä¼˜å…ˆçº§ å¯¹äºå…·æœ‰ç›¸åŒ SRPN çš„æœåŠ¡è¯·æ±‚ç»„ï¼Œæ‰§è¡Œé¡ºåºæ— æ³•å®šä¹‰ å¦‚æœ SRN æœªæ¿€æ´»ï¼ˆå³ SRE ä½ä¸º 0ï¼‰ï¼Œåˆ™ SRPN é…ç½®æ²¡æœ‰é™åˆ¶ æœåŠ¡æä¾›è€…æ˜¯ CPUï¼š\næœåŠ¡è¯·æ±‚é€šè¿‡ä½äºæ¯ä¸ª CPU çš„ä¸­æ–­å‘é‡è¡¨ä¸æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§å·ç›¸å…³è”ã€‚è¿™æ„å‘³ç€ ** CPU ä¸­æ–­å‘é‡è¡¨æŒ‰ä¼˜å…ˆçº§å·æ’åº** ã€‚è¿™ä¸ä¼ ç»Ÿçš„ä¸­æ–­ CPU æ¶æ„ä¸åŒï¼Œä¼ ç»Ÿæ¶æ„çš„ä¸­æ–­å‘é‡è¡¨æŒ‰ä¸­æ–­æºæ’åºã€‚CPU ä¸­æ–­å‘é‡è¡¨å…è®¸å•ä¸ªå¤–è®¾ä¸ºä¸åŒç›®çš„è®¾ç½®å¤šä¸ªä¼˜å…ˆçº§ã€‚ å¯¹äº CPUï¼ŒSRPN å€¼ 0000H æ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ã€‚SRPN ä¸º 0000H çš„æœåŠ¡è¯·æ±‚å°†è¢« CPU å¿½ç•¥ã€‚CPU ä¸ä¼šç¡®è®¤è¯¥è¯·æ±‚ï¼Œç›¸å…³çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹å°†å› æ­¤ä¸ä¼šè¢«æ¸…é™¤ã€‚ç”±äºä¼˜å…ˆçº§ 0 æ˜¯æœ€ä½çš„æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§ï¼Œå®ƒä¸ä¼šé˜»å¡ä¸­æ–­è·¯ç”±å™¨ä»²è£ã€‚\nTriCore CPU æä¾›çµæ´»çš„ä¸­æ–­è¡¨å¯¹é½ï¼Œå¯é…ç½® 8 å­—èŠ‚æˆ– 32 å­—èŠ‚çš„å‘é‡é—´è·ã€‚å¦è¯·å‚é˜… CPU chapter\næœåŠ¡æä¾›è€…æ˜¯ DMAï¼š\næœåŠ¡è¯·æ±‚é€šè¿‡æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§å·ä¸ DMA é€šé“å·ç›¸å…³è”ï¼š SRPN=x å°†è§¦å‘ DMA é€šé“ xï¼ˆå¦‚æœ DMA é€šé“ x å·²å®ç°ï¼‰ ä»… SRPN å·åœ¨ 0 åˆ°æœ€å¤§é€šé“å·ä¹‹é—´ä¼šè§¦å‘ç›¸å…³çš„ DMA é€šé“ã€‚SRPN å·å¤§äºæœ€å¤§é€šé“å·çš„è¯·æ±‚å°†ä½œä¸ºå…¶ä»–å¾…å¤„ç†æœåŠ¡è¯·æ±‚å¤„ç†ï¼Œä½†ä¸ä¼šè§¦å‘ DMA é€šé“ã€‚ ç¤ºä¾‹ï¼š\nå¯¹äºä¸€ä¸ª 16 é€šé“çš„ DMA æ¨¡å—ï¼ŒSRPN å· 00H å°†è§¦å‘é€šé“ 0ï¼Œ07H å°†è§¦å‘é€šé“ 7ã€‚æ‰€æœ‰ SRPN å¤§äº 0FH çš„è¯·æ±‚å°†ä½œä¸ºå…¶ä»–æœåŠ¡è¯·æ±‚å¤„ç†ï¼Œä½†ä¸ä¼šè§¦å‘é€šé“ã€‚ å¯¹äºä¸€ä¸ª 64 é€šé“çš„ DMA æ¨¡å—ï¼ŒSRPN å· 00H å°†è§¦å‘é€šé“ 0ï¼Œ17H å°†è§¦å‘é€šé“ 23ï¼Œ3FH å°†è§¦å‘é€šé“ 64ã€‚æ‰€æœ‰ SRPN å¤§äº 3FH çš„è¯·æ±‚å°†ä½œä¸ºå…¶ä»–æœåŠ¡è¯·æ±‚å¤„ç†ï¼Œä½†ä¸ä¼šè§¦å‘é€šé“ã€‚ æŸåçš„ SRC é…ç½®ä¼šè§¦å‘ä¸å­˜åœ¨çš„ DMAï¼ˆç”±äº TOSã€SRPN æˆ–SRE æŸåï¼‰ï¼ŒICU EDC æ£€æŸ¥ï¼ˆç¬¬ 16.4.1.9 ç« ï¼‰ä¼šæ£€æµ‹åˆ°è¯¥é…ç½®æŸåçš„æœåŠ¡è¯·æ±‚ï¼Œå¹¶åœ¨ä¸­æ–­æœåŠ¡æä¾›å•†ï¼ˆæ­¤å¤„ä¸ºï¼šDMAï¼‰ç¡®è®¤è¯¥æœåŠ¡è¯·æ±‚åç«‹å³å‘ ICU å‘å‡ºä¿¡å·ã€‚ ç”±äº TOSï¼ŒSRPN æˆ– SRE çš„æŸåè€Œè§¦å‘ä¸å­˜åœ¨çš„ DMA çš„æŸå SRC é…ç½®ï¼Œå°†ç”± ICU EDC æ£€æŸ¥æ£€æµ‹ï¼Œå¹¶åœ¨æœåŠ¡è¯·æ±‚è¢«æœåŠ¡æä¾›è€…ï¼ˆDMAï¼‰ç¡®è®¤åå‘ ICU å‘é€è­¦æŠ¥ã€‚ 16.4.1.9 ECC ç¼–ç  (ECC) SRC.ECC ä½å­—æ®µä¼šåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ç”±æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰æ›´æ–°ï¼š\nå¯¹ SRC[31:0] è¿›è¡Œå†™æ“ä½œæˆ–è¯»-ä¿®æ”¹-å†™æ“ä½œã€‚ å¯¹ SRC[15:0] è¿›è¡Œå†™æ“ä½œï¼ˆ16 ä½å†™å…¥ï¼‰ã€‚ å¯¹ SRC[15:8] æˆ– SRC[7:0] è¿›è¡Œå†™æ“ä½œï¼ˆå­—èŠ‚å†™å…¥ï¼‰ã€‚ åœ¨æ‰§è¡Œ 32 ä½å†™å…¥æˆ–è¯»-ä¿®æ”¹-å†™å…¥æ“ä½œæ—¶ï¼ŒECC ä½å­—æ®µå°†ä½¿ç”¨è®¡ç®—å‡ºçš„ ECC æ›´æ–°ï¼Œå†™å…¥åˆ° ECC ä½å­—æ®µçš„æ•°æ®å°†è¢«å¿½ç•¥ã€‚\nECC ç¼–ç æ¶µç›–ï¼š\nSRC.SRPNï¼ŒSRC.TOSï¼ŒSRC.SRE çš„æ–°å€¼ï¼Œä»¥åŠå†™å…¥çš„ SRN çš„å†…éƒ¨ 10 ä½ç´¢å¼•å·ã€‚ ECC æ²¡æœ‰æ°¸ä¹…æ€§çš„æ£€æŸ¥ã€‚æ¯å½“æŒ‚èµ·çš„æœåŠ¡è¯·æ±‚è¢«é€‰å®šçš„ï¼ˆTOSï¼‰æœåŠ¡æä¾›è€…æ¥å—ä¸ºä¸‹ä¸€ä¸ªå¤„ç†çš„æœåŠ¡è¯·æ±‚æ—¶ï¼ŒECC å°†è¿›è¡Œæ£€æŸ¥ã€‚\nECC é”™è¯¯æ£€æµ‹æœºåˆ¶ï¼š\nECC é”™è¯¯å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ’å…¥ï¼ˆä¿®æ”¹ ECC ä½å­—æ®µï¼‰ï¼š å†™å…¥ SRC[23:16]ï¼ˆå­—èŠ‚å†™å…¥ï¼‰ å†™å…¥ SRC[31:16]ï¼ˆ16 ä½å†™å…¥ï¼‰ åœ¨å½“å‰å®ç°ä¸­ï¼ŒECC ä»£ç ä»…ç”¨äºé”™è¯¯æ£€æµ‹ã€‚æ£€æµ‹åˆ°çš„é”™è¯¯ä¼šæŠ¥å‘Šç»™ SMUï¼Œä½†ä¸ä¼šè¿›è¡Œçº æ­£ã€‚\nECC ä»£ç ï¼š\nç”¨äºä¸­æ–­è·¯ç”±å™¨é”™è¯¯æ£€æµ‹æœºåˆ¶çš„ ECC ä»£ç æ˜¯ Hsiao 22_5 ä»£ç ï¼Œå…·æœ‰åŒé‡é”™è¯¯æ£€æµ‹ï¼ˆDEDï¼‰èƒ½åŠ›ï¼š\n1 2GEN_ENC22_5 : if (word_width_g/(nb_mems_g*ecc_granularity_g)) = 22 and 3(nb_check_bits_g = 5) generate cmr22_5: for i in 0 to nb_check_bits_g - 1 generate 4CODE_MATRIX_ROWS(i) \u0026lt;= code_rows_22_5(i); end generate; end generate; 5 6type rows_22_5_t is array (4 downto 0) of std_ulogic_vector(21 downto 0); constant 7code_rows_22_5 : rows_22_5_t := (\u0026#34;0001001011001011011011\u0026#34;, 8\u0026#34;0010010101010101101101\u0026#34;, \u0026#34;0100100110100110110110\u0026#34;, 9\u0026#34;1000111000111000111111\u0026#34;, \u0026#34;1111000000111111000111\u0026#34; 10); 16.4.1.10 ä¸­æ–­è§¦å‘æº¢å‡ºä½ (IOV) IOV ä½ç”±ç¡¬ä»¶è®¾ç½®ï¼Œå½“ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶éƒ½ä¸ºçœŸæ—¶ï¼š\næœåŠ¡è¯·æ±‚å¤„äºæŒ‚èµ·çŠ¶æ€ã€‚ æ–°çš„æœåŠ¡è¯·æ±‚é€šè¿‡ä¸­æ–­è§¦å‘æˆ– SETR ä½è§¦å‘ã€‚ 16.4.1.11 ä¸­æ–­è§¦å‘æº¢å‡ºæ¸…é™¤ä½ (IOVCLR) ä¸­æ–­è§¦å‘æº¢å‡ºæ¸…é™¤ä½ï¼ˆIOVCLRï¼‰ç”¨äºæ¸…é™¤ IOV ä½ã€‚é€šè¿‡å‘ IOVCLR ä½å†™å…¥ 1ï¼Œå¯ä»¥æ¸…é™¤ IOV ä½ã€‚\n16.4.1.12 è½¯ä»¶ç²˜æ»ä½ (SWS) å½“ SETRï¼ˆè¯·æ±‚è®¾ç½®ä½ï¼‰è¢«å†™å…¥ 1 æ—¶ï¼Œè½¯ä»¶ç²˜æ»ä½ï¼ˆSWSï¼‰å°†è¢«è®¾ç½®ã€‚\n16.4.1.13 è½¯ä»¶ç²˜æ»æ¸…é™¤ä½ (SWSCLR) è½¯ä»¶ç²˜æ»æ¸…é™¤ä½ï¼ˆSWSCLRï¼‰ç”¨äºæ¸…é™¤ SWS ä½ã€‚é€šè¿‡å‘ SWSCLR ä½å†™å…¥ 1ï¼Œå¯ä»¥æ¸…é™¤ SWS ä½ã€‚\n16.5 æ¨¡å—ä¸­æ–­è¯·æ±‚è§¦å‘åˆ°æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) çš„æ˜ å°„ æ‰€æœ‰æ¨¡å—ä¸­æ–­è¯·æ±‚éƒ½æ˜ å°„åˆ°ä¸­æ–­è·¯ç”±å™¨ä¸­çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰ã€‚æ¯ä¸ªæ¨¡å—ä¸­æ–­è¯·æ±‚éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰ã€‚\næ¯ä¸ª SRN åœ¨ä¸­æ–­è·¯ç”±å™¨æ¨¡å—å†…éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ SRN ç´¢å¼•å·ã€‚ç´¢å¼•å·å¹¶ä¸æ˜¯ä¸­æ–­è·¯ç”±å™¨æ¨¡å—æœ¬èº«åŠŸèƒ½æ‰€å¿…é¡»çš„ã€‚ç´¢å¼•å·å¯ä»¥ç”¨äºé€šè¿‡ OTGM åŠŸèƒ½é€‰æ‹©ä¸€ä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹è¿›è¡Œè§‚å¯Ÿã€‚\næœåŠ¡è¯·æ±‚æ§åˆ¶ï¼ˆSRCï¼‰å¯„å­˜å™¨çš„ç´¢å¼•å·å¯ä»¥ç›´æ¥ä»å…¶åœ¨ SRC åœ°å€èŒƒå›´å†…çš„åœ°å€åç§»é‡ä¸­è®¡ç®—å‡ºæ¥ï¼Œè¯¦è§ç¬¬ 16.5.1 ç« ã€‚\nä¸­æ–­è·¯ç”±å™¨æ¨¡å—æœ‰ä¸€ä¸ª 1024 ä¸ªä¸­æ–­è§¦å‘è¾“å…¥å‘é‡ã€‚æ¯ä¸ªä¸­æ–­è§¦å‘è¾“å…¥å‘é‡ä½ [x] ä¸ SRN ç´¢å¼•å· x çš„ä¸€ä¸ª SRN ç›¸å…³è”ã€‚è¿™æ„å‘³ç€åœ¨ä¸­æ–­è§¦å‘è¾“å…¥å‘é‡ä½ [x] ä¸Šçš„è§¦å‘è„‰å†²å°†è§¦å‘ SRN [x]ã€‚\nä¸­æ–­è§¦å‘ä¿¡å·çš„æ­£è¾¹æ²¿è¢«è§£é‡Šä¸ºä¸­æ–­è§¦å‘ã€‚è¯¦è§ç¬¬ 16.5.3 ç« ã€‚\n16.5.1 SRC ç´¢å¼•å· æ¯ä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰éƒ½å¯ä»¥é€šè¿‡å…¶ä¸“ç”¨çš„æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ï¼ˆSRCï¼‰è¿›è¡Œé…ç½®å’Œæ§åˆ¶\nä¸æŸä¸ªæ¨¡å—å®ä¾‹ç›¸å…³çš„ SRC å¯„å­˜å™¨çš„åœ°å€åœ¨æ•´ä¸ª Aurix ç³»åˆ—ä¸­éƒ½æ˜¯ç›¸åŒçš„ï¼ˆä¾‹å¦‚ï¼ŒQSPI0 çš„ä¸­æ–­ï¼‰ã€‚\næ¯ä¸ª SRC åœ¨ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç´¢å¼•å·ã€‚\næœåŠ¡è¯·æ±‚æ§åˆ¶ï¼ˆSRCï¼‰çš„ç´¢å¼•å·å¯ä»¥ç›´æ¥é€šè¿‡å…¶åœ¨ SRC åœ°å€èŒƒå›´å†…çš„åœ°å€åç§»é‡æ¥è®¡ç®—ï¼š\nç´¢å¼•å·(SRC) = \u0026lt;SRC åœ°å€åç§»é‡\u0026gt; / 4 ç¤ºä¾‹ï¼š\nSRC_BCU_SPB çš„åç§»é‡ä¸º 20Hexï¼ˆè§ç¬¬ 16.13 ç« ï¼‰ ç´¢å¼•å·(SRC_BCU_SPB) = 20Hex / 4 = 8 16.5.2 ä¸è°ƒè¯•å¤ä½ç›¸å…³çš„ä¸­æ–­ ä¸ºäº†è½¯ä»¶è°ƒè¯•çš„ç›®çš„ï¼ŒAURIX è®¾å¤‡éœ€è¦ä¸€äº›ä»…ä¸è°ƒè¯•å¤ä½ç›¸å…³çš„æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰ã€‚è¿™äº› SRN åœ¨éè°ƒè¯•å¤ä½ï¼ˆä¾‹å¦‚åº”ç”¨å¤ä½ï¼‰æƒ…å†µä¸‹ä¿æŒå…¶ SRC å¯„å­˜å™¨å†…å®¹å’ŒæŒ‚èµ·çš„æœåŠ¡è¯·æ±‚çŠ¶æ€ã€‚ç»“åˆå…¶ä»–ä¸è°ƒè¯•å¤ä½ç›¸å…³çš„è°ƒè¯•é€»è¾‘ï¼ˆä¾‹å¦‚æ–­ç‚¹é€»è¾‘ï¼‰ï¼Œè¿™å…è®¸ç”¨æˆ·è½¯ä»¶åœ¨åº”ç”¨å¤ä½åè°ƒè¯•å¯¼è‡´åº”ç”¨å¤ä½çš„æƒ…å†µã€‚\n16.5.3 æœåŠ¡è¯·æ±‚è§¦å‘ä¿¡å·çš„æ—¶åºç‰¹æ€§ ä¸­æ–­è·¯ç”±å™¨ç”±ç³»ç»Ÿå¤–å›´æ€»çº¿ï¼ˆSPBï¼‰æ—¶é’Ÿé©±åŠ¨ã€‚å¯¹äºæ¨¡å—ä¸­æ–­/æœåŠ¡è¯·æ±‚è§¦å‘ä¿¡å·åˆ°ä¸­æ–­è·¯ç”±å™¨çš„è§„åˆ™å¦‚ä¸‹ï¼š\nè§¦å‘ä¿¡å·å¿…é¡»ä¸ SPB æ—¶é’ŸåŒæ­¥ ä¸­æ–­è·¯ç”±å™¨çš„è§¦å‘è¾“å…¥æ˜¯è¾¹æ²¿æ•æ„Ÿçš„ï¼ˆå¯¹æ­£æ—¶é’Ÿè¾¹æ²¿æ•æ„Ÿï¼‰ è§¦å‘ä¿¡å·è„‰å†²çš„æœ€å°é«˜ç”µå¹³é•¿åº¦ä¸ºä¸€ä¸ª SPB æ—¶é’Ÿå‘¨æœŸï¼Œé«˜ç”µå¹³è„‰å†²é•¿åº¦å¯ä»¥å¤§äº 1 ä¸ª SPB æ—¶é’Ÿå‘¨æœŸ ä¸è°ƒè¯•ç›¸å…³çš„è§¦å‘ä¿¡å·è„‰å†²åº”ç”±ç›¸å…³æ¨¡å—ä¿æŒé«˜ç”µå¹³ï¼Œç›´åˆ°è§¦å‘è¢«å¤„ç† 16.6 ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU) ä¸­æ–­è·¯ç”±å™¨æ¨¡å—åŒ…æ‹¬æ¯ä¸ªæœåŠ¡æä¾›è€…ï¼ˆå¦‚ CPU å’Œ DMA æ¨¡å—ï¼‰å¯¹åº”çš„ä¸€ä¸ªä¸­æ–­æ§åˆ¶å•å…ƒ (ICU)ï¼Œæ¯ä¸ª ICU ä¸ä¸€ä¸ªæœåŠ¡æä¾›è€…ç›¸å…³è”ã€‚æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) å¯ä»¥é€šè¿‡ SRN çš„ SRCx.TOS å¯„å­˜å™¨ä½å­—æ®µæ˜ å°„åˆ°å…¶ä¸­ä¸€ä¸ª ICUï¼ˆå‚è§å›¾ 173ï¼‰ã€‚\nICU çš„åŠŸèƒ½åŒ…æ‹¬ï¼š\nç®¡ç†æ˜ å°„åˆ° ICU çš„ SRN ä¹‹é—´ç«äº‰çš„æœåŠ¡è¯·æ±‚çš„ä»²è£ã€‚ å‘æœåŠ¡æä¾›è€…æä¾›ä»²è£è½®æ¬¡çš„èƒœåˆ©è€…ã€‚ æ¥æ”¶æ¥è‡ªæœåŠ¡æä¾›è€…çš„ä¿¡æ¯ï¼Œè¡¨æ˜å“ªä¸ªæœåŠ¡è¯·æ±‚è¢«æ¥å—ã€‚ æ£€æŸ¥è¢«æ¥å—çš„æœåŠ¡è¯·æ±‚ä¿¡æ¯ï¼ˆECC æ£€æŸ¥ï¼‰ã€‚ å‘å®‰å…¨ç®¡ç†å•å…ƒ (SMU) å‘å‡ºå®Œæ•´æ€§é”™è¯¯ä¿¡å·ã€‚ ç®¡ç†ç›¸å…³ SRN ä¸­è¢«ç¡®è®¤çš„æœåŠ¡è¯·æ±‚çš„æ¸…é™¤ã€‚ å½“å‰å®ç°ä¸­ï¼ŒECC ä»£ç ä»…ç”¨äºé”™è¯¯æ£€æµ‹ã€‚æ£€æµ‹åˆ°çš„é”™è¯¯ä¼šæŠ¥å‘Šç»™ SMUï¼Œä½†ä¸ä¼šè¢«çº æ­£ã€‚\n16.6.1 ICU ä¸ ISP çš„æ¥å£ ICU å’Œè¿æ¥çš„ ISP ä¹‹é—´çš„æ¥å£ç”±ä¸­æ–­è·¯ç”±å™¨çš„ EDC ä¿æŠ¤è¦†ç›–ã€‚ä¸ºäº†å¢å¼ºæ¥å£çš„ç¨³å¥æ€§ï¼Œåœ¨æ²¡æœ‰æœåŠ¡è¯·æ±‚ä¿¡å·å‘é€ç»™ ISP æˆ– ISP æœªç¡®è®¤æœåŠ¡è¯·æ±‚ç»™ ICU çš„æƒ…å†µä¸‹ï¼ŒICU å’Œ ISP è¾“å‡ºä¼šè¢«è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚\nå½“ VALID ä¿¡å·å‘ç”Ÿå¡ä½åœ¨é«˜ç”µå¹³çš„é”™è¯¯æ—¶ï¼ŒCPU å°†å¿½ç•¥é»˜è®¤ä¿¡æ¯ï¼ˆSRPN=8\u0026rsquo; h00ï¼‰ï¼Œè€Œ DMA å°†è§¦å‘é€šé“å¹¶ç¡®è®¤é»˜è®¤ä¿¡æ¯ç»™ ICUï¼ŒICU ä¼šé€šè¿‡ EDC ä¿æŠ¤æ£€æµ‹åˆ°æ­¤æƒ…å†µå¹¶å‘ SMU å‘é€è­¦æŠ¥ã€‚\nå½“ ACKNOWLEDGE ä¿¡å·å‘ç”Ÿå¡ä½åœ¨é«˜ç”µå¹³çš„é”™è¯¯æ—¶ï¼ŒICU ä¼šé‡‡ç”¨é»˜è®¤å€¼å¹¶æ£€æµ‹åˆ° EDC é”™è¯¯ã€‚\nåªè¦ ICU æœªå‘è¿æ¥çš„ ISP å‘é€æœåŠ¡è¯·æ±‚ï¼ˆVALID=0ï¼‰ï¼ŒICU è¾“å‡ºä¿¡å·å°†è®¾ç½®ä¸ºä»¥ä¸‹é»˜è®¤å€¼ï¼š\nIDX = 10\u0026rsquo;h 000 PIPN/SRPN = 8\u0026rsquo;h 00 ECC = 5\u0026rsquo;h 00 åªè¦ ISP æœªç¡®è®¤æœåŠ¡è¯·æ±‚ç»™ç›¸å…³çš„ ICUï¼ˆACKNOWLEDGE=0ï¼‰ï¼ŒICU è¾“å‡ºä¿¡å·å°†è®¾ç½®ä¸ºä»¥ä¸‹é»˜è®¤å€¼ï¼š\nIDX = 10\u0026rsquo;h 000 PIPN/SRPN = 8\u0026rsquo;h 00 ECC = 5\u0026rsquo;h 00 16.6.2 ICU æ§åˆ¶å¯„å­˜å™¨ æœ¬èŠ‚æè¿°ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU) å¯„å­˜å™¨ã€‚æ¯ä¸ª ICU åŒ…å«ä¸¤ä¸ªæ§åˆ¶å¯„å­˜å™¨ï¼š\nLWSRï¼šæœ€æ–°è·èƒœæœåŠ¡è¯·æ±‚å¯„å­˜å™¨ï¼ˆç¬¬ 16 é¡µï¼‰æä¾›æœ‰å…³ä¸Šä¸€æ¬¡æœåŠ¡è¯·æ±‚ä»²è£è½®æ¬¡çš„è·èƒœè€…çš„ä¿¡æ¯ã€‚ æœ€åç¡®è®¤æœåŠ¡è¯·æ±‚å¯„å­˜å™¨ï¼ˆç¬¬ 17 é¡µï¼‰æä¾›æœ‰å…³è¢«æœåŠ¡æä¾›è€…æ¥å—çš„æœ€åä¸€ä¸ªæœåŠ¡è¯·æ±‚çš„ä¿¡æ¯ã€‚ é”™è¯¯æ•è·å¯„å­˜å™¨ï¼ˆç¬¬ 17 é¡µï¼‰åœ¨ ICU æ£€æµ‹åˆ° ECC é”™è¯¯æ—¶æ•è·æœ€åç¡®è®¤æœåŠ¡è¯·æ±‚å¯„å­˜å™¨çš„å†…å®¹ã€‚ 16.6.2.1 LWSRï¼šæœ€æ–°è·èƒœæœåŠ¡è¯·æ±‚å¯„å­˜å™¨ æœ€æ–°è·èƒœæœåŠ¡è¯·æ±‚å¯„å­˜å™¨ xï¼Œä¸ ICUx ç›¸å…³ã€‚\nè¯¥å¯„å­˜å™¨æä¾›æœ‰å…³ä¸Šä¸€æ¬¡ä»²è£è½®æ¬¡è·èƒœè€…çš„ä¿¡æ¯ã€‚å¯„å­˜å™¨ä½å­—æ®µè¡¨ç¤º ICU å‘ä¸­æ–­æœåŠ¡æä¾›è€…æä¾›çš„å†…å®¹ã€‚\nLWSRx (x=0-7) æœ€æ–°è·èƒœæœåŠ¡è¯·æ±‚å¯„å­˜å™¨ xï¼Œä¸ ICUx ç›¸å…³ (0200H+x*10H)ï¼Œdefaultï¼š0\nLWSR.PN [7:0] : Latest Winner Priority Number\nLWSR.ECC [14:10] : Latest Winner ECC\nLWSR.ID [25:16] : Latest Winner Index Number of SRN\nLWSR.STAT [31] : LWSR Register Statusï¼Œæ˜¯å¦æœ‰æ•ˆ\n16.6.2.2 LASRï¼šæœ€åç¡®è®¤çš„æœåŠ¡è¯·æ±‚å¯„å­˜å™¨ æœ€åç¡®è®¤çš„æœåŠ¡è¯·æ±‚å¯„å­˜å™¨ xï¼Œä¸ ICUx ç›¸å…³ã€‚\næœ€åç¡®è®¤çš„æœåŠ¡è¯·æ±‚å¯„å­˜å™¨æä¾›äº†æœ‰å…³è¢«ä¸­æ–­æœåŠ¡æä¾›è€… (ISP) ç¡®è®¤çš„æœ€åä¸€ä¸ªæœåŠ¡è¯·æ±‚çš„ä¿¡æ¯ã€‚å¯„å­˜å™¨ä½å­—æ®µæ˜¾ç¤ºäº†ä¸­æ–­æœåŠ¡æä¾›è€…ä¸æœ€æ–°ç¡®è®¤ä¸€èµ·å‘é€çš„å†…å®¹ã€‚\nLASRx (x=0-7) æœ€åç¡®è®¤çš„æœåŠ¡è¯·æ±‚å¯„å­˜å™¨ xï¼Œä¸ ICUx ç›¸å…³ (0204H + x*10H)ï¼Œå¤ä½å€¼: 0\nLASR.PN [7:0] : Last Acknowledged Service Request Priority Number\nLASR.ECC [14:10] : Latest Acknowledged Interrupt ECC\nLASR.ID [25:16] : Last Acknowledged Interrupt SRN ID\n16.6.2.3 ECRï¼šé”™è¯¯æ•è·å¯„å­˜å™¨ é”™è¯¯æ•è·å¯„å­˜å™¨ xï¼Œä¸ ICUx ç›¸å…³ã€‚\nåœ¨æ£€æµ‹åˆ° ECC é”™è¯¯æ—¶ï¼Œé”™è¯¯æ•è·å¯„å­˜å™¨ (ECRx) ä¼šæ•è·ç›¸å…³çš„æœåŠ¡è¯·æ±‚ä¿¡æ¯ã€‚è¿™æ˜¯é€šè¿‡åœ¨æ£€æµ‹åˆ° ECC é”™è¯¯æ—¶ï¼Œå°†æœ€åç¡®è®¤çš„æœåŠ¡è¯·æ±‚ (LASRx) å¯„å­˜å™¨çš„å†…å®¹æ›´æ–°åˆ° ECR æ¥å®ç°çš„ã€‚ECR å§‹ç»ˆæ˜¾ç¤ºæ£€æµ‹åˆ° ECC é”™è¯¯æ—¶çš„æœ€åä¸€æ¬¡ ECR å†…å®¹ã€‚\nè½¯ä»¶å¯ä»¥é€šè¿‡å†™å…¥ ECRx æ¥æ¸…é™¤ ECR ä½å­—æ®µä¸­çš„ PNï¼ŒECCï¼ŒIDã€‚é”™è¯¯çŠ¶æ€ (STAT) å’Œé”™è¯¯æº¢å‡º (EOV) ä½å¯ä»¥ç”¨ä½œé”™è¯¯å¤„ç†æœºåˆ¶ï¼Œå¹¶æŒ‡ç¤ºé”™è¯¯ä¿¡æ¯çš„ä¸¢å¤±ã€‚å¦‚æœ ECR.EOV è¢«è½¯ä»¶æ¸…é™¤ï¼Œåˆ™ ECR.EOV å¿…é¡»ä¸ ECR.STAT ä¸€èµ·æ¸…é™¤ã€‚å¦‚æœåœ¨ ECR.EOV æ¸…é™¤çš„åŒæ—¶æ£€æµ‹åˆ°æ–°çš„é”™è¯¯ï¼Œç¡¬ä»¶ä¼šå†æ¬¡è®¾ç½® ECR.EOVï¼Œè€Œ ECR.STAT åˆ™è¢«æ¸…é™¤ã€‚\næ³¨æ„: åœ¨å½“å‰çš„å®ç°ä¸­ï¼ŒECC ä»£ç ä»…ç”¨äºé”™è¯¯æ£€æµ‹ã€‚æ£€æµ‹åˆ°çš„é”™è¯¯ä¼šæŠ¥å‘Šç»™ SMUï¼Œä½†ä¸ä¼šè¢«çº æ­£ã€‚\nECRx (x=0-7)\né”™è¯¯æ•è·å¯„å­˜å™¨ xï¼Œä¸ ICUx ç›¸å…³ (0208H + x*10H)ï¼Œå¤ä½å€¼: 0\nECR.PN [7:0] : Service Request Priority Number\nECR.ECC [14:10] : Service Request ECC\nECR.ID [25:16] : Service Request Node ID\nECR.EOVCLR [28] : Error Overflow Bit\nECR.STATCLR [29] : Error Status Bit\nECR.EOV [30] : Error Overflow Bit\nECR.STAT [31] : Error Status Bitï¼Œé”™è¯¯æ£€æµ‹æ ‡å¿—ä½\n16.7 é€šç”¨æœåŠ¡è¯·æ±‚ï¼ŒæœåŠ¡è¯·æ±‚å¹¿æ’­ INT æ¨¡å—æä¾›äº†å¤šä¸ªé€šç”¨æœåŠ¡è¯·æ±‚ (GPSR) ç»„ï¼Œä»¥åŠé€šè¿‡è½¯ä»¶å¹¶è¡Œè§¦å‘ GPSR ç»„ä¸­å¤šä¸ªæœåŠ¡è¯·æ±‚çš„æœºåˆ¶ï¼ˆè§ 16.7.2 ç« èŠ‚ï¼‰ã€‚\né€šç”¨æœåŠ¡è¯·æ±‚ä¸»è¦ç”¨äºè½¯ä»¶ä¸­æ–­ï¼Œå› ä¸ºå®ƒä»¬å¹¶æœªæ˜ å°„åˆ°ç¡¬ä»¶ä¸­æ–­è§¦å‘äº‹ä»¶\n16.7.1 é€šç”¨æœåŠ¡è¯·æ±‚ (GPSRxy) INT æ¨¡å—æä¾›äº†å¤šä¸ªé€šç”¨æœåŠ¡è¯·æ±‚ç»„ï¼š\næ¯ä¸ªé€šç”¨æœåŠ¡è¯·æ±‚ç»„åŒ…å«å…«ä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN)ã€‚ é€šç”¨æœåŠ¡è¯·æ±‚å‘½åä¸º SRC_GPSRxyã€‚ x = ç»„å·; y= ç»„å†…çš„ä¸­æ–­å·, y=0:7\nGPSR ä¸»è¦ç”¨äºè½¯ä»¶ä¸­æ–­ï¼ˆæœªæ˜ å°„åˆ°ç¡¬ä»¶æœåŠ¡è¯·æ±‚è§¦å‘å™¨ï¼‰ã€‚ GPSR åªèƒ½é€šè¿‡å‘ç›¸å…³çš„ SRC_GPSRxy.SETR ä½å†™å…¥ 1 æˆ–é€šè¿‡å‘ç›¸å…³çš„æœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ SRBx[y] å†™å…¥ 1 æ¥è§¦å‘ã€‚ 16.7.2 æœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ (SRBx) æœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ (SRBx) å¯ç”¨äºå¹¶è¡Œå‘å¤šä¸ªæœåŠ¡æä¾›è€…ï¼ˆCPU æˆ– DMAï¼‰å‘é€æœåŠ¡è¯·æ±‚ã€‚\næ¯ä¸ªé€šç”¨æœåŠ¡è¯·æ±‚ç»„ (GPSRxy) å¯¹åº”ä¸€ä¸ªæœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ (SRBx)ã€‚ SRBx å¯ç”¨äºå¹¶è¡Œè§¦å‘ SRC_GPSRx ç»„å†…çš„å¤šä¸ªæœåŠ¡è¯·æ±‚ã€‚ SRBx æ€»æ˜¯è¯»å–ä¸º 0ã€‚ å‘ SRBx[y] å†™å…¥ 1 è§¦å‘æœåŠ¡è¯·æ±‚ GPXRxyã€‚ å‘ SRBx[31:6] å†™å…¥ 1 æ— æ•ˆã€‚ 16.7.3 SRBx å¯„å­˜å™¨çš„è®¿é—®ä¿æŠ¤ (ACCEN_SRBx) æ¯ä¸ª SRBx å¯„å­˜å™¨é€šè¿‡ä¸“ç”¨çš„ ACCEN_SRx0 / ACCEN_SRBx1 å¯„å­˜å™¨ç»„è¿›è¡Œå†™ä¿æŠ¤ï¼š\næ¯ä¸ª SRBx å¯„å­˜å™¨éƒ½æœ‰ä¸€ä¸ªç›¸å…³çš„ ACCEN_SRBx å¯„å­˜å™¨ã€‚ ACCEN_SRBx çš„é…ç½®å®šä¹‰äº†å“ªä¸ª TAG ID å¯ä»¥å†™å…¥ç›¸å…³çš„ SRBx å¯„å­˜å™¨ã€‚ å¦‚æœå‘ç”Ÿè®¿é—®ä¿æŠ¤è¿è§„ï¼Œå†™æ“ä½œå°†è¢«é™é»˜å¿½ç•¥ï¼Œå¹¶å‘ SMU æŠ¥å‘Šé”™è¯¯ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œä¸ä¼šç”Ÿæˆå…¶ä»–é”™è¯¯ã€ä¸­æ–­æˆ–é™·é˜±ã€‚ 16.8 ç³»ç»Ÿå¯„å­˜å™¨ ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸æ”¯æŒ CLC, OCS å’Œ KRSTx å¯„å­˜å™¨ã€‚ä¸­æ–­è·¯ç”±å™¨æ”¯æŒå¤šç»„è®¿é—®å¯ç”¨ (ACCEN) å¯„å­˜å™¨ï¼š\nINT_ACCENxï¼šå¯„å­˜å™¨è®¿é—®ä¿æŠ¤é€šè¿‡æ ‡å‡† ACCEN å¯„å­˜å™¨å®ç°ï¼Œä½†åŒ…æ‹¬ ACCEN_CONFIG0/1ã€ACCEN_SRBx0/1 å’Œ ACCEN_SRC_TOSx0/1ã€‚ INT_CLCï¼šä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸æ”¯æŒæ—¶é’Ÿæ§åˆ¶ (CLC) åŠŸèƒ½ã€‚ INT_KRSTxï¼šä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸æ”¯æŒæ¨¡å—å†…æ ¸é‡ç½®åŠŸèƒ½ã€‚ OCSï¼šä¸­æ–­è·¯ç”±å™¨ä¸æ”¯æŒ OCDS æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨ã€‚ 16.8.1 ä¸­æ–­è·¯ç”±å™¨å¯„å­˜å™¨çš„å†™ä¿æŠ¤ ä¸­æ–­è·¯ç”±å™¨æ¨¡å—æä¾›åŸºäºä¸» TAG ID çš„å†™è®¿é—®ä¿æŠ¤ï¼Œä½œä¸º AURIX å®‰å…¨æ¦‚å¿µçš„ä¸€éƒ¨åˆ†ã€‚æ¯ä¸ªå…·æœ‰ç›´æ¥æˆ–é—´æ¥æ€»çº¿ä¸»æ§èƒ½åŠ›çš„ç‰‡ä¸Šèµ„æºéƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ä¸» TAG IDï¼Œå¯ç”¨äºæ ‡è¯†ç‰‡ä¸Šæ€»çº¿äº‹åŠ¡çš„ä¸»æ§ã€‚\nä¸­æ–­è·¯ç”±å™¨æ¨¡å—é€šè¿‡ä¸‰ä¸ªè®¿é—®å¯ç”¨å¯„å­˜å™¨/å¯„å­˜å™¨ç»„æä¾›æ§åˆ¶å¯„å­˜å™¨çš„å†™ä¿æŠ¤ï¼š\næœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨çš„è®¿é—®ä¿æŠ¤ (ACCEN_SRBx0/1)ï¼š ä¸­æ–­è·¯ç”±å™¨æ¨¡å—æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªé€šç”¨æœåŠ¡è¯·æ±‚ç»„ (GPSRx)ã€‚ æ¯ä¸ª GPSRx ç»„éƒ½æœ‰ä¸€ä¸ªä¸“ç”¨çš„æœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ (SRBx)ï¼Œå¯ç”¨äºå¹¶è¡Œè®¾ç½®ç»„ä¸­çš„å¤šä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ã€‚ é™æ€æ§åˆ¶å¯„å­˜å™¨çš„è®¿é—®ä¿æŠ¤ (ACCEN_CONFIG0/1)ï¼š ACCEN_CONFIG æä¾›å¯¹ä»¥ä¸‹å¯„å­˜å™¨çš„å†™è®¿é—®ä¿æŠ¤ï¼š æ‰€æœ‰ SRC å¯„å­˜å™¨çš„ä½ 15 ä½ (SRCx[15:0])ï¼ŒåŒ…æ‹¬ TOSã€SRE å’Œ SRPN ä½å­—æ®µã€‚ æ‰€æœ‰ ICU é”™è¯¯æ•è·å¯„å­˜å™¨ (ECRx)ã€‚ SRC æ§åˆ¶å¯„å­˜å™¨çš„è®¿é—®ä¿æŠ¤ (ACCEN_SRC_TOSy)ï¼š ACCEN_SRC_TOSy æä¾›å¯¹ SRCx[31:16] çš„å†™è®¿é—®ä¿æŠ¤ã€‚ 16.8.2 å†…æ ¸å¤ä½å¯„å­˜å™¨ (KRST1/0, KRSTCLR) INT æ¨¡å—ä¸åŒ…æ‹¬å†…æ ¸å¤ä½å¯„å­˜å™¨ (KRST1, KRST0, KRSTCLR)ã€‚\næ³¨æ„ï¼š ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸æ”¯æŒæ¨¡å—å†…æ ¸å¤ä½ã€‚\n16.8.3 æ—¶é’Ÿæ§åˆ¶å¯„å­˜å™¨ (CLC) INT æ¨¡å—ä¸åŒ…æ‹¬æ¨¡å—æ—¶é’Ÿæ§åˆ¶ (CLC)ã€‚\næ³¨æ„ï¼š ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸æ”¯æŒæ—¶é’Ÿæ§åˆ¶å¯„å­˜å™¨åŠŸèƒ½ï¼Œè¿™æ„å‘³ç€ä¸èƒ½é€šè¿‡ CLC å¯„å­˜å™¨ç¦ç”¨ä¸­æ–­è·¯ç”±å™¨æ¨¡å—çš„æ—¶é’Ÿã€‚\n16.8.4 OCDS æ§åˆ¶å’ŒçŠ¶æ€å¯„å­˜å™¨ (OCS) INT æ¨¡å—ä¸åŒ…æ‹¬ OCDS æ§åˆ¶å’ŒçŠ¶æ€ (OCS) å¯„å­˜å™¨ã€‚\næ³¨æ„ï¼š ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸æ”¯æŒ OCS å¯„å­˜å™¨åŠŸèƒ½ã€‚\n16.9 ä»²è£è¿‡ç¨‹ åœ¨ä¸­æ–­æ¨¡å—ä¸­ï¼Œæ¯ä¸ª ICU éƒ½æœ‰å…¶è‡ªå·±çš„ä¸­æ–­æ€»çº¿ã€‚æ¯ä¸ªæœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) éƒ½å¯ä»¥é€šè¿‡å°† SRC.TOS ä½å­—æ®µè®¾ç½®æ˜ å°„åˆ°ç›¸å…³çš„ ICU / ä¸­æ–­æ€»çº¿ï¼Œå°†å…¶å®šå‘åˆ°ä¸€ä¸ªæœåŠ¡æä¾›è€…ã€‚\nå½“æœ‰ç¬¬ä¸€ä¸ªå¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚æ—¶ï¼Œç›¸å…³çš„ä¸­æ–­æ€»çº¿å°†å¼€å§‹ç¬¬ä¸€æ¬¡ä»²è£è¿‡ç¨‹ã€‚ç›¸å…³çš„ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU) å°†æä¾›åœ¨ä¸Šä¸€æ¬¡ä»²è£è¿‡ç¨‹ä¸­è·èƒœçš„æœåŠ¡è¯·æ±‚ã€‚\nä»²è£è¿‡ç¨‹ä½¿ç”¨ 3-4 ä¸ªç³»ç»Ÿå¤–å›´æ€»çº¿ (SPB) æ—¶é’Ÿå‘¨æœŸæ¥ç¡®å®šå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ç¼–å· (SRPN) çš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚ã€‚ç¡®åˆ‡çš„å®ç°æ–¹å¼åœ¨æ¨¡å—å®ç°ç« èŠ‚ä¸­æœ‰æ‰€æè¿°ã€‚\nåœ¨ä»²è£è¿‡ç¨‹ä¸­ï¼Œä¸­æ–­æ€»çº¿ä¼šæ¯”è¾ƒæ‰€æœ‰æ˜ å°„åˆ°è¯¥ä¸­æ–­æ€»çº¿çš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) çš„ SRC.SRPN ä½å­—æ®µã€‚ä»²è£è¿‡ç¨‹ä¸­ï¼Œå…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ç¼–å·çš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚è¢«ç¡®å®šä¸ºè·èƒœè€…ï¼Œå¹¶å°†ç›¸å…³çš„ SRN æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ä½å­—æ®µå€¼ (SRPN, ECC å’Œ SRN çš„ç´¢å¼•) æä¾›ç»™ ICUã€‚ ICU å°†è¿™äº›ä¿¡æ¯ (SRPN, ECC, SRN ç´¢å¼•) æä¾›ç»™æœåŠ¡æä¾›è€…ã€‚å½“æœåŠ¡æä¾›è€…è¿”å›ç¡®è®¤ä¿¡æ¯æ—¶ï¼ŒICU å°†è¿›è¡Œ ECC æ ¡éªŒã€‚ECC æ ¡éªŒä½¿ç”¨æ¥æ”¶åˆ°çš„å€¼ï¼šECC, SRPN, SRN ç´¢å¼•å·ï¼Œå‡å®šä¸º 1 çš„ SRE ä½ (SRN å¯ç”¨) ä»¥åŠ ICU çš„ TOS ç¼–å·ã€‚\nä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¼šå°†æ£€æµ‹åˆ°çš„é”™è¯¯ä¿¡å·å‘é€åˆ°å®‰å…¨ç®¡ç†å•å…ƒ (SMU)ï¼ˆSMU ä¸­çš„ä¸€ä½ï¼Œæ¶µç›–æ‰€æœ‰ SRN å’Œ ICU çš„é”™è¯¯ï¼‰ã€‚\nå½“å‰å®ç°ä¸­ï¼ŒECC ä»£ç ä»…ç”¨äºé”™è¯¯æ£€æµ‹ï¼Œæ£€æµ‹åˆ°çš„é”™è¯¯ä¼šæŠ¥å‘Šç»™ SMUï¼Œä½†ä¸ä¼šè¿›è¡Œçº æ­£ã€‚\n16.9.1 æ¯ä¸ªä»²è£è¿‡ç¨‹çš„æ—¶é’Ÿå‘¨æœŸæ•° ä¸­æ–­è·¯ç”±å™¨çš„å®ç°å¯ä»¥æ ¹æ®ä»¥ä¸‹æ–¹é¢è¿›è¡Œé…ç½®ï¼š\næ”¯æŒçš„æœåŠ¡è¯·æ±‚æ•°é‡ (Service Request Nodes, SRNï¼Œæœ€å¤šå¯è¾¾ 1024) SRPN ä½å¤§å° (8 ä½) æ”¯æŒçš„æœåŠ¡æä¾›è€…æ•°é‡ (ä¸­æ–­æ§åˆ¶å•å…ƒï¼ŒICU) æ¯ä¸ªæœåŠ¡è¯·æ±‚ä»²è£çš„æ—¶é’Ÿå‘¨æœŸæ•° (3-4 ä¸ª SPB æ—¶é’Ÿå‘¨æœŸ) åœ¨ AURIX äº§å“ä¸­å®ç°çš„ä¸­æ–­è·¯ç”±å™¨æ¨¡å—çš„ç‰¹æ€§åœ¨æ¨¡å—å®ç°å­ç« èŠ‚ä¸­æœ‰æ‰€æè¿°ã€‚\nç¬¬178å›¾æ˜¾ç¤ºäº†ä¸€ä¸ªä¸­æ–­è·¯ç”±å™¨åœ¨3å‘¨æœŸä»²è£è¿‡ç¨‹ä¸­çš„ä¸­æ–­æ—¶åºã€‚\nCycle 1: ICUæ²¡æœ‰å¾…å¤„ç†çš„æœåŠ¡è¯·æ±‚ï¼ˆå› æ­¤æ²¡æœ‰ä»²è£è½®æ¬¡ï¼‰ã€‚\nCycle 2: ä¸€ä¸ªæ¨¡å—é€šè¿‡å‘ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸­çš„ç›¸å…³æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ï¼ˆSRNï¼‰å‘é€ä¸€ä¸ªè„‰å†²æ¥è§¦å‘ä¸€ä¸ªæœåŠ¡è¯·æ±‚ã€‚\nCycle 3-5: åœ¨æ‰€æœ‰å‘é€ç»™ICUçš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚ä¹‹é—´è¿›è¡Œä»²è£ï¼Œæ¯”è¾ƒæ‰€æœ‰å¾…å¤„ç†è¯·æ±‚çš„æœåŠ¡è¯·æ±‚ä¼˜å…ˆçº§ç¼–å·ï¼ˆSRPNï¼‰ï¼Œå¹¶ç¡®å®šæœ€é«˜ä¼˜å…ˆçº§çš„è¯·æ±‚ä¸ºè·èƒœè¯·æ±‚ã€‚\nCycle 6: ICUå°†è·èƒœçš„æœåŠ¡è¯·æ±‚æä¾›ç»™æœåŠ¡æä¾›è€…ï¼ŒåŒ…æ‹¬SRPNï¼ŒECCå’ŒSRNç´¢å¼•ã€‚\nCycle 7 \u0026ndash; n-1: ICUé‡æ–°ä»²è£ï¼Œå½“æœ‰å¦ä¸€ä¸ªSRNçš„æ–°æœåŠ¡è¯·æ±‚æŒ‚èµ·æ—¶ï¼Œå¦‚æœè¯¥æ–°è¯·æ±‚å…·æœ‰æ›´é«˜çš„SRPNï¼ˆæ›´é«˜ä¼˜å…ˆçº§ï¼‰ï¼Œåˆ™æä¾›æ–°çš„è·èƒœæœåŠ¡è¯·æ±‚ç»™ICUã€‚\nCycle 6 \u0026ndash; n-1: ä¸­æ–­æœåŠ¡æä¾›è€…æ¥æ”¶æœ€æ–°çš„è·èƒœSRNçš„ä¿¡æ¯ï¼ˆEnterï¼‰ã€‚\nCycle n: æœåŠ¡æä¾›è€…ç¡®è®¤æœåŠ¡è¯·æ±‚ï¼Œæä¾›å·²ç¡®è®¤çš„æœåŠ¡è¯·æ±‚çš„SRPNã€ECCã€SRNç´¢å¼•ä¿¡æ¯ã€‚åŒæ—¶ï¼ŒICUåœ¨åŒä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å°†ä¿¡å·æ›´æ”¹ä¸ºâ€œæ— æœ‰æ•ˆæœåŠ¡è¯·æ±‚â€ã€‚\nCycle n+1: ICUå¯¹ç¡®è®¤ä¿¡æ¯è¿›è¡ŒECCæ£€æŸ¥ï¼ŒåŒ…æ‹¬SRPNï¼ŒECCï¼ŒSRNç´¢å¼•ã€SRE=â€˜1â€™ï¼ˆSRNå·²å¯ç”¨ï¼‰ã€ICUçš„TOSç¼–å·ã€‚å¦‚æœå‡ºç°ä¸åŒ¹é…ï¼Œåˆ™å‘SMUæŠ¥å‘Šå®Œæ•´æ€§é”™è¯¯ï¼ŒSRPNã€ECCå’Œç´¢å¼•ä¼šè¢«æ•è·åˆ°ECRä¸­ã€‚ç¡¬ä»¶å°†æ¸…é™¤å·²ç¡®è®¤çš„SRNç´¢å¼•å·çš„æœåŠ¡è¯·æ±‚ã€‚\nCycle n+2: å¦‚æœICUä¸­è‡³å°‘æœ‰ä¸€ä¸ªæœåŠ¡è¯·æ±‚å¾…å¤„ç†ï¼Œåˆ™åœ¨æ‰€æœ‰å¾…å¤„ç†æœåŠ¡è¯·æ±‚ä¹‹é—´è¿›è¡Œæ–°çš„ä»²è£ã€‚\n16.9.2 æœåŠ¡è¯·æ±‚æœ‰æ•ˆæ€§ (Service Request Valid) ICU é€šè¿‡æ–­è¨€ Valid ä¿¡å·å‘ ISP æä¾›ä»²è£è·èƒœçš„å¾…å¤„ç†æœåŠ¡è¯·æ±‚çš„ä¿¡æ¯ã€‚åœ¨ ISP æ–­è¨€ Enter ä¿¡å·ä¹‹å‰ï¼Œå°†ç»§ç»­é‡æ–°ä»²è£ã€‚\n16.9.3 æœåŠ¡è¯·æ±‚è¿›å…¥ (Service Request Enter) å½“ä¸­æ–­æœåŠ¡æä¾›è€… (ISP) æ¥æ”¶åˆ°æœåŠ¡è¯·æ±‚çš„æœ‰æ•ˆä¿¡æ¯åï¼Œå‘ ICU å‘é€ Enter ä¿¡å·ï¼Œè¡¨ç¤ºå®ƒå·²å¼€å§‹å‡†å¤‡æ‰§è¡Œç›¸å…³çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ (ISR)ã€‚ISP å¯ä»¥é€šè¿‡ Acknowledge ä¿¡å·ï¼ˆè¡¨ç¤ºä¸­æ–­æœåŠ¡ä¾‹ç¨‹å·²ç»å¼€å§‹æ‰§è¡Œï¼ŒICU å°†æ¸…é™¤ç›¸å…³çš„ SRNï¼‰æˆ–åœ¨æ²¡æœ‰ Acknowledge ä¿¡å·çš„æƒ…å†µä¸‹é‡ç½® Enter ä¿¡å·ï¼ˆä¾‹å¦‚ï¼Œå½“ CPU åœ¨èƒ½å¤Ÿå¼€å§‹ ISR ä¹‹å‰é™·å…¥é™·é˜±æˆ–å¼‚å¸¸æ—¶ï¼ŒICU å°†ä¸ä¼šæ¸…é™¤ç›¸å…³çš„ SRNï¼‰ã€‚\n16.9.4 æœåŠ¡è¯·æ±‚ç¡®è®¤ (Service Request Acknowledge) å½“æœåŠ¡æä¾›è€…å¼€å§‹æ‰§è¡Œ ICU æä¾›çš„æœåŠ¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡æä¾›è€…ä¼šå‘ ICU å‘é€ç¡®è®¤ä¿¡å· (Acknowledge)ã€‚åŒæ—¶ï¼ŒæœåŠ¡æä¾›è€…ä¼šå°†å·²æ‰§è¡Œçš„æœåŠ¡è¯·æ±‚çš„ä¿¡æ¯ (SRPN, ECC, SRN ç´¢å¼•å·) å‘é€å› ICUã€‚åœ¨åŒä¸€æ—¶é’Ÿå‘¨æœŸå†…ï¼ŒæœåŠ¡æä¾›è€…å‘é€ç¡®è®¤ä¿¡å·ï¼ŒICU å°†çŠ¶æ€æ›´æ”¹ä¸ºâ€œæ²¡æœ‰å¯ç”¨çš„æœåŠ¡è¯·æ±‚â€ï¼šICU ä¸ä¼šå†å‘æœåŠ¡æä¾›è€…æä¾›ä»²è£è·èƒœè€…ã€‚ICU çš„è¿™ç§è¡Œä¸ºç¡®ä¿åœ¨ SRN è¢«é‡ç½®ä¹‹å‰ï¼Œå·²ç¡®è®¤çš„æœåŠ¡è¯·æ±‚ä¸ä¼šå†æ¬¡è¢«æä¾›ï¼ˆå‚è§å›¾ 178ï¼‰ã€‚\n16.9.5 å¤„ç†æ£€æµ‹åˆ°çš„ ECC é”™è¯¯ ICU ä¼šå¯¹å…¶ä»æœåŠ¡æä¾›è€…æ¥æ”¶åˆ°çš„ç¡®è®¤ä¿¡æ¯ (TOS, SRPN, Index å’Œ ECC) ä»¥åŠ ICU æœ¬èº«çš„ TOS ç¼–å·è¿›è¡Œé”™è¯¯æ£€æµ‹æ ¡éªŒã€‚SRE ä½å‡å®šä¸º 1ï¼ˆSRN å·²å¯ç”¨ï¼‰ã€‚SRN ä¸­çš„ ECC è¦†ç›–äº† SRC ä½å­—æ®µçš„å€¼ï¼šSRC.SRPN, SRC.SRN ç´¢å¼•, SRC.SRE å’Œ SRC.TOSï¼ˆå‚è§å›¾ 178ï¼‰ã€‚\nåœ¨å½“å‰å®ç°ä¸­ï¼ŒECC ä»£ç ä»…ç”¨äºé”™è¯¯æ£€æµ‹ï¼Œæ£€æµ‹åˆ°çš„é”™è¯¯ä¼šæŠ¥å‘Šç»™ SMUï¼Œä½†ä¸ä¼šè¿›è¡Œçº æ­£ã€‚\nå¦‚æœ ICU æ£€æµ‹åˆ° ECC é”™è¯¯ï¼š\nICU ä¼šåœ¨é”™è¯¯æ•è·å¯„å­˜å™¨ (ECRx) ä¸­æ•è·æ˜¾ç¤º ECC é”™è¯¯çš„ ECC, SRPN å’Œç´¢å¼•ï¼Œè®¾ç½® ECRx.STAT ä½ï¼Œå¹¶åœ¨ STAT ä½ä»ç„¶è®¾ç½®æ—¶è®¾ç½® ECRx.EOV ä½ã€‚ ICU é€šè¿‡ä¸­æ–­è·¯ç”±å™¨é”™è¯¯ä¿¡å·å‘ AURIX TM TC3xx å¹³å°å®‰å…¨ç®¡ç†å•å…ƒ (SMU) å‘å‡ºé”™è¯¯ä¿¡å·ã€‚SMU å°†æ­¤ä¿¡æ¯è½¬å‘ç»™ CPUï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚ ICU æ¸…é™¤ SRN ä¸­çš„æœåŠ¡è¯·æ±‚ï¼ˆç”±ç´¢å¼•é€‰æ‹©ï¼‰ã€‚ æ”¶åˆ°â€œä¸­æ–­è·¯ç”±å™¨ä¸­æ£€æµ‹åˆ° ECC é”™è¯¯â€ä¿¡æ¯çš„ CPU å¯ä»¥é€šè¿‡é”™è¯¯çŠ¶æ€ä½ (ECRx.STAT= 1) è¯†åˆ« ICUï¼Œè¯»å–ç›¸å…³æœåŠ¡è¯·æ±‚ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å†™å…¥ 1 æ¸…é™¤ ECRx.STAT ä½ã€‚CPU è¿˜å¯ä»¥é€šè¿‡é”™è¯¯æº¢å‡ºä½ (ECRx.EOV= 1) ç¡®å®šæ˜¯å¦æ£€æµ‹åˆ°ä¸€ä¸ªæˆ–å¤šä¸ª ECC é”™è¯¯ã€‚ 16.10 ä¸­æ–­ç³»ç»Ÿçš„ä½¿ç”¨ ä»¥ä¸‹éƒ¨åˆ†ç®€è¦ä»‹ç»äº†æœåŠ¡æä¾›è€…ä¸ä¸­æ–­è·¯ç”±å™¨ ICU çš„æ¥å£ã€‚\nä¸­æ–­è·¯ç”±å™¨ä¸­çš„æ‰€æœ‰ ICU å­æ¨¡å—å…·æœ‰ç›¸åŒçš„åŠŸèƒ½ã€‚\n16.10.1 CPU åˆ° ICU æ¥å£ ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸ºæ¯ä¸ª CPU å’Œ DMA æ¨¡å—æä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU)ã€‚CPU ICU æ¥å£ç”±ä¸€ç»„å¯„å­˜å™¨ç»„æˆï¼ŒCPU åœ¨å…¶ä¸­æ¥æ”¶ ICU æä¾›çš„æœåŠ¡è¯·æ±‚ä¿¡æ¯ï¼ˆSRPN, SRN ç´¢å¼•, ECCï¼‰ã€‚å½“ CPU ç¡®è®¤æœåŠ¡è¯·æ±‚æ—¶ï¼Œè¿™äº›ä¿¡æ¯å°†è¢«å‘é€å› ICUï¼ˆå‚è§ 16.4.1.8 ç« èŠ‚ï¼‰ã€‚\nCPU ICU æ¥å£åŒ…å«ä¸€ä¸ªä¸­æ–­æ§åˆ¶å¯„å­˜å™¨ (ICR)ï¼Œè¯¥å¯„å­˜å™¨åŒ…å«å½“å‰ CPU ä¼˜å…ˆçº§ç¼–å· (CCPN)ã€å…¨å±€ä¸­æ–­å¯ç”¨/ç¦ç”¨ä½ (IE) å’ŒæŒ‚èµ·ä¸­æ–­ä¼˜å…ˆçº§ç¼–å· (PIPN)ã€‚CPU ICU æ¥å£çš„è¿›ä¸€æ­¥ç»†èŠ‚ä»¥åŠ CPU å¤„ç†ä¸­æ–­çš„æ–¹å¼å¯ä»¥åœ¨ CPU ç« èŠ‚ä¸­æ‰¾åˆ°ã€‚\n16.10.2 DMA åˆ° ICU æ¥å£ ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ä¸ºæ¯ä¸ª DMA æ¨¡å—æä¾›äº†ä¸“ç”¨çš„ä¸­æ–­æ§åˆ¶å•å…ƒ (ICU)ã€‚DMA æ¥ç®¡æ¥è‡ª ICU çš„æœåŠ¡è¯·æ±‚ä¿¡æ¯ï¼Œè§¦å‘ç›¸å…³çš„ DMA é€šé“ï¼Œå¹¶ç«‹å³å‘ ICU ç¡®è®¤ï¼Œéšåç›¸å…³çš„ SRN è¢«æ¸…é™¤ã€‚\nDMA åˆ° ICU æ¥å£ç”±ä¸€ç»„å¯„å­˜å™¨ç»„æˆï¼Œå…¶ä¸­å®ƒæ¥ç®¡ ICU æä¾›çš„æœåŠ¡è¯·æ±‚ä¿¡æ¯ï¼ˆSRPN, SRN ç´¢å¼•, ECCï¼‰ã€‚DMA åœ¨ä¸‹ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å‘ ICU å‘é€ç¡®è®¤ï¼ˆå‚è§ 16.4.1.8 ç« èŠ‚ï¼‰ã€‚\nDMA é€šé“çš„ä¼˜å…ˆçº§æ–¹æ¡ˆä¸ SRPN ä¼˜å…ˆçº§æ–¹æ¡ˆç›¸åŒï¼š\nDMA å†…çš„æœ€ä½ä¼˜å…ˆçº§ï¼šé€šé“ 0 æœ€ä½ä¼˜å…ˆçº§ï¼šSRPN = 0 16.10.3 è½¯ä»¶è§¦å‘çš„ä¸­æ–­ (Software-Initiated Interrupts) ä»»ä½•æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRN) éƒ½å¯ä»¥ç”¨ä½œè½¯ä»¶ä¸­æ–­ã€‚è½¯ä»¶å¯ä»¥é€šè¿‡å†™å…¥æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ (SRC) ä¸­çš„æœåŠ¡è¯·æ±‚ä½ (SRR)ï¼Œåœ¨ä»»ä½• SRN ä¸­è®¾ç½®æœåŠ¡è¯·æ±‚ä½ï¼Œä»è€Œè§¦å‘æœåŠ¡è¯·æ±‚ã€‚è¿™äº›æœåŠ¡è¯·æ±‚å°†é€šè¿‡ä¸ç¡¬ä»¶è§¦å‘çš„æœåŠ¡è¯·æ±‚ç›¸åŒçš„æœºåˆ¶å¤„ç†ã€‚ä¸€æ—¦åœ¨ SRN ä¸­è®¾ç½®äº† SRR ä½ï¼Œè½¯ä»¶è§¦å‘çš„æœåŠ¡è¯·æ±‚å’Œç¡¬ä»¶è§¦å‘çš„æœåŠ¡è¯·æ±‚å°†æ— æ³•åŒºåˆ†ã€‚å› æ­¤ï¼Œè½¯ä»¶åº”è¯¥ä»…ä½¿ç”¨æœªç”¨äºç¡¬ä»¶è§¦å‘æœåŠ¡è¯·æ±‚çš„ SRNs å’Œä¸­æ–­ä¼˜å…ˆçº§ç¼–å·ã€‚\nè®¾å¤‡ä¸ºæ¯ä¸ª TriCore CPU æä¾›äº†ä¸€ç»„é€šç”¨æœåŠ¡è¯·æ±‚ SRNsï¼Œæ¯ä¸ªç»„åŒ…æ‹¬ 8 ä¸ª SRNsï¼Œè¿™äº› SRNs ä¸è¿æ¥åˆ°å†…éƒ¨æˆ–å¤–éƒ¨çš„ç¡¬ä»¶è§¦å‘ä¿¡å·ï¼Œå› æ­¤åªèƒ½ç”¨ä½œè½¯ä»¶ä¸­æ–­æˆ–è½¯ä»¶è§¦å‘çš„æœåŠ¡è¯·æ±‚ã€‚è¿™äº› SRNs è¢«ç§°ä¸ºé€šç”¨æœåŠ¡è¯·æ±‚èŠ‚ç‚¹ (SRC_GPSRxy, x=ç»„å·, y=0-7)ã€‚\næ­¤å¤–ï¼Œä»»ä½•æœªä½¿ç”¨çš„ SRN ä¹Ÿå¯ä»¥ç”¨äºç”Ÿæˆè½¯ä»¶ä¸­æ–­ã€‚\n16.10.4 å¤–éƒ¨ä¸­æ–­ (External Interrupts) æœ‰ 8 ä¸ª SRNs (Int_SCUSRC[7:0]) ä¿ç•™ç”¨äºå¤„ç†å¤–éƒ¨ä¸­æ–­ã€‚å¤–éƒ¨ GPIO ç«¯å£è¾“å…¥ä¿¡å·ï¼ˆä¾‹å¦‚è¾¹æ²¿è§¦å‘æˆ–ç”µå¹³è§¦å‘ï¼‰çš„è®¾ç½®ï¼ŒåŒ…æ‹¬ä¸­æ–­è¯·æ±‚çš„è§¦å‘æ–¹å¼ï¼Œå—å¤–éƒ¨è¯·æ±‚å•å…ƒ (ERU) æ§åˆ¶ã€‚ERU çš„åŠŸèƒ½åœ¨ SCU ç« èŠ‚ä¸­æœ‰è¯¦ç»†æè¿°ã€‚\n16.11 ä½¿ç”¨æ¡ˆä¾‹ (Use Case Examples) æœ¬èŠ‚å±•ç¤ºäº†ä¸­æ–­ç³»ç»Ÿçš„ä½¿ç”¨æ¡ˆä¾‹å’Œ OTGS çš„ä½¿ç”¨æ¡ˆä¾‹ã€‚\n16.11.1 ä¸­æ–­å¤„ç†ç¨‹åºçš„ä½¿ç”¨æ¡ˆä¾‹ (Use Case Example Interrupt Handler) æœ¬èŠ‚è§£é‡Šäº†å¦‚ä½•ç»„ç»‡ TriCore ä¸­æ–­å‘é‡è¡¨ã€‚å½“ TriCore æ¥å—ä¸­æ–­æ—¶ï¼Œä¸­æ–­å‘é‡è¡¨çš„å…¥å£åœ°å€ç”± TriCore å¯„å­˜å™¨ BIVï¼ˆåŸºä¸­æ–­å‘é‡è¡¨æŒ‡é’ˆï¼‰å’Œè¯¥ä¸­æ–­çš„ä¼˜å…ˆçº§ç¼–å· (PIPN) è®¡ç®—å¾—å‡ºã€‚TriCore TC1.6P å’Œ TC1.6E æ¶æ„æä¾›äº†é…ç½®å‘é‡è¡¨æ¡ç›®é—´è·çš„å¯èƒ½æ€§ï¼Œå¯ä»¥è®¾ç½®ä¸º 32 å­—èŠ‚ï¼ˆå‚è§ä¸‹å›¾ aï¼ˆå›¾ 179ï¼‰ï¼‰æˆ– 8 å­—èŠ‚ï¼ˆå‚è§ä¸‹å›¾ bï¼ˆå›¾ 179ï¼‰ï¼‰ã€‚ç¬¬ä¸‰ç§é€‰æ‹©æ˜¯é€šè¿‡å±è”½ PIPN å°†å‘é‡è¡¨ç¼©å‡ä¸ºå•ä¸ªæ¡ç›®ï¼ˆå‚è§ä¸‹å›¾ cï¼ˆå›¾ 179ï¼‰ï¼‰ã€‚\nc): å•å…¥å£åœ°å€ï¼Œè½¯ä»¶åŒºåˆ†ä¸­æ–­handler\né€šè¿‡ä½¿ç”¨32å­—èŠ‚é…ç½®ï¼Œå°å‹ä¸­æ–­ç¨‹åºå¯ä»¥ç›´æ¥åœ¨å‘é‡è¡¨ä¸­å®ç°ã€‚å®ƒä»¬ç”šè‡³å¯ä»¥è·¨å¤šä¸ªå‘é‡æ¡ç›®å®ç°ï¼ˆå‚è§TriCoreæ¶æ„æ‰‹å†Œï¼‰ã€‚å¦‚æœå‘é‡è¡¨å¯ä»¥ä½äº TriCore ç¨‹åºç«¯å†…å­˜ä¸­ï¼Œè¿™ç§å¿«é€Ÿä¸­æ–­å¤„ç†å°±å¾ˆæœ‰ç”¨ã€‚8å­—èŠ‚é…ç½®å‡å°‘äº†å‘é‡è¡¨çš„å¤§å°ã€‚æ¯ä¸ªå‘é‡æ¡ç›®ä»…åŒ…å«ä¸€ä¸ªè·³è½¬æŒ‡ä»¤æˆ–ä¸€ä¸ªè°ƒç”¨å’Œè¿”å›ä½œä¸º16ä½æ“ä½œç æŒ‡ä»¤ã€‚ TriCoreç¼–è¯‘å™¨é€šè¿‡å…³é”®å­—æˆ–å‡½æ•°æ”¯æŒè¿™ç§ç±»å‹çš„ä¸­æ–­å‘é‡è¡¨ç”Ÿæˆ ã€‚å¦‚æœBIVå±è”½äº†PIPNï¼Œä½¿å¾—ä»»ä½•ä¸­æ–­åœ°å€è®¡ç®—ç»“æœç›¸åŒï¼Œåˆ™å¯ä»¥é…ç½®æœ€å°çš„å‘é‡è¡¨ã€‚ä¾‹å¦‚ï¼š\n1__mtcr(BIV,0x80000001 | 0xFF\u0026lt;\u0026lt;3); // å°†å€¼å†™å…¥æ ¸å¿ƒå¯„å­˜å™¨BIV è¿™å°†BIVå¯„å­˜å™¨é…ç½®ä¸ºä½¿ç”¨ä¸€ä¸ªé€šç”¨çš„å•ä¸ªæ¡ç›®ï¼Œå…¶ä¸­å‡½æ•° interruptHandlerä½äºæ­¤å¤„ï¼Œé€šè¿‡ä½¿ç”¨å‡½æ•°æŒ‡é’ˆæ•°ç»„åˆ†æ”¯åˆ°ç‰¹å®šçš„ä¸­æ–­ä¾‹ç¨‹ã€‚å¦‚æœä½¿ç”¨ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆï¼Œè¯¥æ•°ç»„å¯ä»¥å¿«é€Ÿåˆ‡æ¢ã€‚\nåˆå§‹åŒ–å’Œå®‰è£…ä¸­æ–­çš„æ­¥éª¤æè¿°\nå®šä¹‰ISRæŒ‡é’ˆæ•°ç»„ï¼šæœ€å¤šå¯ä»¥æœ‰255ä¸ªä¸­æ–­ã€‚ å®šä¹‰æŒ‡å‘ISRæŒ‡é’ˆæ•°ç»„èµ·å§‹ä½ç½®çš„æŒ‡é’ˆã€‚ å¼€å§‹ç¼–å†™ interruptHandlerInstallå‡½æ•°ï¼šæ­¤å‡½æ•°ç”¨äºåœ¨æ•°ç»„ä¸­å®‰è£…ä¸­æ–­ã€‚æ‰€éœ€ä¿¡æ¯æ˜¯ä¸­æ–­ä¼˜å…ˆçº§å’ŒISRå…¥å£åœ°å€ã€‚ å°†ISRå…¥å£åœ°å€å­˜å‚¨åœ¨æ•°ç»„ä¸­ã€‚ ç¼–å†™ interruptHandlerå‡½æ•°ï¼šåœ¨ä¸­æ–­å‘ç”Ÿåç«‹å³è°ƒç”¨æ­¤å‡½æ•°ï¼Œå¹¶åˆ†æ”¯åˆ°ç‰¹å®šçš„ä¸­æ–­ä¾‹ç¨‹ã€‚ åˆ†æ”¯åˆ°ç‰¹å®šçš„ä¸­æ–­ä¾‹ç¨‹ã€‚ åœ¨ISRå¤„ç†å®Œæ¯•åæ‰§è¡Œè¿”å›å‘½ä»¤ã€‚ åˆå§‹åŒ–å’Œå®‰è£…ä¸­æ–­çš„Cä»£ç ç¤ºä¾‹\n1(1) void (*isr_pointer_array[256])(void); 2(2) void (**isr)(void) = isr_pointer_array; 3(3) void interruptHandlerInstall(long int SRprio, long int addr) { 4(4) *isr_pointer_array[SRprio] = addr; 5} 6(5) void interruptHandler(void) { 7(6) isr[__mfcr(ICR) \u0026amp; 0xFF](); 8(7) asm (\u0026#34;rfe\u0026#34;); // ä»äº‹ä»¶è¿”å› 9}åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸­æ–­å…¥å£åœ°å€å­˜å‚¨åœ¨æ•°æ®æ•°ç»„ä¸­ï¼Œè€Œä¸æ˜¯å°†å€¼ç¼–ç åˆ°æŒ‡ä»¤ä¸­ã€‚interruptHandlerInstallå‡½æ•°è´Ÿè´£ç»„ç»‡åœ¨è¯¥æ•°ç»„ä¸­å®‰è£…ä¸­æ–­ï¼ˆå‚è§åœ¨STMç« èŠ‚ä¸­çš„æ¨¡å—ç”¨ä¾‹ç¤ºä¾‹ï¼‰ã€‚è¿™ç§å‘é‡è¡¨ç”Ÿæˆæ–¹å¼æœ‰æ—¶æ¯”8å­—èŠ‚é…ç½®æ›´çµæ´»ï¼Œå¹¶ä¸”ä¸éœ€è¦ç¼–è¯‘å™¨å¯¹ä¸­æ–­çš„ç‰¹å®šæ”¯æŒã€‚\nåœ¨ä¸­æ–­èƒ½å¤Ÿå‘ç”Ÿä¹‹å‰ï¼Œå¿…é¡»å…¨å±€å¯ç”¨ä¸­æ–­ç³»ç»Ÿã€‚ä¸­æ–­æ§åˆ¶å¯„å­˜å™¨ï¼ˆICRï¼‰åŒ…å«å…¨å±€ä¸­æ–­ä½¿èƒ½ä½ï¼ˆICR.IEï¼‰ï¼Œè¯¥ä½å¯ç”¨CPUæœåŠ¡è¯·æ±‚ç³»ç»Ÿã€‚å¤§å¤šæ•°ç¼–è¯‘å™¨æ”¯æŒä½¿ç”¨ç±»ä¼¼ä»¥ä¸‹çš„å±æ€§ï¼š__enable(); æ¥è®¾ç½®æ­¤ä½ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚è§æ¶æ„æ‰‹å†Œã€‚\n16.12 æ¨¡å—å®ç° 16.12.1 ä¸­æ–­è·¯ç”±å™¨æ¨¡å—çš„ç‰¹æ€§ è¡¨553æ˜¾ç¤ºäº†ä¸åŒTC3xxè®¾å¤‡ä¸­å®ç°çš„ä¸­æ–­è·¯ç”±å™¨é…ç½®ã€‚å…±äº«ä»²è£æŒ‰ICUxå¯¹å®ç°ï¼Œä»ICU0å¼€å§‹ï¼ˆICU0/ICU1ï¼ŒICU2/ICU3ï¼Œ\u0026hellip;\u0026hellip;ï¼‰ã€‚\n16.13 ä¸­æ–­è·¯ç”±å™¨ç³»ç»Ÿå’Œæ¨¡å—å¯„å­˜å™¨ å›¾180æ˜¾ç¤ºäº†è®¾å¤‡ä¸­ä¸ä¸­æ–­è·¯ç”±å™¨æ¨¡å—ç›¸å…³çš„æ‰€æœ‰å¯„å­˜å™¨ã€‚ä¸­æ–­è·¯ç”±å™¨åˆ†é…äº†ä¸¤ä¸ªåœ°å€èŒƒå›´ï¼š\n2 * 256å­—èŠ‚åœ°å€èŒƒå›´ï¼šè¦†ç›–ä¸­æ–­è·¯ç”±å™¨ç³»ç»Ÿå¯„å­˜å™¨ã€ICUæ§åˆ¶å¯„å­˜å™¨å’ŒOTGMå¯„å­˜å™¨ã€‚\n8 KBåœ°å€èŒƒå›´ï¼šè¦†ç›–æœåŠ¡è¯·æ±‚æ§åˆ¶å¯„å­˜å™¨ã€‚\nä½¿ç”¨çš„è®¿é—®ä¿æŠ¤å¯„å­˜å™¨ç¼©å†™åˆ—è¡¨ P0 -\u0026gt; ACCEN_SRBxï¼šç›¸å…³SRBxå¯„å­˜å™¨çš„å†™ä¿æŠ¤ã€‚æœåŠ¡è¯·æ±‚å¹¿æ’­å¯„å­˜å™¨ï¼ˆSRBï¼‰çš„æ•°é‡å’Œç›¸å…³çš„ACCEN_SRBå¯„å­˜å™¨çš„æ•°é‡ä¸å·²å®ç°çš„TriCore CPUæ•°é‡ç›¸ç­‰ã€‚ P1 -\u0026gt; ACCEN_CONFIGï¼šå†™ä¿æŠ¤æ‰€æœ‰SRCx[15:0]å’ŒICUxé”™è¯¯æ•è·å¯„å­˜å™¨ï¼ˆECRxï¼‰ã€‚ P2 -\u0026gt; ACCEN_SRC_TOSxï¼šå†™ä¿æŠ¤æ‰€æœ‰æ˜ å°„åˆ°TOSxçš„SRCçš„ä½[31:16]ï¼ˆSCR.TOS=xï¼‰ã€‚å¯¹äºæ¯ä¸ªå·²å®ç°çš„ä¸­æ–­æ§åˆ¶å•å…ƒï¼Œå®ç°ä¸€ä¸ªACCEN_SRC_TOSxå¯„å­˜å™¨ã€‚ è®¿é—®ä¿æŠ¤çš„è¿è§„è¡Œä¸ºä¸ä¼šè¢«æ‰§è¡Œï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡å…·æœ‰ç¦ç”¨çš„ä¸»æ ‡è®°IDçš„SPBè®¿é—®å†™å…¥åˆ°å— Px/ACCENä¿æŠ¤çš„å¯„å­˜å™¨ï¼‰ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®¿é—®ä¿æŠ¤é”™è¯¯å°†è¢«ä¿¡å·å‘é€åˆ°SMUã€‚é™¤äº†å‘SMUå‘å‡ºä¿¡å·å¤–ï¼Œä¸ä¼šäº§ç”Ÿå…¶ä»–é”™è¯¯ã€ä¸­æ–­æˆ–é™·é˜±ã€‚\nSystem Control Unit (SCU) chapter, External Request Unit (ERU)\nSTMç« èŠ‚ tc397ä¸­æ–­ ä¸ arm gicä¸­æ–­åŒºåˆ«\n","date":"2025å¹´7æœˆ8æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/tricore/tc397_interrupt/","series":[{"title":"Tc397 æ¶æ„ç³»åˆ—","url":"/series/tc397-%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97/"}],"smallImg":"","tags":[{"title":"Tc397ä¸­æ–­","url":"/tags/tc397%E4%B8%AD%E6%96%AD/"},{"title":"ä¸­æ–­ç®¡ç†","url":"/tags/%E4%B8%AD%E6%96%AD%E7%AE%A1%E7%90%86/"}],"timestamp":1751986567,"title":"Tc397ä¸­æ–­å­ç³»ç»Ÿ"},{"authors":[],"categories":[{"title":"J6M","url":"/categories/j6m/"}],"content":" J6M\nJ6 å¼€å‘è€…æ–‡æ¡£\n","date":"2025å¹´7æœˆ7æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/arm/j6m/","series":[{"title":"J6M","url":"/series/j6m/"}],"smallImg":"","tags":[{"title":"J6M","url":"/tags/j6m/"}],"timestamp":1751868731,"title":"J6M"},{"authors":[],"categories":[],"content":"","date":"2025å¹´7æœˆ6æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/onlinetools/timestamp/","series":[],"smallImg":"","tags":[],"timestamp":1751760000,"title":"æ—¶é—´æˆ³è½¬æ¢"},{"authors":[],"categories":[{"title":"ç†è´¢ç§‘æ™®","url":"/categories/%E7%90%86%E8%B4%A2%E7%A7%91%E6%99%AE/"}],"content":"è´§å¸åŸºé‡‘æ˜¯æœ€åŸºç¡€ã€æœ€ç¨³å¥çš„ä¸€ç±»åŸºé‡‘äº§å“ï¼Œä¹Ÿæ˜¯è®¸å¤šäººæ¥è§¦åŸºé‡‘æŠ•èµ„çš„ç¬¬ä¸€æ­¥ã€‚å®ƒé£é™©æä½ï¼ŒæµåŠ¨æ€§å¼ºï¼Œå ªç§°â€œä½™é¢å®çš„äº²æˆšâ€ã€‚\næœ¬æ–‡å°†ç”¨é€šä¿—è¯­è¨€ï¼Œå¸¦ä½ å¿«é€Ÿäº†è§£è´§å¸åŸºé‡‘çš„åŸç†ã€æ”¶ç›Šã€é£é™©ä»¥åŠé€‚åˆäººç¾¤ã€‚\nğŸ¦ ä»€ä¹ˆæ˜¯è´§å¸åŸºé‡‘ï¼Ÿ è´§å¸å¸‚åœºåŸºé‡‘ï¼ˆMoney Market Fundï¼‰æ˜¯ä¸€ç§æŠ•èµ„äºçŸ­æœŸã€é«˜æµåŠ¨æ€§ã€ä½é£é™©çš„é‡‘èå·¥å…·çš„åŸºé‡‘ã€‚ä¸»è¦æŠ•å‘åŒ…æ‹¬ï¼š\nå›½å€ºã€å¤®è¡Œç¥¨æ® é“¶è¡Œå®šæœŸå­˜å•ï¼ˆNCDï¼‰ å›è´­åè®® çŸ­æœŸå€ºåˆ¸ï¼ˆæœŸé™ä¸è¶…è¿‡ 397 å¤©ï¼‰ è¿™ç±»åŸºé‡‘ä¸»è¦ç”¨äºä¿å€¼ã€æµåŠ¨æ€§ç®¡ç†ï¼Œé£é™©æä½ï¼Œå†å²ä¸Šæå°‘å‘ç”ŸäºæŸã€‚\nç±»å‹ æŠ•èµ„æ ‡çš„ æµåŠ¨æ€§ é¢„æœŸæ”¶ç›Š é£é™©æ°´å¹³ é€‚åˆåœºæ™¯ è´§å¸åŸºé‡‘ å­˜æ¬¾ã€åŒä¸šå­˜å•ã€å›è´­ T+0/T+1 1.5%â€“2.3% æä½ ä¸´æ—¶é—²é’±ã€é›¶é’±ç®¡ç† çŸ­å€ºåŸºé‡‘ å‰©ä½™æœŸé™ \u0026lt;1å¹´å€ºåˆ¸ T+1 2%â€“3.5% å¾ˆä½ å‡ ä¸ªæœˆå†…ä¸ç”¨çš„é’± çº¯å€ºåŸºé‡‘ ä¸­é•¿æœŸå€ºåˆ¸ï¼ˆæ— è‚¡ç¥¨ï¼‰ T+1/T+2 3%â€“4.5% ä½ ä¸­æœŸç¨³å¥ç†è´¢ å®šå¼€å€ºåŸº åŒä¸Šï¼Œä½†å®šæœŸå¼€æ”¾ å›ºå®šå‘¨æœŸT+n 3.5%â€“5% ä½ ä¸æ€¥ç”¨çš„èµ„é‡‘é…ç½® å¯è½¬å€ºåŸºé‡‘ å¯è½¬å€ºä¸ºä¸» T+1/T+2 5%â€“10% ä¸­ç­‰ çœ‹å¥½è‚¡å¸‚åˆæ€•å¤§è·Œ æ··åˆå€ºåŸº å€º+è‚¡+è½¬å€º T+1 6%â€“12% ä¸­é«˜ æƒ³å¢å¼ºæ”¶ç›Š ğŸ“Œ ç®€è®°å£è¯€ï¼šè´§å¸æµåŠ¨å¿«ï¼ŒçŸ­å€ºæœŸé™çŸ­ï¼Œçº¯å€ºæ›´ç¨³å¥ï¼Œå®šå¼€é”ä¸€æ®µã€‚\nğŸ’° æ”¶ç›Šæ¥æº è´§å¸åŸºé‡‘çš„æ”¶ç›Šæ¥è‡ªäºä¸Šè¿°èµ„äº§çš„åˆ©æ¯æ”¶ç›Šã€‚ä¾‹å¦‚ï¼š\né“¶è¡Œåè®®å­˜æ¬¾åˆ©æ¯ å›è´­åˆ©ç‡ï¼ˆå¦‚ 7 å¤©å›è´­ï¼‰ å¤®ç¥¨åˆ©æ¯ç­‰ å…¶æ”¶ç›Šæ˜¯ æµ®åŠ¨çš„ï¼ŒæŒ‰â€œä¸‡ä»½æ”¶ç›Šâ€å’Œâ€œ7 æ—¥å¹´åŒ–æ”¶ç›Šç‡â€æ¥å±•ç¤ºã€‚\næŒ‡æ ‡åç§° å«ä¹‰ ä¸‡ä»½æ”¶ç›Š æ¯ 1 ä¸‡å…ƒæ¯å¤©å¯è·å¾—çš„æ”¶ç›Š 7 æ—¥å¹´åŒ– æœ€è¿‘ 7 å¤©å¹³å‡æ”¶ç›Šï¼Œå¹´åŒ–åå±•ç¤º âš–ï¸ ä¸é“¶è¡Œæ´»æœŸå¯¹æ¯” é¡¹ç›® è´§å¸åŸºé‡‘ é“¶è¡Œæ´»æœŸ æ”¶ç›Šç‡ é€šå¸¸åœ¨ 1.5~2.5% 0.25% å·¦å³ æµåŠ¨æ€§ éšå­˜éšå–ï¼Œä¸€èˆ¬ T+1 åˆ°è´¦ éšå­˜éšå– é£é™©ç­‰çº§ æä½ï¼Œä½†éç»å¯¹ä¿æœ¬ å›½å®¶å…œåº• æç°åˆ°è´¦é€Ÿåº¦ æ™®é€šä¸º T+1ï¼Œéƒ¨åˆ†æ”¯æŒå¿«é€Ÿèµå›ï¼ˆ2 å°æ—¶å†…ï¼‰ å®æ—¶ æ¯æ”¯è´§å¸åŸºé‡‘å½“å¤©å¯ä»¥å¿«é€Ÿåˆ°è´¦1wçš„è¯ï¼Œå¯ä»¥åˆ†æ•£è´­ä¹°è¾¾åˆ°æé«˜æ¯å¤©çš„æç°é¢åº¦\nğŸš¨ æœ‰å“ªäº›é£é™©ï¼Ÿ è™½ç„¶é£é™©éå¸¸å°ï¼Œä½†è´§å¸åŸºé‡‘å¹¶éç»å¯¹å®‰å…¨ï¼š\næµåŠ¨æ€§é£é™©ï¼šæç«¯å¸‚åœºæƒ…å†µä¸‹ï¼ˆå¦‚å¤§è§„æ¨¡èµå›ï¼‰å¯èƒ½æš‚åœæç° åˆ©ç‡æ³¢åŠ¨é£é™©ï¼šåˆ©ç‡ä¸‹é™ï¼Œæ”¶ç›Šç‡ä¹Ÿä¼šéšä¹‹é™ä½ ä¿¡ç”¨é£é™©ï¼šæŠ•èµ„æ ‡çš„è‹¥å‡ºç°è¿çº¦å¯èƒ½å½±å“æ”¶ç›Š âœ… å†å²ä¸Šè´§å¸åŸºé‡‘â€œè´Ÿæ”¶ç›Šâ€æä¸ºç½•è§ï¼Œä½†éä¸å¯èƒ½ã€‚\nâœ… è°é€‚åˆæŠ•èµ„è´§å¸åŸºé‡‘ï¼Ÿ æƒ³è®©â€œé—²é’±â€å¤šèµšç‚¹åˆ©æ¯çš„äºº ä¸æ‡‚æŠ•èµ„ã€ä¸æƒ³æ‰¿æ‹…æ³¢åŠ¨é£é™©çš„æ–°æ‰‹ éœ€è¦æµåŠ¨æ€§å¼ºçš„èµ„é‡‘ç®¡ç†å·¥å…·ï¼ˆæ›¿ä»£æ´»æœŸï¼‰ âœ… å¸¸è§ç”¨é€”ï¼š æ›¿ä»£æ´»æœŸå­˜æ¬¾ï¼ˆä½™é¢å®å³ä¸ºè´§å¸åŸºé‡‘ï¼‰ ä¸´æ—¶èµ„é‡‘è¿‡æ¸¡ï¼ˆä¹°æˆ¿ã€è¿˜è´·å‰è¿‡æ¸¡ï¼‰ è‚¡åŸº/å€ºåŸºä¸­è½¬ç«™ï¼ˆç”¨äºåˆ†ä»“æ‰“æ–°ï¼‰ ğŸ§  æŠ•èµ„å»ºè®® ä¸æ˜¯ä¿æœ¬äº§å“ï¼Œä½†å®‰å…¨æ€§å¾ˆé«˜ï¼Œå¯æ”¾å¿ƒæŒæœ‰ é€‰åŸºé‡‘çœ‹å“ç‰Œï¼ˆå¤©å¼˜ã€åå¤ã€æ˜“æ–¹è¾¾ç­‰ï¼‰ï¼Œæ›´é‡è¦çš„æ˜¯è´¹ç‡ã€æµåŠ¨æ€§ã€å†å²è¡¨ç° ä¸å»ºè®®é•¿æœŸé‡ä»“ï¼Œé€‚åˆä½œä¸ºç†è´¢â€œåº•ä»“â€æˆ–èµ„é‡‘æ³Šä½ ğŸ“Œ ä¸ºä½•ä¸å»ºè®®é•¿æœŸé‡ä»“è´§å¸åŸºé‡‘ï¼Ÿ åŸå›  è¯´æ˜ æ”¶ç›Šå¤ªä½ å¹´åŒ–ä»… 1.5%â€“2.3%ï¼Œè·‘ä¸èµ¢é€šèƒ€ æ— å¤åˆ©ä¼˜åŠ¿ æ”¶ç›Šä½ã€æ³¢åŠ¨å°ï¼Œé•¿æœŸå¤åˆ©æ•ˆåº”å¾®å¼± èµ„é‡‘å ç”¨æœºä¼š å ç”¨å¯ç”¨äºæ›´é«˜æ”¶ç›Šèµ„äº§çš„èµ„é‡‘ ç¨æ”¶ä¼˜åŠ¿å¼±åŒ– è´§åŸºå…ç¨ä¼˜åŠ¿å¯¹é«˜å‡€å€¼äººç¾¤ä½œç”¨æœ‰é™ âœ… é•¿æœŸæŠ•èµ„æ›¿ä»£æ–¹æ¡ˆï¼ˆæŒ‰é£é™©åå¥½ï¼‰ é£é™©åå¥½ æ¨èèµ„äº§é…ç½® å¹´åŒ–é¢„æœŸ ç‰¹ç‚¹ æä½é£é™© å®šå¼€çº¯å€º + çŸ­å€ºåŸºé‡‘ 3%â€“4% ç¨³å¥å¢å€¼ï¼Œé€‚åˆä¿å®ˆå‹æŠ•èµ„è€… ä¸­ç­‰é£é™© 60% æŒ‡æ•°åŸºé‡‘ + 40% å€ºåŸº 6%â€“8% æ³¢åŠ¨é€‚ä¸­ï¼Œæ”¶ç›Šç¨³å®š è¾ƒé«˜é£é™© 80% æŒ‡æ•°åŸºé‡‘ + 20% çŸ­å€º/è´§åŸº 8%â€“12% é•¿æœŸæˆé•¿ï¼Œæ³¢åŠ¨å¤§ å…¨çƒé…ç½® MSCIå…¨çƒ + æ ‡æ™®500 + Aè‚¡ETF 6%â€“10% åˆ†æ•£é£é™©ï¼Œåº”å¯¹å•å›½æ³¢åŠ¨ è´§å¸åŸºé‡‘é€‚åˆä½œä¸ºæµåŠ¨èµ„é‡‘æ± ï¼Œä¸å®œé‡ä»“é•¿æœŸæŒæœ‰ã€‚åº”å°†é•¿æœŸèµ„é‡‘æŠ•å…¥èƒ½è·‘èµ¢é€šèƒ€ã€å…·å¤‡å¤åˆ©æ•ˆåº”çš„èµ„äº§å¦‚æŒ‡æ•°åŸºé‡‘æˆ–ä¼˜è´¨å€ºåŸºä¸­ã€‚\næŒ‡æ•°åŸºé‡‘ â€œç¾è‚¡åå¹´ç¿»å€ï¼ŒAè‚¡åå¹´åŸåœ°è¸æ­¥â€â€”â€”è¿™ä¸æ˜¯æ®µå­ï¼Œæ˜¯ä¸€åœºæŒ‡æ•°è®¾è®¡å“²å­¦çš„å®æˆ˜å¯¹æ¯”ã€‚\næƒ³è¦é•¿æœŸæŠ•èµ„ï¼Œä¹°äº†â€œä¸Šè¯æŒ‡æ•°â€åŸºé‡‘ï¼› çœ‹ç€ç¾è‚¡æŒ‡æ•°èŠ‚èŠ‚æ”€å‡ï¼Œè‡ªå·±çš„è´¦æˆ·å´äºé’±ï¼› æ˜æ˜â€œæŠ¼æ³¨å›½å®¶å´›èµ·â€ï¼Œç»“æœå´æˆäº†â€œéŸ­èœæ”¶å‰²â€ï¼Ÿ é—®é¢˜ä¸åœ¨å¸‚åœºæœ¬èº«ï¼Œè€Œåœ¨æŒ‡æ•°èƒŒåçš„â€œè®¾è®¡è€…æ€ç»´â€ã€‚\nä¸»è¦æŒ‡æ•°åŠåˆ†æ”¯æŒ‡æ•°åŸºé‡‘å¯¹æ¯”è¡¨ æŒ‡æ•°åç§° ä»£è¡¨å¸‚åœº æŠ•èµ„æ ‡çš„ç‰¹ç‚¹ ä¸»è¦æˆåˆ†ç‰¹ç‚¹ å†å²è¡¨ç°ï¼ˆé•¿æœŸï¼‰ é£é™©æ°´å¹³ å…¸å‹åŸºé‡‘ç¤ºä¾‹ é€‚åˆæŠ•èµ„è€… ä¸Šè¯æŒ‡æ•° ä¸­å›½Aè‚¡ä¸»æ¿ å¤§ç›˜è‚¡ï¼Œå›½ä¼ä¸ºä¸» å›½ä¼æƒé‡é«˜ï¼Œå‘¨æœŸå’Œèµ„æºç±»å±…å¤š ä½æˆ–è´Ÿæ”¶ç›Š é«˜ æ˜“æ–¹è¾¾ä¸Šè¯50ETF å›½å†…ä»·å€¼æŠ•èµ„è€… æ·±è¯æˆæŒ‡ ä¸­å›½ä¸­å°ç›˜è‚¡ ä¸­å°å¸‚å€¼æˆé•¿è‚¡è¾ƒå¤š åˆ›æ–°ä¼ä¸šã€æ¶ˆè´¹åŠç§‘æŠ€è¾ƒå¤š ä¸­ç­‰æ³¢åŠ¨å¤§ ä¸­é«˜ åå¤æˆé•¿ETF çœ‹å¥½ä¸­å›½æˆé•¿è‚¡ æ²ªæ·±300 ä¸­å›½å¤§ç›˜è“ç­¹ è“ç­¹è‚¡é›†ä¸­ï¼Œå¸‚åœºä»£è¡¨æ€§å¼º è¡Œä¸šåˆ†å¸ƒè¾ƒå‡è¡¡ è¾ƒç¨³å¥ ä¸­ å˜‰å®æ²ªæ·±300ETF è¿½æ±‚ç¨³å¥æˆé•¿æŠ•èµ„è€… æ ‡æ™®500 ç¾å›½å¤§å‹è‚¡ 500å¤§ç›˜è“ç­¹è‚¡ é«˜ç§‘æŠ€ä¸æ¶ˆè´¹é¾™å¤´é›†ä¸­ å¹´åŒ–çº¦10% ä¸­ VOOã€SPYã€IVV å…¨çƒé•¿æœŸç¨³å¥æŠ•èµ„è€… çº³æ–¯è¾¾å…‹100 ç¾å›½ç§‘æŠ€æˆé•¿è‚¡ ç§‘æŠ€ã€äº’è”ç½‘æˆé•¿è‚¡ä¸ºä¸» ä¸»è¦ç§‘æŠ€å·¨å¤´ å¹´åŒ–çº¦12-15% é«˜ QQQ è¿½æ±‚é«˜æˆé•¿æŠ•èµ„è€… MSCIå…¨çƒæŒ‡æ•° å…¨çƒå¸‚åœº å…¨çƒå‘è¾¾åŠéƒ¨åˆ†æ–°å…´å¸‚åœº è¡Œä¸šå’Œå›½å®¶å¤šå…ƒåŒ– å¹³è¡¡å¢é•¿ ä¸­ iShares MSCI ACWI ETF å…¨çƒé…ç½®æŠ•èµ„è€… æ’ç”ŸæŒ‡æ•° é¦™æ¸¯å¸‚åœº é¦™æ¸¯å¤§å‹è“ç­¹è‚¡ é‡‘èã€åœ°äº§å æ¯”é«˜ æ³¢åŠ¨è¾ƒå¤§ ä¸­ å—æ–¹æ’ç”ŸETF å…³æ³¨æ¸¯è‚¡åŠä¸­å›½æµ·å¤–è‚¡ ğŸ“Š ä¸ºä»€ä¹ˆæ ‡æ™®500é•¿æœŸä¸Šæ¶¨ï¼Ÿ âœ… æˆåˆ†å…¬å¸é€‰æ‹©é€»è¾‘ æ ‡æ™®500 ä¸æ˜¯â€œè°å¸‚å€¼å¤§è°è¿›â€ï¼Œè€Œæ˜¯ï¼š\nè´¢æŠ¥ç›ˆåˆ©è¿ç»­ 4 ä¸ªå­£åº¦ä¸ºæ­£ æµåŠ¨æ€§å¼ºï¼Œä»£è¡¨è¡Œä¸šé¾™å¤´ å®¡æ ¸å§”å‘˜ä¼šä¸»è§‚æŠŠå…³ï¼Œä¸ç¬¦åˆå°±è¸¢å‡ºå» è¿™æ„å‘³ç€ï¼š\nåŠ£è´¨ä¼ä¸šè¿›ä¸äº† è¡¨ç°å·®çš„ä¼šè¢«å‰”é™¤ æŒ‡æ•°â€œè‡ªåŠ¨ä¼˜åŒ–â€ âœ… æƒé‡è®¾è®¡é€»è¾‘ ä½¿ç”¨è‡ªç”±æµé€šå¸‚å€¼åŠ æƒï¼ˆå³å¸‚å€¼Ã—æµé€šæ¯”ä¾‹ï¼‰ ç§‘æŠ€é¾™å¤´å æ®æ ¸å¿ƒï¼ˆå¦‚è‹¹æœã€è‹±ä¼Ÿè¾¾ã€å¾®è½¯ï¼‰ å®ƒä¸æ˜¯â€œå¹³å‡æŒè‚¡â€ï¼Œè€Œæ˜¯â€œæŠ±ç´§èµ¢å®¶â€\nğŸ“‰ ä¸ºä»€ä¹ˆä¸Šè¯æŒ‡æ•°åè€Œè®©äººäºé’±ï¼Ÿ âŒ æŒ‡æ•°æˆåˆ†é—®é¢˜ æŒ‰â€œæ€»å¸‚å€¼â€åŠ æƒï¼Œå›½ä¼å æ¯”æå¤§ é¾™å¤´æ˜¯å·¥å•†é“¶è¡Œã€ä¸­å›½çŸ³æ²¹ã€å®é’¢ã€ä¸­å›½å»ºç­‘ç­‰ä½å¢é•¿è€ä¼ä¸š ç§‘æŠ€ã€æ¶ˆè´¹ã€æ–°èƒ½æºç­‰ä¼˜è´¨æˆé•¿è‚¡æƒé‡æä½ âŒ å‰”é™¤æœºåˆ¶å½¢åŒè™šè®¾ åƒµå°¸ä¼ä¸šã€äºæŸå›½ä¼å¸¸å¹´éœ¸æ¦œ æ²¡æœ‰åŠ¨æ€ä¼˜åŒ– æŒ‡æ•°å°±åƒâ€œè€é¾„åŒ–äººå£ç»“æ„â€ï¼Œç¼ºä¹æ´»åŠ› âŒ æ–°è‚¡æ‰©å®¹ç¨€é‡Šæ”¶ç›Š æ–°è‚¡é¢‘ç¹ä¸Šå¸‚ï¼Œä¸æ–­â€œæŠ½æ°´â€ æƒé‡é‡æ–°æ´—ç‰Œï¼Œè€è‚¡ä¸æ¶¨ï¼Œæ–°è‚¡æŠ¢æµ æ•£æˆ·æŠ•èµ„å°±åƒä¸æ–­è¢«â€œæ‘Šè–„â€çš„è‚¡ä¸œ ğŸ” ä¸¾ä¸ªä¾‹å­ æŒ‡æ•° 2008â€“2024å¹´æ¶¨å¹… å¹´åŒ–æ”¶ç›Š æœ€å¤§å›æ’¤ æ ‡æ™®500 +330% ä»¥ä¸Š ~10% -55%ï¼ˆ2008ï¼‰ çº³æŒ‡100 +800% ä»¥ä¸Š ~13% -80%ï¼ˆ2000ç§‘ç½‘æ³¡æ²«ï¼‰ ä¸Šè¯æŒ‡æ•° åŸºæœ¬æŒå¹³ï¼ˆæˆ–è´Ÿæ”¶ç›Šï¼‰ ~0%â€“1% å¤šæ¬¡è…°æ–© ğŸ§  æ€ä¹ˆåšï¼Ÿ âœ… çœ‹å¥½ä¸­å›½å‘å±•ï¼Œè¯·è€ƒè™‘ï¼š æ²ªæ·±300ï¼ˆç»“æ„æ›´ä¼˜ï¼‰ ä¸­è¯500 / ä¸­è¯çº¢åˆ©ï¼ˆæˆé•¿æ€§ \u0026amp; åˆ†çº¢ï¼‰ ETF è¡Œä¸šç²¾é€‰ï¼šæ–°èƒ½æºè½¦ã€åŒ»ç–—ã€ç§‘æŠ€ç­‰ âœ… åšå…¨çƒé…ç½®ï¼Œåˆ«åªé Aè‚¡ï¼š æœ‰å…¶ä»–åˆ¸å•†ï¼Ÿä¹° VOOã€QQQ ç­‰ç¾è‚¡ ETF æ²¡æœ‰ï¼Ÿä¹Ÿå¯ä»¥é€šè¿‡ä¹° 513500ã€513100 ç­‰è·Ÿè¸ªç¾è‚¡çš„ETF ","date":"2025å¹´7æœˆ5æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/misc/investment/funds/","series":[{"title":"æŠ•èµ„ç†è´¢","url":"/series/%E6%8A%95%E8%B5%84%E7%90%86%E8%B4%A2/"}],"smallImg":"","tags":[{"title":"è´§å¸åŸºé‡‘","url":"/tags/%E8%B4%A7%E5%B8%81%E5%9F%BA%E9%87%91/"},{"title":"åŸºé‡‘åŸºç¡€","url":"/tags/%E5%9F%BA%E9%87%91%E5%9F%BA%E7%A1%80/"},{"title":"é›¶é£é™©ç†è´¢","url":"/tags/%E9%9B%B6%E9%A3%8E%E9%99%A9%E7%90%86%E8%B4%A2/"},{"title":"æ”¶ç›Šè®¡ç®—","url":"/tags/%E6%94%B6%E7%9B%8A%E8%AE%A1%E7%AE%97/"},{"title":"æŒ‡æ•°åŸºé‡‘","url":"/tags/%E6%8C%87%E6%95%B0%E5%9F%BA%E9%87%91/"}],"timestamp":1751729103,"title":"è´§å¸åŸºé‡‘"},{"authors":[],"categories":[{"title":"ç”µåŠ¨è½¦ç»­èˆªæµ‹è¯•","url":"/categories/%E7%94%B5%E5%8A%A8%E8%BD%A6%E7%BB%AD%E8%88%AA%E6%B5%8B%E8%AF%95/"}],"content":" éšç€ç”µåŠ¨è½¦çš„æ™®åŠï¼Œå„å®¶å‚å•†çº·çº·æ ‡æ¦œè‡ªå®¶è½¦å‹â€œç»­èˆª 600 å…¬é‡Œã€700 å…¬é‡Œâ€ï¼Œä½†ç”¨æˆ·å®é™…ä½“éªŒå¾€å¾€è¾¾ä¸åˆ°æ ‡ç§°ã€‚ä¸ºä»€ä¹ˆï¼Ÿè¿™èƒŒåå…³é”®åœ¨äºæ‰€é‡‡ç”¨çš„æµ‹è¯•æ ‡å‡†ä¸åŒã€‚\næœ¬æ–‡å°†å¸¦ä½ äº†è§£ç›®å‰å…¨çƒä¸»æµçš„å‡ ç§ç”µåŠ¨è½¦æµ‹è¯•æ ‡å‡†ï¼šCLTCã€WLTPã€EPAã€NEDCï¼Œæ¯”è¾ƒå®ƒä»¬çš„ç‰¹ç‚¹ã€ä¼˜ç¼ºç‚¹ï¼Œä»¥åŠå“ªç§æ›´è´´è¿‘æ—¥å¸¸ä½¿ç”¨ã€‚\nğŸ§­ å¸¸è§æµ‹è¯•æ ‡å‡†ä¸€è§ˆ æ ‡å‡† åœ°åŒº å…¨ç§° å½“å‰çŠ¶æ€ å¯ç”¨æ—¶é—´ CLTC ä¸­å›½ China Light-duty Vehicle Test Cycle âœ… ç°è¡Œ 2021 å¹´èµ· WLTP æ¬§æ´²ã€æ—¥éŸ© Worldwide Harmonized Light Vehicle Test Procedure âœ… ç°è¡Œ 2017 å¹´èµ· EPA ç¾å›½ Environmental Protection Agency Test Cycle âœ… ç°è¡Œ 1970s èµ·ï¼ŒæŒç»­è¿­ä»£ NEDC æ¬§æ´²ã€ä¸­å›½ï¼ˆæ—§ï¼‰ New European Driving Cycle âŒ å·²æ·˜æ±° 1997~2020 ğŸ§ª å„æµ‹è¯•æ ‡å‡†ç®€è¦è¯´æ˜ ğŸ‡¨ğŸ‡³ CLTCï¼ˆä¸­å›½æ ‡å‡†ï¼‰ ç”±ä¸­å›½å·¥ä¿¡éƒ¨åˆ¶å®šï¼Œ2021 å¹´èµ·æ›¿ä»£ NEDC ä»¥åŸå¸‚ä½é€Ÿå·¥å†µä¸ºä¸»ï¼Œèµ·æ­¥/åœè½¦é¢‘ç¹ æµ‹è¯•ç¯å¢ƒç†æƒ³åŒ–ï¼ˆä¸å«ç©ºè°ƒã€ç”µå™¨è´Ÿè½½ï¼‰ ä¼˜ç‚¹ï¼šå®£ä¼ ç»­èˆªé«˜ï¼›ç¼ºç‚¹ï¼šåå·®å¤ªå¤§ ğŸ‡ªğŸ‡º WLTPï¼ˆå…¨çƒç»Ÿä¸€è½»å‹è½¦æµ‹è¯•ç¨‹åºï¼‰ ç”±è”åˆå›½æ¬§æ´²ç»æµå§”å‘˜ä¼šï¼ˆUNECEï¼‰åˆ¶å®š åŒ…å«ä½é€Ÿã€ä¸­é€Ÿã€é«˜é€Ÿã€è¶…é«˜é€Ÿå››æ®µå·¥å†µ æ¨¡æ‹Ÿæ›´å¹¿æ³›çš„é©¾é©¶è¡Œä¸ºå’Œäº¤é€šæƒ…æ™¯ ä¼˜ç‚¹ï¼šä¸­åº¸å®ç”¨ï¼›ç¼ºç‚¹ï¼šä»ç•¥ä¹è§‚ ğŸ‡ºğŸ‡¸ EPAï¼ˆç¾å›½ç¯ä¿ç½²æ ‡å‡†ï¼‰ åŒ…å«åŸå¸‚ã€å¸‚éƒŠå’Œé«˜é€Ÿæµ‹è¯•ï¼Œè€ƒè™‘ç©ºè°ƒè´Ÿè½½ æ‰€æœ‰ä¸»æµç¬¬ä¸‰æ–¹æµ‹è¯„ç½‘ç«™æ™®éé‡‡ç”¨ è¢«è®¤ä¸ºæœ€è´´è¿‘æ—¥å¸¸é©¾é©¶ ä¼˜ç‚¹ï¼šå¯ä¿¡åº¦é«˜ï¼›ç¼ºç‚¹ï¼šå®£ä¼ æ•°å­—ä¸å¥½çœ‹ âŒ NEDCï¼ˆå·²æ·˜æ±°ï¼‰ åŸä¸ºæ¬§ç›Ÿæ ‡å‡†ï¼Œæµ‹è¯•æ¡ä»¶æåº¦ç†æƒ³åŒ–ï¼Œåè¢« CLTCã€WLTP æ›¿ä»£ å·¥å†µè¿‡äºæ¸©å’Œï¼Œå¹³å‡é€Ÿåº¦ä½ï¼Œæœªè€ƒè™‘ç°å®æƒ…å†µ ç»å¸¸å¯¼è‡´ç»­èˆªè™šé«˜ å®æµ‹æ‰“ 5~7 æŠ˜éå¸¸å¸¸è§ âš–ï¸ ä¸åŒæ ‡å‡†å¯¹æ¯”è¡¨ æ•°æ®æ¥æºä¸è¯¦ï¼Œä»…ä»…ä¾›å‚è€ƒ\nç‰¹æ€§ CLTC WLTP EPA NEDC æœ€é«˜è½¦é€Ÿ 114 km/h 131 km/h 129 km/h 120 km/h å¹³å‡é€Ÿåº¦ 32 km/h 46.5 km/h 48.3 km/h 34 km/h æ˜¯å¦è€ƒè™‘ç©ºè°ƒç­‰è´Ÿè½½ âŒ å¦ éƒ¨åˆ†å·¥å†µæ”¯æŒ âœ… æ˜¯ âŒ å¦ åŸå¸‚/é«˜é€Ÿæ¯”ä¾‹ ååŸå¸‚ ç»¼åˆ ç»¼åˆ ååŸå¸‚ å®æµ‹åå·®ç‡ 20~30% 10~15% 5~10% 30~40% ğŸš— å®æµ‹æ¡ˆä¾‹ï¼šç‰¹æ–¯æ‹‰ Model Yï¼ˆé•¿ç»­èˆªç‰ˆï¼‰ æ•°æ®æ¥æºä¸è¯¦ï¼Œä»…ä»…ä¾›å‚è€ƒ\næµ‹è¯•æ ‡å‡† æ ‡ç§°ç»­èˆª å®æµ‹é«˜é€Ÿç»­èˆªï¼ˆ110 km/hï¼‰ åå·®ç‡ CLTC 660 km 470~500 km â†“ 25~30% WLTP 565 km 480~500 km â†“ 10~15% EPA 525 km 480~500 km â†“ 5~8% NEDCâŒ 700+ kmï¼ˆå†å²ï¼‰ ~420 km â†“ 35~40% ğŸ” æ³¨ï¼šåŒæ¬¾è½¦å‹åœ¨ä¸åŒå¸‚åœºå®£ä¼ ç”¨ä¸åŒæ ‡å‡†ã€‚ä¾‹å¦‚ï¼ŒModel Y åœ¨ä¸­å›½ç”¨ CLTCï¼Œæ¬§æ´²ç”¨ WLTPï¼Œç¾å›½ç”¨ EPAã€‚\nâœ… æ€»ç»“å¯¹æ¯”ä¸å»ºè®® éœ€æ±‚ç±»å‹ æ¨èæµ‹è¯•æ ‡å‡† æ—¥å¸¸çœŸå®ä½“éªŒã€é•¿æœŸè¡¨ç° âœ… EPA æ¬§ç³»è½¦æ•°æ®ã€åŸå¸‚+éƒŠåŒº âœ… WLTP ä¸­å›½è½¦å‹æ ‡ç§°å®£ä¼  ğŸŸ¡ CLTCï¼ˆéœ€ç»“åˆå®æµ‹ï¼‰ å†å²è½¦å‹å‚è€ƒ âŒ NEDCï¼ˆå·²è¿‡æ—¶ï¼‰ å»ºè®®ï¼š ğŸš« ä¸ç›²ä¿¡ç»­èˆªæ•°å­—ï¼Œçœ‹æ¸…ä½¿ç”¨çš„æµ‹è¯•æ ‡å‡† âœ… çœ‹ç¬¬ä¸‰æ–¹å®æµ‹æˆ–ç”¨æˆ·å®ç”¨æŠ¥å‘Šæ›´å¯ä¿¡ ğŸš˜ é«˜é€Ÿç”¨è½¦éœ€æ±‚è€…ä¼˜å…ˆå…³æ³¨ EPA å’Œå®æµ‹è¡¨ç° ğŸ”— å»¶ä¼¸é˜…è¯» CLTC EPA å®˜ç½‘ - FuelEconomy.gov WLTP å®˜æ–¹ä»‹ç» - UNECE ç”µåŠ¨è½¦å®æµ‹ç»­èˆªå¤§å…¨ï¼ˆEV Databaseï¼‰ ","date":"2025å¹´7æœˆ5æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/stellate/sd/cltc/","series":[{"title":"å›½æ ‡é‚£äº›äº‹","url":"/series/%E5%9B%BD%E6%A0%87%E9%82%A3%E4%BA%9B%E4%BA%8B/"}],"smallImg":"","tags":[{"title":"ç”µåŠ¨è½¦ç»­èˆªæµ‹è¯•","url":"/tags/%E7%94%B5%E5%8A%A8%E8%BD%A6%E7%BB%AD%E8%88%AA%E6%B5%8B%E8%AF%95/"},{"title":"CLTC","url":"/tags/cltc/"},{"title":"EPA","url":"/tags/epa/"},{"title":"WLTP","url":"/tags/wltp/"},{"title":"NEDC","url":"/tags/nedc/"}],"timestamp":1751727427,"title":"ç”µåŠ¨è½¦ç»­èˆªæµ‹è¯•æ ‡å‡†å¯¹æ¯”"},{"authors":[],"categories":[],"content":" ä½œä¸ºä¸€ä¸ªåˆæ ¼çš„æ‡’äººï¼Œè‡´åŠ›äºæ”¶é›†å¥‡æŠ€æ·«å·§ï¼Œä¸å†æµªè´¹æ—¶é—´äºæ— èŠçš„æœç´¢\nshell 1# æŸ¥æ‰¾æŸä¸ªæ–‡ä»¶å¤¹çš„å‰ä¸‰çº§æ–‡ä»¶å¤¹ 2# å¦‚æœæŸ¥æ‰¾å‰ä¸‰çº§çš„æ–‡ä»¶ å¯ä»¥ä½¿ç”¨æŠŠ d --\u0026gt; f 3find /path -mindepth 1 -maxdepth 3 -type d 4tree -L 3 -d /path/ 5 6scp -rp -P 22 test@xxxxx:/file . 7# é”™è¯¯ç›´æ¥é€€å‡º 8set -o errexit 9 10seq -f \u0026#34;HELLO:%g,\u0026#34; 1 16 # HELLO1-HELLO16 ä»£ç† 1# æœåŠ¡å™¨æ˜ å°„åˆ°æœ¬åœ°ç«¯å£ 2ssh -i test.key -D localport -p 22 user@1.1.1.1 3 4export http_proxy=socks5://127.0.0.1:1080 5export https_proxy=socks5://127.0.0.1:1080 6curl --proxy socks5://127.0.0.1:1080 www.google.com æ–‡æœ¬å¤„ç† find/sed/xargs æŸ¥æ‰¾æ‰¹é‡æ›¿æ¢ç­‰\n1# æ–‡ä»¶å¤´å°¾éƒ¨ç©ºæ ¼ 2 find ./ -name \u0026#34;*.[ch]\u0026#34; -exec sed -i \u0026#39;/./,$!d\u0026#39; {} + 3 find ./ -name \u0026#34;*.[ch]\u0026#34; -exec sed -i -e :a -e \u0026#39;/^\\n*$/{$d;N;ba\u0026#39; -e \u0026#39;}\u0026#39; -e \u0026#39;$a\\\u0026#39; {} \\; 4# æ–‡ä»¶ç¼–ç æ”¹ä¸ºutf8 5 find ./ -name \u0026#34;*.[ch]\u0026#34; -exec sh -c \u0026#39;file \u0026#34;$0\u0026#34; | grep 8859 \u0026amp;\u0026amp; iconv -f gbk -t utf-8 \u0026#34;$0\u0026#34; | sponge \u0026#34;$0\u0026#34;\u0026#39; {} \\; 6# tabè½¬ç©ºæ ¼ 7 find ./ -name \u0026#34;*.[ch]\u0026#34; ! -type d -exec bash -c \u0026#39;expand -t 4 \u0026#34;$0\u0026#34; | sponge \u0026#34;$0\u0026#34;\u0026#39; {} \\; 8# å›è½¦æ ¼å¼è½¬æ¢ä¸ºLF 9 find ./ -name \u0026#34;*.[ch]\u0026#34; -exec dos2unix {} \\; # å•ä¸ª 10 find ./ -name \u0026#34;*.[ch]\u0026#34; -exec dos2unix {} + # æ‰¹é‡ 11 find ./ -name \u0026#34;*.[ch]\u0026#34; -print0 | xargs -0 dos2unix # æ‰¹é‡ 12# åŒæ—¶å¤šä¸ªç±»å‹ 13 find . \\( -name \u0026#34;*.[csh]\u0026#34; -o -name \u0026#34;*.txt\u0026#34; -o -name \u0026#34;*.ld\u0026#34; \\) -exec dos2unix {} + sed 1# æŸè¡Œæ’å…¥æ–‡æœ¬ 2sed -i \u0026#39;8a This is a test\u0026#39; regular_express.txt 3 4# å­—ç¬¦æ›¿æ¢ 5str=\u0026#34;hello world\u0026#34; 6echo\\${str//o/P} 7echo\\${str/o/P} 8# åŒºåˆ«æ˜¯stråé¢ä¸¤ä¸ª//å¯ä»¥å…¨å±€æ›¿æ¢ 9filestr=\\$(echo ${filestr}| sed \u0026#39;s/^/-add_set_file=/g\u0026#39; ) 10filestr=\\$(sed \u0026#39;s/^/-add_set_file=/g\u0026#39; \u0026lt;\u0026lt;\u0026lt;${filestr}) echoé¢œè‰² 1# å­—ä½“é¢œè‰² 2Black=\u0026#39;\\033[0;30m\u0026#39; # é»‘è‰² 3Red=\u0026#39;\\033[0;31m\u0026#39; # çº¢è‰² 4Green=\u0026#39;\\033[0;32m\u0026#39; # ç»¿è‰² 5Yellow=\u0026#39;\\033[0;33m\u0026#39; # é»„è‰² 6Blue=\u0026#39;\\033[0;34m\u0026#39; # è“è‰² 7Purple=\u0026#39;\\033[0;35m\u0026#39; # ç´«è‰² 8Cyan=\u0026#39;\\033[0;36m\u0026#39; # é’è‰² 9White=\u0026#39;\\033[0;37m\u0026#39; # ç™½è‰² 10 11# èƒŒæ™¯é¢œè‰² 12On_Black=\u0026#39;\\033[40m\u0026#39; # é»‘è‰²èƒŒæ™¯ 13On_Red=\u0026#39;\\033[41m\u0026#39; # çº¢è‰²èƒŒæ™¯ 14On_Green=\u0026#39;\\033[42m\u0026#39; # ç»¿è‰²èƒŒæ™¯ 15On_Yellow=\u0026#39;\\033[43m\u0026#39; # é»„è‰²èƒŒæ™¯ 16On_Blue=\u0026#39;\\033[44m\u0026#39; # è“è‰²èƒŒæ™¯ 17On_Purple=\u0026#39;\\033[45m\u0026#39; # ç´«è‰²èƒŒæ™¯ 18On_Cyan=\u0026#39;\\033[46m\u0026#39; # é’è‰²èƒŒæ™¯ 19On_White=\u0026#39;\\033[47m\u0026#39; # ç™½è‰²èƒŒæ™¯ 20 21# ç‰¹æ•ˆ 22NC=\u0026#39;\\033[0m\u0026#39; # æ— é¢œè‰²ï¼Œæ¸…é™¤é¢œè‰²è®¾ç½® 23Bold=\u0026#39;\\033[1m\u0026#39; # ç²—ä½“ 24Underline=\u0026#39;\\033[4m\u0026#39; # ä¸‹åˆ’çº¿ 25Blink=\u0026#39;\\033[5m\u0026#39; # é—ªçƒ 26Inverted=\u0026#39;\\033[7m\u0026#39; # åç™½æ˜¾ç¤º 27 28echo -e \u0026#34;$REDS********$ENDS\u0026#34; è‡ªåŠ¨è¡¥å…¨ alias hi=\u0026rsquo;$HOME/xxx/hi.sh' source hi_complete åœ¨hi.shä¸­æ·»åŠ å‚æ•°å¤„ç†é€»è¾‘å³å¯ 1complete -F _hi_complete hi 2 3_hi_complete() 4{ 5 local cur prev opts 6 COMPREPLY=() 7 cur=\u0026#34;${COMP_WORDS[COMP_CWORD]}\u0026#34; 8 prev=\u0026#34;${COMP_WORDS[COMP_CWORD-1]}\u0026#34; 9 local prev2=\u0026#34;${COMP_WORDS[COMP_CWORD-2]}\u0026#34; 10 11 case ${prev,,} in 12 \u0026#34;hi\u0026#34;) 13 opts=\u0026#34;build docker\u0026#34; 14 COMPREPLY=( $(compgen -W \u0026#39;${opts[@]}\u0026#39; -- $cur) ) 15 ;; 16 \u0026#34;docker\u0026#34;) 17 local docker_opts=(on off ps in) 18 COMPREPLY=( $(compgen -W \u0026#39;${docker_opts[@]}\u0026#39; -- $cur) ) 19 ;; 20 *) 21 _filedir 22 ;; 23 esac 24 25 # echo \u0026#39;cur=\u0026#39;$cur,\u0026#39;prev\u0026#39;=$prev,\u0026#39;prev2\u0026#39;=$prev2\u0026gt;\u0026gt;~/11.txt 26} æ·»åŠ ç”¨æˆ·/ç”¨æˆ·ç»„ 1# è¿›å…¥dockerä»¥åï¼Œæ–°å»ºä¸€ä¸ªå’Œä¸»æœºä¸Šç›¸åŒçš„ç”¨æˆ·ï¼Œç”¨æˆ·ç»„ 2sudo useradd bob 3sudo groupadd autosar 4sudo usermod -g autosar bob 5\t# usermod -aG autosar bob æ–°å¢ç”¨æˆ·ç»„ï¼› -g ç›´æ¥ä¿®æ”¹ 6sudo mkdir /home/bob 7sudo chown bob:autosar /home/bob/ 8 9# æŠŠdockerä¸­çš„idä¿®æ”¹ä¸ºä¸»æœºä¸Šç›¸åŒçš„id 10cat /etc/passwd | grep bob 11# è®°å½•ç”¨æˆ·id ç”¨æˆ·ç»„id bob:x:1006:1001:bob:/home/bob:/bin/sh 12sudo usermod -u 1006 bob 13sudo groupmod -g 1001 autosar 14 15# åç»­å…±äº«ç›®å½•æ”¾åˆ°è‡ªå·±çš„ç”¨æˆ·ç›®å½•ä¸­ æŒ‚è½½ç½‘ç»œç›®å½• 1sshfs cn@172.22.22.230:/mnt/hgfs/test/ test/ 2# å¸è½½ 3fusermount -u /path/to/local/mountpoint wget 1wget -r -np -nH --cut-dirs=3 -R \u0026#34;index.html*\u0026#34; \u0026#34;http://xxxxx/yy/zzz/dir/\u0026#34; 2 3 4å‘½ä»¤å‚æ•°çš„è§£é‡Šï¼š 5 6-r æˆ– --recursiveï¼šé€’å½’ä¸‹è½½ã€‚ 7-np æˆ– --no-parentï¼šä¸ä¸‹è½½çˆ¶ç›®å½•ï¼Œé¿å…çˆ¬å‡åˆ°çˆ¶ç›®å½•ä¸­å»ã€‚ 8-nH æˆ– --no-host-directoriesï¼šç¦æ­¢åˆ›å»ºåŒ…å«æœåŠ¡å™¨åçš„ç›®å½•ã€‚ 9--cut-dirs=3ï¼šè·³è¿‡è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„å‰3ä¸ªç›®å½•å±‚çº§ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œyy/zzz/dir/ è¢«å¿½ç•¥ã€‚è°ƒæ•´è¿™ä¸ªæ•°å­—æ ¹æ®å®é™…çš„URLè·¯å¾„ã€‚ 10-R \u0026#34;index.html*\u0026#34;ï¼šæ‹’ç»ä¸‹è½½æ‰€æœ‰ä»¥index.htmlå¼€å¤´çš„æ–‡ä»¶ï¼ˆè¿™é€šå¸¸æ˜¯æœåŠ¡å™¨ç”Ÿæˆçš„ç›®å½•ç´¢å¼•é¡µé¢ï¼‰ã€‚ 11æœ€åæ˜¯æ‚¨è¦ä¸‹è½½çš„URLã€‚ 12è¯¥å‘½ä»¤ä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ä¸‹è½½æ–‡ä»¶å’Œç›®å½•çš„ç»“æ„ï¼Œå¿½ç•¥ä¸Šè¿°æåˆ°çš„ç›®å½•å±‚çº§ã€‚ gerrit æŸ¥è¯¢å½“å‰patch\n1#!/bin/sh 2 3# Automatically trigger jenkins compilation 4# */20 10-21 * * * /home/xxx/test.sh 5 6# ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ DO NOT EDIT ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 7# exclude_times=(\u0026#34;12:00\u0026#34; \u0026#34;18:00\u0026#34; \u0026#34;21:00\u0026#34;) 8# [[ \u0026#34; ${exclude_times[*]} \u0026#34; =~ \u0026#34; $(date \u0026#39;+%H:%M\u0026#39;) \u0026#34; ]] \u0026amp;\u0026amp; exit 0 9 10cd /home/xxx 11 12current_timestamp=$(date +%s) 13logfile=\u0026#39;/home/xxx/test.log\u0026#39; 14sed -i \u0026#34;1i$(date +\u0026#34;%Y.%m.%d %H:%M:%S\u0026#34;)\u0026#34; $logfile 15 16ssh -p 22 test@gerrit3.xxx.com gerrit query is:open project:code/test/branch/xxx --patch-sets --format json \\ 17| jq -r \u0026#39;select(.branch == \u0026#34;codebase_rtos_dev\u0026#34;) | [.owner.email, (.patchSets | max_by(.number).createdOn), (.patchSets | max_by(.number).ref)] | @tsv\u0026#39; | while IFS=$\u0026#39;\\t\u0026#39; read -r -a array; do 18 userName=$(echo \u0026#34;${array[0]}\u0026#34; | cut -d \u0026#34;@\u0026#34; -f 1) 19 20 # echo \u0026#34;${array[0]} ${array[1]} ${array[2]}\u0026#34; # email, time, ref 21 # if [[ $userName != \u0026#34;test\u0026#34; \u0026amp;\u0026amp; $userName != \u0026#34;abc\u0026#34; ]]; then 22 # continue 23 # fi 24 sed -i \u0026#34;2i\\ $(printf \u0026#34;%-16s\u0026#34; \u0026#34;$userName\u0026#34;) ${array[2]} $(date -d@${array[1]} +\u0026#34;%m/%d %H:%M:%S\u0026#34;) $(date -d@${current_timestamp} +\u0026#34;%m/%d %H:%M:%S\u0026#34;)\u0026#34; $logfile 25 26 time_diff=$((current_timestamp - array[1])) 27 if ((time_diff \u0026lt; 20*60)); then # delay require time 28 patchUrl=\u0026#39;git pull \u0026#34;ssh://\u0026#39;$userName\u0026#39;@gerrit3.xxx.com:22/code/test/branch/xxx\u0026#34; \u0026#39;${array[2]} 29 patchParam=\u0026#39;imagepath=\u0026#39;$(echo $patchUrl | sed \u0026#39;s/ /%20/g\u0026#39; | sed \u0026#39;s/\u0026#34;/%22/g\u0026#39;)\u0026#39;\u0026amp;build_all=yes\u0026amp;autotest=yes\u0026#39; 30 projectNames=(\u0026#39;test_build_1\u0026#39;) 31 for projectName in \u0026#34;${projectNames[@]}\u0026#34; 32 do 33 curlParam=\u0026#39;rtosuser:rtos@user123 xxx:443/job/test_build_1/job/\u0026#39;$projectName\u0026#39;/buildWithParameters?token=123456\u0026amp;\u0026#39;$patchParam 34 curl -u $curlParam 35 sed -i \u0026#34;3i\\ curl -u $curlParam\u0026#34; $logfile 36 done 37 fi 38doneæŸ¥è¯¢æ­£åœ¨è¿è¡Œjenkinsä»»åŠ¡ï¼Œå¹¶å–æ¶ˆæ’é˜Ÿçš„é‡å¤ä»»åŠ¡\n1import subprocess 2import requests 3import re 4from requests.utils import dict_from_cookiejar 5 6logfile = \u0026#34;/home/xxx/test.log\u0026#34; 7subprocess.run(f\u0026#39;sed -i \u0026#34;2i\\ _cancelItem_:\u0026#34; {logfile}\u0026#39; , shell=True) 8 9jenkins_url = \u0026#34;http://xxx:443/\u0026#34; 10username = \u0026#34;test\u0026#34; 11password = \u0026#34;xxx123\u0026#34; 12 13response = requests.get(f\u0026#39;{jenkins_url}queue/api/json\u0026#39;, auth=(username, password)) 14data = response.json() 15# get block job list 16g_patchUrlList = [] 17for item in data[\u0026#39;items\u0026#39;]: 18 if item[\u0026#39;task\u0026#39;][\u0026#39;name\u0026#39;] == \u0026#39;test_build_1\u0026#39;: 19 item_id = item[\u0026#34;id\u0026#34;] 20 causes_action = next((action for action in item[\u0026#39;actions\u0026#39;] if action[\u0026#39;_class\u0026#39;] == \u0026#39;hudson.model.CauseAction\u0026#39;), None) 21 startType = causes_action[\u0026#39;causes\u0026#39;][0][\u0026#39;_class\u0026#39;] if causes_action else None 22 if item[\u0026#34;blocked\u0026#34;] and not item[\u0026#34;buildable\u0026#34;]: 23 if startType == \u0026#39;hudson.model.Cause$RemoteCause\u0026#39; or 1: 24 parameters = next((action[\u0026#39;parameters\u0026#39;] for action in item[\u0026#39;actions\u0026#39;] if action[\u0026#39;_class\u0026#39;] == \u0026#39;hudson.model.ParametersAction\u0026#39;), []) 25 patchUrl = next((param[\u0026#39;value\u0026#39;] for param in parameters if param[\u0026#39;name\u0026#39;] == \u0026#39;imagepath\u0026#39;)).split()[-1] 26 g_patchUrlList.append([item_id, patchUrl]) 27 28g_patchSet = set(re.search(r\u0026#34;(.*)/\\d+$\u0026#34;, y).group(1) for x, y in g_patchUrlList) 29# cancel multi job 30if len(g_patchSet) \u0026gt; 0: 31 response = requests.get(f\u0026#34;{jenkins_url}crumbIssuer/api/xml?xpath=concat(//crumbRequestField,\\\u0026#34;:\\\u0026#34;,//crumb)\u0026#34;, auth=(username, password)) 32 crumb = response.text.split(\u0026#34;:\u0026#34;) 33 cookies = dict_from_cookiejar(response.cookies) 34 headers = { 35 \u0026#34;Jenkins-Crumb\u0026#34;: crumb[1], 36 \u0026#34;Cookie\u0026#34;: \u0026#34;; \u0026#34;.join([f\u0026#34;{name}={value}\u0026#34; for name, value in cookies.items()]) 37 } 38for patch in g_patchSet: 39 tmpList = [x for x, y in g_patchUrlList if patch in y ] 40 tmpList.remove(max(tmpList)) 41 for id in tmpList: 42 cancelUrl = f\u0026#34;{jenkins_url}queue/cancelItem?id={id}\u0026#34; 43 response = requests.post(cancelUrl, auth=(username, password), headers=headers) 44 45 subprocess.run(f\u0026#39;sed -i \u0026#34;3i\\ {next(y for x, y in g_patchUrlList if x == id)} {response.status_code} {response.reason}\u0026#34; {logfile}\u0026#39; , shell=True) gerrit ä¸ jenkins é›†æˆäº’é€š Gerit:\nç®¡ç†å‘˜ç™»å½•gerrit, http:/xxxxx/admin/repos/All-Projects,access Global Capabilities-\u0026gt;Stream Events æ·»åŠ ç”¨æˆ· jenkins Reference: refs/heads/* Label Code-Review: -1, +1 jenkins Label Verified: -1, +1 jenkins Jenkins: å®‰è£…æ’ä»¶ï¼š Gerrit Trigger æ–°å»ºgerrit trigger æœåŠ¡ æ·»åŠ jenkinsèŠ‚ç‚¹ï¼šhttps://www.cnblogs.com/sky-cheng/p/14931503.html\ntab å¿½ç•¥å¤§å°å†™ vim ~/.inputrc\n1# do not show hidden files in the list 2set match-hidden-files off 3 4# auto complete ignoring case 5set show-all-if-ambiguous on 6set completion-ignore-case on 7# ä¿å­˜é‡å¯ç»ˆç«¯ minicom winä¸‹minicomï¼Œctrl a + q è¦å¿« ä¸èƒ½å›è½¦è¾“å…¥çš„è¯ï¼Œminicom -s æŠŠæµæ§å…³é—­\n1#!/bin/sh 2 3ls /dev/ttyS* 4 5if [ -z \u0026#34;$1\u0026#34; ]; then 6 read -p \u0026#34;please input a num:\u0026#34; num 7else 8 num=$1 9fi 10 11minicom -b 115200 -D /dev/ttyS$numssh winä¹‹åä½¿ç”¨ minicomï¼Œ1.mobaxtermèƒ½ç”¨ï¼Œ2.é€šè¿‡gitbashå¥—ç”¨ï¼Œç„¶åæ”¹ä¸€ä¸‹.bashrcé…ç½®\n1\u0026#34;c:\\Program Files\\git\\bin\\bash.exe\u0026#34; -c \u0026#34;/c/Users/xxx/AppData/Roaming/Mobaxterm/slash/bin/bash.exe -i\u0026#34; 2 3c:\\Users\\xxx\\AppData\\Roaming\\MobaXterm\\slash\\bin\\bash.exe -i bat 1:: çŸ­è·¯å¾„ï¼Œ å¦‚ PROGRA~1 Program Files 2dir /x C:\\ 3 4:: è¿›å…¥è„šæœ¬æ‰€åœ¨ç›®å‰ 5cd /d \u0026#34;%~dp0\u0026#34; 6:: å½“å‰å‘½ä»¤æç¤ºç¬¦çš„ç›®å½• 7cd %cd% 8:: æ—¥æœŸæ—¶é—´ 9echo %date% %time% 10 11:: å»¶æ—¶å¯åŠ¨ 12timeout /T 10 /NOBREAK 13start cmd /C x.bat 14 15:: åˆ é™¤æ–‡ä»¶å¤¹ 16rmdir /s /q build 17del filename 18 19:: 20mklink /D link target 21 22:: powershell ç«¯å£æ£€æµ‹ 23test-netconnection domain.com -p port è®¾ç½®ipåœ°å€ 1netsh interface ip set address name=\u0026#34;ä»¥å¤ªç½‘ 2\u0026#34; static 192.168.1.10 255.255.255.0 2netsh interface ip set address name=\u0026#34;ä»¥å¤ªç½‘ 2\u0026#34; dhcp bat è®¡ç®—æ—¶åˆ†ç§’ 1set /a n=0 2for /f \u0026#34;tokens=1-8 delims=.: \u0026#34; %%a in (\u0026#34;%etime%:%stime%\u0026#34;) do ( 3set /a n+=10%%a%%100*360000+10%%b%%100*6000+10%%c%%100*100+10%%d%%100 4set /a n-=10%%e%%100*360000+10%%f%%100*6000+10%%g%%100*100+10%%h%%100) 5set /a s=n/360000,n=n%%360000,f=n/6000,n=n%%6000,m=n/100,n=n%%100 6 7echo time:%s%:%f%:%m% è®¡åˆ’ä»»åŠ¡/æ€æ‰ä»»åŠ¡/åœæ­¢æœåŠ¡ 1@echo off 2 3setlocal enabledelayedexpansion 4 5%1 mshta vbscript:createobject(\u0026#34;shell.application\u0026#34;).shellexecute(\u0026#34;\u0026#34;\u0026#34;%~0\u0026#34;\u0026#34;\u0026#34;,\u0026#34;::\u0026#34;,,\u0026#34;runas\u0026#34;,1)(window.close)\u0026amp;\u0026amp;exit /b 6CD /D \u0026#34;%~dp0\u0026#34; 7:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::: 8 9echo %cd% 10 11@REM schtasks /Delete /TN \u0026#34;xx1\u0026#34; /F 12 13schtasks /Change /TN \u0026#34;xx1\u0026#34; /DISABLE 14 15schtasks /query /TN \u0026#34;xx1\u0026#34; 16 17taskkill /F /IM xx1.exe 18 19:: åœæ­¢æœåŠ¡ 20net stop \u0026#34;xx\u0026#34; 21 22pause 23 24exit 0 winè‡ªåŠ¨ä¸ŠæŠ¥ipåœ°å€ 1@echo off 2setlocal enabledelayedexpansion 3 4:: åˆå§‹åŒ–å˜é‡ 5set \u0026#34;ip_str=test_123 %DATE% %TIME% ip: \u0026#34; 6 7:: ä½¿ç”¨ for /f å‘½ä»¤å¾ªç¯è§£æ ipconfig è¾“å‡ºï¼Œåªå–IPv4åœ°å€è¡Œçš„ç¬¬äºŒä¸ªå­—æ®µï¼ˆå³IPåœ°å€ï¼‰ 8for /f \u0026#34;tokens=2 delims=:\u0026#34; %%a in (\u0026#39;ipconfig ^| findstr /i \u0026#34;IPv4\u0026#34;\u0026#39;) do ( 9 set \u0026#34;ip=%%a\u0026#34; 10 :: åˆ é™¤å‰å¯¼å’Œå°¾éšç©ºæ ¼ 11 set \u0026#34;ip=!ip:~1!\u0026#34; 12 :: å°†æ‰¾åˆ°çš„IPåœ°å€æ·»åŠ åˆ°ip_strï¼Œä»¥ç©ºæ ¼åˆ†éš” 13 if defined ip_str ( 14 set \u0026#34;ip_str=!ip_str! !ip!\u0026#34; 15 ) else ( 16 set \u0026#34;ip_str=!ip!\u0026#34; 17 ) 18) 19 20:: è¾“å‡ºæ‰€æœ‰æ‹¼æ¥çš„IPv4åœ°å€ 21echo !ip_str! 22 23ssh -p 22 user@xxxx \u0026#34;echo !ip_str! \u0026gt; /home/test/ip.txt\u0026#34; æ™®é€šç”¨æˆ·é€šè¿‡ç®¡ç†å‘˜ææƒ 1@echo off 2:: ææƒæ‰§è¡Œè„šæœ¬ï¼Œæ¯”å¦‚ä¸‹é¢çš„è„šæœ¬è®¾ç½®è®¿é—®æƒé™ 3runas /user:Administrator \u0026#34;cmd /c %CD%\\test.bat\u0026#34; 4 5:: ææƒå®‰è£…è½¯ä»¶ 6:: runas /user:Administrator \u0026#34;cmd /c %CD%\\setup.exe /S\u0026#34; 1@echo off 2setlocal 3 4:: è®¾ç½®ç›®æ ‡ç›®å½• 5set \u0026#34;folder_path=C:\\a2c\u0026#34; 6 7:: åˆ›å»ºç›®å½• 8mkdir \u0026#34;%folder_path%\u0026#34; 9if %errorlevel% neq 0 ( 10 echo åˆ›å»ºç›®å½•å¤±è´¥ï¼š%folder_path% 11 exit /b %errorlevel% 12) 13 14:: æˆäºˆæ‰€æœ‰ç”¨æˆ·ï¼ˆEveryoneï¼‰å®Œå…¨æ§åˆ¶æƒé™ 15icacls \u0026#34;%folder_path%\u0026#34; /grant \u0026#34;Everyone:(OI)(CI)F\u0026#34; /T 16if %errorlevel% neq 0 ( 17 echo è®¾ç½®æƒé™å¤±è´¥ï¼š%folder_path% 18 exit /b %errorlevel% 19) 20 21echo ç›®å½•åˆ›å»ºæˆåŠŸå¹¶å·²æˆäºˆæ‰€æœ‰ç”¨æˆ·å®Œå…¨æ§åˆ¶æƒé™ï¼š%folder_path% 22pause å³é”®æ‰“å¼€å‘½ä»¤çª—å£ 1Windows Registry Editor Version 5.00 2 3[HKEY_CLASSES_ROOT\\Directory\\shell\\OpenCmdHere] 4@=\u0026#34;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\u0026#34; 5\u0026#34;Icon\u0026#34;=\u0026#34;cmd.exe\u0026#34; 6 7[HKEY_CLASSES_ROOT\\Directory\\shell\\OpenCmdHere\\command] 8@=\u0026#34;cmd.exe /s /k pushd \\\u0026#34;%V\\\u0026#34;\u0026#34; 9 10[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\OpenCmdHere] 11@=\u0026#34;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\u0026#34; 12\u0026#34;Icon\u0026#34;=\u0026#34;cmd.exe\u0026#34; 13 14[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\OpenCmdHere\\command] 15@=\u0026#34;cmd.exe /s /k pushd \\\u0026#34;%V\\\u0026#34;\u0026#34; 16 17[HKEY_CLASSES_ROOT\\Drive\\shell\\OpenCmdHere] 18@=\u0026#34;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\u0026#34; 19\u0026#34;Icon\u0026#34;=\u0026#34;cmd.exe\u0026#34; 20 21[HKEY_CLASSES_ROOT\\Drive\\shell\\OpenCmdHere\\command] 22@=\u0026#34;cmd.exe /s /k pushd \\\u0026#34;%V\\\u0026#34;\u0026#34; 23 24[HKEY_CLASSES_ROOT\\LibraryFolder\\background\\shell\\OpenCmdHere] 25@=\u0026#34;åœ¨æ­¤å¤„æ‰“å¼€å‘½ä»¤çª—å£\u0026#34; 26\u0026#34;Icon\u0026#34;=\u0026#34;cmd.exe\u0026#34; 27 28[HKEY_CLASSES_ROOT\\LibraryFolder\\background\\shell\\OpenCmdHere\\command] 29@=\u0026#34;cmd.exe /s /k pushd \\\u0026#34;%V\\\u0026#34;\u0026#34; 30 31 32[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\runas] 33@=\u0026#34;ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡ŒCMD\u0026#34; 34\u0026#34;Icon\u0026#34;=\u0026#34;D:\\\\app\\\\ico\\\\t.ico\u0026#34; 35 36[HKEY_CLASSES_ROOT\\Directory\\Background\\shell\\runas\\command] 37\u0026#34;ShowBasedOnVelocityId\u0026#34;=dword:00639bc8 38@=\u0026#34;cmd.exe /s /k pushd \\\u0026#34;%V\\\u0026#34;\u0026#34; é˜²ç«å¢™é˜»æ­¢å‡ºå…¥ç«™ 1@echo off 2 3:: setlocal ENABLEDELAYEDEXPANSION 4:: mode con: cols=65 lines=25 5:: color 0a 6:: rem æ‰¹å¤„ç†è·å–ç®¡ç†å‘˜æƒé™ 7:: :------------------------------------- 8:: %1 mshta vbscript:createobject(\u0026#34;shell.application\u0026#34;).shellexecute(\u0026#34;\u0026#34;\u0026#34;%~0\u0026#34;\u0026#34;\u0026#34;,\u0026#34;::\u0026#34;,,\u0026#34;runas\u0026#34;,1)(window.close)\u0026amp;\u0026amp;exit /b 9:: CD /D \u0026#34;%~dp0\u0026#34; 10:: :------------------------------------- 11 12 13:begin 14 15rem æ¥æ”¶è¾“å…¥ 16 17set name= 18set Fpath= 19set /p name=Input software name: 20set /p Fpath=software path (C:Program FilesWinRAR): 21 22rem è¾“å‡ºå¾—åˆ°çš„è¾“å…¥ä¿¡æ¯ 23echo Input software name: %name% 24echo software path: %Fpath% 25 26 27echo \u0026#34;Please cancel: Ctrl+C\u0026#34; 28pause 29 30setlocal enabledelayedexpansion 31set /a n=0 32for /r \u0026#34;%Fpath%\u0026#34; %%i in (*.exe) do ( 33 set /a n+=1 34 echo \u0026#34;%name%_!n!\u0026#34;,\u0026#34;%%i\u0026#34; 35 netsh advfirewall firewall del rule name=\u0026#34;a_user_%name%_!n!\u0026#34;\u0026gt;nul 2\u0026gt;nul 36 netsh advfirewall firewall add rule name=\u0026#34;a_user_%name%_!n!\u0026#34; program=\u0026#34;%%i\u0026#34; action=block dir=out\u0026gt;null 37 netsh advfirewall firewall add rule name=\u0026#34;a_user_%name%_!n!\u0026#34; program=\u0026#34;%%i\u0026#34; action=block dir=in\u0026gt;null 38 echo block %name%_!n! ok ~~~ 39) 40 41rem pause\u0026gt;null 42 43echo. 44 45rem ä»beginæ ‡ç­¾å‡ºï¼Œå†æ¬¡è¿è¡Œ 46goto begin 47 48 49::å¦‚æœè¦ç¦æ­¢å…¥ç«™è§„åˆ™ï¼Œå°† action=block dir=out\u0026gt;nullï¼Œä¸­çš„outæ”¹ä¸ºinï¼Œå…¶ä»–ç…§æ—§ æ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼åŸºæœ¬ç‚¹ï¼š ç¬¦å· ç”¨æ³• \\ å°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ª å‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œ\u0026rsquo;n\u0026rsquo; åŒ¹é…å­—ç¬¦ \u0026ldquo;n\u0026rdquo;ã€‚\u0026rsquo;\\n\u0026rsquo; åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚åºåˆ— \u0026lsquo;\\\\\u0026rsquo; åŒ¹é… \u0026ldquo;\\\u0026rdquo; è€Œ \u0026ldquo;\\(\u0026rdquo; åˆ™åŒ¹é… \u0026ldquo;(\u0026quot;ã€‚ ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ^ ä¹ŸåŒ¹é… \u0026lsquo;\\n\u0026rsquo; æˆ– \u0026lsquo;\\r\u0026rsquo; ä¹‹åçš„ä½ç½®ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“æŸä½ç½®ã€‚å¦‚æœè®¾ç½®äº†RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œ$ ä¹ŸåŒ¹é… \u0026lsquo;\\n\u0026rsquo; æˆ– \u0026lsquo;\\r\u0026rsquo; ä¹‹å‰çš„ä½ç½®ã€‚ * åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo* èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo; ä»¥åŠ \u0026ldquo;zoo\u0026rdquo;ã€‚* ç­‰ä»·äº{0,}ã€‚ + åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;zo+\u0026rsquo; èƒ½åŒ¹é… \u0026ldquo;zo\u0026rdquo; ä»¥åŠ \u0026ldquo;zoo\u0026rdquo;ï¼Œä½†ä¸èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo;ã€‚+ ç­‰ä»·äº {1,}ã€‚ ? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;do(es)?\u0026rdquo; å¯ä»¥åŒ¹é… \u0026ldquo;do\u0026rdquo; æˆ– \u0026ldquo;does\u0026rdquo; ã€‚? ç­‰ä»·äº {0,1}ã€‚ {n} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚åŒ¹é…ç¡®å®šçš„ n æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;o{2}\u0026rsquo; ä¸èƒ½åŒ¹é… \u0026ldquo;Bob\u0026rdquo; ä¸­çš„ \u0026lsquo;o\u0026rsquo;ï¼Œä½†æ˜¯èƒ½åŒ¹é… \u0026ldquo;food\u0026rdquo; ä¸­çš„ä¸¤ä¸ª oã€‚ {n,} n æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é…n æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;o{2,}\u0026rsquo; ä¸èƒ½åŒ¹é… \u0026ldquo;Bob\u0026rdquo; ä¸­çš„ \u0026lsquo;o\u0026rsquo;ï¼Œä½†èƒ½åŒ¹é… \u0026ldquo;foooood\u0026rdquo; ä¸­çš„æ‰€æœ‰ oã€‚\u0026lsquo;o{1,}\u0026rsquo; ç­‰ä»·äº \u0026lsquo;o+\u0026rsquo;ã€‚\u0026lsquo;o{0,}\u0026rsquo; åˆ™ç­‰ä»·äº \u0026lsquo;o*\u0026rsquo;ã€‚ {n,m} m å’Œ n å‡ä¸ºéè´Ÿæ•´æ•°ï¼Œå…¶ä¸­n \u0026lt;= mã€‚æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡ã€‚ä¾‹å¦‚ï¼Œ\u0026ldquo;o{1,3}\u0026rdquo; å°†åŒ¹é… \u0026ldquo;fooooood\u0026rdquo; ä¸­çš„å‰ä¸‰ä¸ª oã€‚\u0026lsquo;o{0,1}\u0026rsquo; ç­‰ä»·äº \u0026lsquo;o?\u0026rsquo;ã€‚è¯·æ³¨æ„åœ¨é€—å·å’Œä¸¤ä¸ªæ•°ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ã€‚ ? å½“è¯¥å­—ç¬¦ç´§è·Ÿåœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–é™åˆ¶ç¬¦ (*, +, ?, {n}, {n,}, {n,m}) åé¢æ—¶ï¼ŒåŒ¹é…æ¨¡å¼æ˜¯éè´ªå©ªçš„ã€‚éè´ªå©ªæ¨¡å¼å°½å¯èƒ½å°‘çš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œè€Œé»˜è®¤çš„è´ªå©ªæ¨¡å¼åˆ™å°½å¯èƒ½å¤šçš„åŒ¹é…æ‰€æœç´¢çš„å­—ç¬¦ä¸²ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå­—ç¬¦ä¸² \u0026ldquo;oooo\u0026rdquo;ï¼Œ\u0026lsquo;o+?\u0026rsquo; å°†åŒ¹é…å•ä¸ª \u0026ldquo;o\u0026rdquo;ï¼Œè€Œ \u0026lsquo;o+\u0026rsquo; å°†åŒ¹é…æ‰€æœ‰ \u0026lsquo;o\u0026rsquo;ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ï¼ˆ\\nã€\\rï¼‰ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è¦åŒ¹é…åŒ…æ‹¬ \u0026lsquo;\\n\u0026rsquo; åœ¨å†…çš„ä»»ä½•å­—ç¬¦ï¼Œè¯·ä½¿ç”¨åƒ\u0026rdquo;(.|\\n)\u0026ldquo;çš„æ¨¡å¼ã€‚ \\s åŒ¹é…ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰ç­‰ã€‚ç­‰ä»·äº [\\f\\n\\r\\t\\v]ã€‚ \\S åŒ¹é…ä»»ä½•éç©ºç™½å­—ç¬¦ã€‚ç­‰ä»·äº [^\\f\\n\\r\\t\\v]ã€‚ \\w åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº\u0026rsquo;[A-Za-z0-9_]\u0026rsquo;ã€‚ (pattern) åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ã€‚æ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ï¼Œåœ¨VBScript ä¸­ä½¿ç”¨ SubMatches é›†åˆï¼Œåœ¨JScript ä¸­åˆ™ä½¿ç”¨ $0â€¦$9 å±æ€§ã€‚è¦åŒ¹é…åœ†æ‹¬å·å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \u0026lsquo;\\(\u0026rsquo; æˆ– \u0026lsquo;\\)\u0026rsquo;ã€‚ x|y åŒ¹é… x æˆ– yã€‚ä¾‹å¦‚ï¼Œ\u0026lsquo;z|food\u0026rsquo; èƒ½åŒ¹é… \u0026ldquo;z\u0026rdquo; æˆ– \u0026ldquo;food\u0026rdquo;ã€‚\u0026rsquo;(z|f)ood\u0026rsquo; åˆ™åŒ¹é… \u0026ldquo;zood\u0026rdquo; æˆ– \u0026ldquo;food\u0026rdquo;ã€‚ [xyz] å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u0026lsquo;[abc]\u0026rsquo; å¯ä»¥åŒ¹é… \u0026ldquo;plain\u0026rdquo; ä¸­çš„ \u0026lsquo;a\u0026rsquo;ã€‚ [^xyz] è´Ÿå€¼å­—ç¬¦é›†åˆã€‚åŒ¹é…æœªåŒ…å«çš„ä»»æ„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ \u0026lsquo;[^abc]\u0026rsquo; å¯ä»¥åŒ¹é… \u0026ldquo;plain\u0026rdquo; ä¸­çš„\u0026rsquo;p\u0026rsquo;ã€\u0026rsquo;l\u0026rsquo;ã€\u0026lsquo;i\u0026rsquo;ã€\u0026rsquo;n\u0026rsquo;ã€‚ \\x20 åŒ¹é…ç©ºæ ¼å­—ç¬¦ [\\u4e00-\\u9fa5] ä¸­æ–‡ (?!\u0026hellip;) è´Ÿå‰ç», æ–­è¨€åé¢çš„ä½ç½®ä¸åŒ¹é…æ‹¬å·å†…çš„å†…å®¹ \\b(?!cat)\\w+ åŒ¹é…ä¸ä»¥ cat å¼€å¤´çš„å•è¯,\\bï¼šå•è¯è¾¹ç•Œ è¯¦ç»†å¯å‚è€ƒï¼šæ­£åˆ™è¡¨è¾¾å¼ â€“ æ•™ç¨‹ | èœé¸Ÿæ•™ç¨‹\nCmake debugä¿¡æ¯ 1message(FATAL_ERROR xxxxxx ) 2// FATAL_ERROR SEND_ERROR WARNING AUTHOR_WARNING STATUS DEBUG TRACE ç”Ÿæˆä¸­é—´æ–‡ä»¶ 1set(CMAKE_C_FLAGS \u0026#34;${CMAKE_C_FLAGS} -save-temps=obj\u0026#34;)å°†ä¿å­˜ä¸­é—´æ–‡ä»¶ï¼Œä»¥å¯¹è±¡æ–‡ä»¶ï¼ˆ.objï¼‰çš„å½¢å¼ åˆ†ææºæ–‡ä»¶å®å±•å¼€ä¹‹åçš„ä»£ç ï¼Œç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶example.c.i\nGit ssh-keygen -t ed25519 -f ./id_ed25519 -C \u0026ldquo;@.com\u0026rdquo;\næœ¬åœ°ä»“åº“åŒæ­¥ 1git config receive.denyCurrentBranch ignore 2#å®é™….git/config æ–‡ä»¶ä¸­æ·»åŠ  3#[receive] 4# denyCurrentBranch =ignore Gitå‘½ä»¤è‡ªåŠ¨è¡¥å…¨ å‚è€ƒï¼šhttps://www.cnblogs.com/kinwing/p/11670577.html\n1# ä¸‹è½½é…ç½®æ–‡ä»¶ git clone git://git.kernel.org/pub/scm/git/git.git 2# linuxå¯èƒ½è‡ªå¸¦æ— éœ€ä¸‹è½½ï¼Œæœç´¢æ–‡ä»¶ git-completion.bash 3cp git/contrib/completion/git-completion.bash ~/.git-completion.bash 4# åœ¨.bashrcä¸­æ·»åŠ  5source ~/.git-completion.bash 6source ~/.bashrc .gitconfig 1git config --global core.filemode false 2git config --global core.autocrlf false 3git config --unset-all core.filemode 4git config --global --list 5git config --local --list 6 7# git config --global alias.gc \u0026#39;auto = 256\u0026#39; 8[core] 9 autocrlf = false 10 filemode = true 11 preloadindex = true 12 fscache = true 13[alias] 14 co = checkout 15 br = branch 16 ci = commit 17 st = status 18 lg = log 19 df = diff 20 dfst = diff --stat 21 dfcst = diff --cached --stat 22 dfc = diff --cached 23 ss = stash 24 sl = stash list 25 sp = stash pop 26 cino = commit --amend --no-edit 27 # pushx = \u0026#34;!f() { git push \\\u0026#34;$@\\\u0026#34; \u0026amp;\u0026amp; .git/hooks/post-push; }; f\u0026#34; 28[color] 29 ui = auto .ssh/config è‹¥æ˜¯winå®‰è£…gitåä¸èƒ½ä½¿ç”¨pullï¼Œå¯ä»¥å…ˆè¿›è¡Œå¦‚ä¸‹é…ç½® åœ¨ç§˜é’¥è·¯å¾„ä¸­ å¦‚ C:\\Users\\xxx.ssh æ·»åŠ  config æ–‡ä»¶ï¼Œå¦‚ä¸‹é…ç½®\n1Host xxxx.com 2HostkeyAlgorithms +ssh-rsa 3PubkeyAcceptedAlgorithms +ssh-rsa 4 5# StrictHostKeyChecking no 6# UserKnownHostsFile /dev/null 7 8# ç‰¹å®škeyé…ç½®ï¼Œæ²¡æœ‰é…ç½®é»˜è®¤ä½¿ç”¨ id_rsa 9Host xxx1.com 10 IdentityFile ~/.ssh/id_rsa 11 IdentityFile ~/.ssh/id_rsa_1 12Host xxx2.com 13 IdentityFile ~/.ssh/id_rsa_2 githubå¤šç”¨æˆ· 1# æµ‹è¯•é“¾æ¥ 2ssh -T -vvv git@github.com 3# é…ç½® config æ–‡ä»¶ 4# æ·»åŠ  Host github.com IdentityFile ~/.ssh/id_ed25519 5 6# æµ‹è¯• git clone æ—¥å¿—debug 7GIT_SSH_COMMAND=\u0026#34;ssh -v\u0026#34; git clone git@github.com:Genymobile/scrcpy.git 1# ~/.ssh/config æ–‡ä»¶æ–°å¢å¦‚ä¸‹å†…å®¹ 2Host user1.github.com 3 HostName github.com 4 IdentityFile ~/.ssh/user1_ed25519 5 6Host user2.github.com 7 HostName github.com 8 IdentityFile ~/.ssh/user2_ed25519 9 10# ä¸Šé¢çš„é…ç½®å¯èƒ½ç”±äº22æ–­å¼€è¢«å°ï¼Œå‡ºç°é”™è¯¯ï¼šConnection closed by remote host 11# å‚è€ƒ https://paugram.com/tech/github-ssh-connection-closed-problem-with-proxy.html 12Host user1.github.com 13 HostName ssh.github.com 14 User git 15 Port 443 16\tPreferredAuthentications publickey 17 IdentityFile ~/.ssh/user1_ed25519 18 19Host user2.github.com 20 HostName ssh.github.com 21 User git 22 Port 443 23\tPreferredAuthentications publickey 24 IdentityFile ~/.ssh/user2_ed25519 25 26 27# ç”¨æ³• 28# git clone git@github.com:Genymobile/scrcpy.git æ›¿æ¢ä¸ºå¦‚ä¸‹å³å¯ 29git clone git@user1.github.com:Genymobile/scrcpy.git 30 31# å¤šä¸ªç”¨æˆ·å¯èƒ½ä¼šé…ç½®å¤šä¸ªç”¨æˆ·åå’Œé‚®ç®±ï¼Œåœ¨æ¯ä¸ªä»“åº“å•ç‹¬é…ç½®å³å¯ 32git config --local user.name \u0026#34;your_name\u0026#34; 33git config --local user.email \u0026#34;your_eamil\u0026#34; githubæŸ¥çœ‹ä»“åº“å¤§å° ç›´è¾¾é“¾æ¥ï¼šhttps://github.com/settings/repositories\nä¿®æ”¹åˆ†æ”¯å 1# å…ˆåˆ‡æ¢æ‰€åœ¨åˆ†æ”¯ 2git checkout -b oldname origin/oldname 3# ä¿®æ”¹åˆ†æ”¯å 4git branch -m newname 5# åˆ é™¤è¿œç¨‹åˆ†æ”¯ 6git push origin --delete oldname 7# æ¨é€æ–°åˆ†æ”¯ï¼Œå¦‚æœä¸è¿›è¡Œè¿™ä¸€æ­¥ï¼Œç›¸å½“äºåˆ é™¤è¿œç¨‹åˆ†æ”¯ 8git push origin newname 9 10# å¼ºåˆ¶æ›´æ–°ä¿®æ”¹ç½‘é¡µæäº¤è®°å½• 11# æœ¬åœ°ä¿®æ”¹ git log ä¹‹åï¼Œgit push -f origin master 12 13# ä¸»çº¿masterç›´æ¥æäº¤featureåˆ†æ”¯ 14git push origin dev:feature 15# æäº¤MRä¹‹åï¼Œåœ¨masteråˆ†æ”¯ git pull --rebase å³å¯ï¼Œå·æ‡’ä¸€ç›´åœ¨ä¸»çº¿å¼€å‘ git log 1git log --grep=\u0026#34;xxx\u0026#34; 2# æœç´¢ç‰¹å®šä½œè€… 3git log --author=\u0026#34;ä½œè€…åå­—\u0026#34; --grep=\u0026#34;å…³é”®å­—\u0026#34; 4# é™å®šæ—¶é—´æ®µ 5git log --after=\u0026#34;YYYY-MM-DD\u0026#34; --before=\u0026#34;YYYY-MM-DD\u0026#34; --grep=\u0026#34;å…³é”®å­—\u0026#34; 6 7# æŸ¥çœ‹å¯¹åº”çš„æ–‡ä»¶å˜åŒ– 8git show commitId 9git whatchanged commitId 10 11# åˆ‡æ¢åˆ°æŸæ¬¡ commitId 12git checkout commitId 13 14# æ ¹æ® commitId å®šä½å‰åçš„æäº¤è®°å½•ï¼Œ --oneline ç®€çŸ­æ˜¾ç¤ºlog 15# å‰é¢çš„ä¸€æ¬¡è®°å½• 16git log -1 commitId 17# åé¢ä¸€æ¬¡çš„æäº¤è®°å½• 18git log --reverse --oneline commitId..HEAD | head -n 1 19 20# æŸ¥çœ‹HEAD 21git rev-parse HEAD # HEAD~1 HEAD~n HEAD^n vscode https://code.visualstudio.com/api/references/contribution-points\ngtags -i æœç´¢ç´¢å¼•\ntabå››ä¸ªç©ºæ ¼ code-\u0026gt;é¦–é€‰é¡¹-\u0026gt; è®¾ç½®ã€‚\næœç´¢ tab size\u0026rsquo;å³å°†å€¼æ”¹ä¸ºã€Œ4ã€\næ³¨æ„ï¼š\nå°† Detect Indentation è®¾ç½®å»æ‰ï¼Œå¦åˆ™ vscode ä¼šè·Ÿè¿›æ–‡ä»¶å†…å®¹è‡ªåŠ¨æ¨æµ‹tab çš„ç©ºæ ¼æ•°ã€‚å°±æ˜¯è¯´è®¡ç®—ç»“æœå¯èƒ½ä¸æ˜¯ä½ è®¾ç½®çš„å€¼ã€‚\ntabä¸ç©ºæ ¼ç›¸äº’è½¬æ¢ 1ctrl+shift+p è¾“å…¥ï¼š 2 convert indentation to spaces tabè½¬ç©ºæ ¼ 3 convert indentation to tab ç©ºæ ¼è½¬tab æ–‡æœ¬æ¢è¡Œ Ctrl+Shift+P è¾“å…¥ï¼šToggle World Wrap, å¯é…ç½®å¿«æ·é”®\nä»£ç æŠ˜å  è¦æ“ä½œå…‰æ ‡æ‰€åœ¨æ–‡ä»¶ä¸­çš„æ‰€æœ‰ä»£ç å—ï¼š\næŠ˜å æ‰€æœ‰ Ctrl+K+0 å±•å¼€æ‰€æœ‰ Ctrl+K+J ä»…ä»…æ“ä½œå…‰æ ‡æ‰€å¤„ä»£ç å—å†…çš„ä»£ç ï¼š\næŠ˜å  Ctrl+Shift+[ å±•å¼€ Ctrl+Shift+] æ›´å¤šæ“ä½œï¼šCtrl+Shift+Pæœç´¢foldå’Œunfold\nVSCode çš„ #ifdef åŒºåŸŸå˜ç° ctrl+, æœç´¢ C_Cpp.dimInactiveRegions å‹¾é€‰å³å¯ æˆ–è€… setting ä¸­æ·»åŠ ï¼š\u0026ldquo;C_Cpp.dimInactiveRegions\u0026rdquo;: true\nsettings.json /home/bob/.vscode-server/data/Machine/settings.json\n1{ 2 \u0026#34;C_Cpp.intelliSenseCacheSize\u0026#34;: 512, 3 \u0026#34;C_Cpp.intelliSenseMemoryLimit\u0026#34;: 512, 4 \u0026#34;C_Cpp.files.exclude\u0026#34;: { 5 \u0026#34;**/build\u0026#34;: true, 6 }, 7 \u0026#34;debug.allowBreakpointsEverywhere\u0026#34;: true, 8 \u0026#34;git.ignoredRepositories\u0026#34;: [ 9 \u0026#34;/home/xxx/\u0026#34; 10 ], 11 \u0026#34;git.scanRepositories\u0026#34;: [ 12 ], 13 \u0026#34;todo-tree.filtering.excludeGlobs\u0026#34;: [ 14 ], 15 \u0026#34;python.analysis.exclude\u0026#34;: [ 16 ] 17} .vscode/settings.json\n1{ 2 \u0026#34;files.associations\u0026#34;: { 3 \u0026#34;CMakeLists.txt\u0026#34;: \u0026#34;cmake\u0026#34;, 4 }, 5 6 \u0026#34;files.exclude\u0026#34;: { 7 \u0026#34;**/.cache\u0026#34;: true 8 }, 9 \u0026#34;search.exclude\u0026#34;: { 10 \u0026#34;**/build/*\u0026#34;: true 11 }, 12 13 // \u0026#34;C_Cpp.intelliSenseEngine\u0026#34;: \u0026#34;disabled\u0026#34;, 14 \u0026#34;C_Cpp.intelliSenseCacheSize\u0026#34;: 512, 15 \u0026#34;C_Cpp.intelliSenseMemoryLimit\u0026#34;: 512, 16 // \u0026#34;C_Cpp.workspaceSymbols\u0026#34;: \u0026#34;Just My Code\u0026#34;, 17 \u0026#34;search.followSymlinks\u0026#34;: false, 18 \u0026#34;C_Cpp.errorSquiggles\u0026#34;: \u0026#34;disabled\u0026#34;, 19} c_cpp_properties.json 1{ 2 \u0026#34;configurations\u0026#34;: [ 3 { 4 \u0026#34;name\u0026#34;: \u0026#34;Win32\u0026#34;, 5 \u0026#34;includePath\u0026#34;: [ 6 \u0026#34;${workspaceFolder}/xx/**\u0026#34; 7 ], 8 \u0026#34;defines\u0026#34;: [ 9 \u0026#34;TEST_MARCO=1\u0026#34; 10 ], 11 \u0026#34;compilerPath\u0026#34;: \u0026#34;C:\\\\MinGW\\\\bin\\\\gcc.exe\u0026#34;, 12 \u0026#34;cStandard\u0026#34;: \u0026#34;gnu17\u0026#34;, 13 \u0026#34;cppStandard\u0026#34;: \u0026#34;gnu++14\u0026#34;, 14 \u0026#34;intelliSenseMode\u0026#34;: \u0026#34;windows-gcc-x86\u0026#34;, 15 \u0026#34;configurationProvider\u0026#34;: \u0026#34;ms-vscode.makefile-tools\u0026#34; 16 } 17 ], 18 \u0026#34;version\u0026#34;: 4 19} 20 21{ 22 \u0026#34;configurations\u0026#34;: [ 23 { 24 \u0026#34;name\u0026#34;: \u0026#34;Linux\u0026#34;, 25 \u0026#34;includePath\u0026#34;: [ 26 \u0026#34;${workspaceFolder}/**\u0026#34; 27 ], 28 \u0026#34;defines\u0026#34;: [ 29 \u0026#34;TEST_MARCO=1\u0026#34; 30 ], 31 \u0026#34;compilerPath\u0026#34;: \u0026#34;/usr/bin/gcc\u0026#34;, 32 \u0026#34;cStandard\u0026#34;: \u0026#34;gnu11\u0026#34;, 33 \u0026#34;cppStandard\u0026#34;: \u0026#34;c++17\u0026#34;, 34 \u0026#34;intelliSenseMode\u0026#34;: \u0026#34;gcc-x64\u0026#34; 35 } 36 ], 37 \u0026#34;version\u0026#34;: 4 38} tasks.json 1{ 2 // See https://go.microsoft.com/fwlink/?LinkId=733558 3 // for the documentation about the tasks.json format 4 \u0026#34;version\u0026#34;: \u0026#34;2.0.0\u0026#34;, 5 \u0026#34;tasks\u0026#34;: [ 6 { 7 \u0026#34;label\u0026#34;: \u0026#34;build\u0026#34;, 8 \u0026#34;type\u0026#34;: \u0026#34;shell\u0026#34;, 9 \u0026#34;isBackground\u0026#34;: true, 10 \u0026#34;command\u0026#34;: \u0026#34;${workspaceFolder}/xxx/test.sh test1\u0026#34;, 11 \u0026#34;args\u0026#34;: [], 12 \u0026#34;problemMatcher\u0026#34;: [ 13 { 14 \u0026#34;pattern\u0026#34;: [ 15 { 16 \u0026#34;regexp\u0026#34;: \u0026#34;.\u0026#34;, 17 \u0026#34;file\u0026#34;: 1, 18 \u0026#34;location\u0026#34;: 2, 19 \u0026#34;message\u0026#34;: 3 20 } 21 ], 22 \u0026#34;background\u0026#34;: { 23 // \u0026#34;activeOnStart\u0026#34;: false, 24 \u0026#34;beginsPattern\u0026#34;: \u0026#34;.*start qemu debug.*\u0026#34;, // è¦å¯¹åº”ç¼–è¯‘æˆåŠŸå,ä¸€å¥echoçš„å†…å®¹. æ­¤å¤„å¯¹åº” Makefile Line:170 https://zhuanlan.zhihu.com/p/501901665 25 \u0026#34;endsPattern\u0026#34;: \u0026#34;build debug elf done.\u0026#34; 26 } 27 }, 28 ], 29 \u0026#34;presentation\u0026#34;: { 30 // \u0026#34;echo\u0026#34;: true, 31 // \u0026#34;showReuseMessage\u0026#34;: false, 32 // \u0026#34;clear\u0026#34;: true, 33 \u0026#34;close\u0026#34;: true, 34 // \u0026#34;group\u0026#34;: \u0026#34;vm\u0026#34; 35 }, 36 }, 37 { 38 \u0026#34;label\u0026#34;: \u0026#34;test\u0026#34;, 39 \u0026#34;type\u0026#34;: \u0026#34;shell\u0026#34;, 40 // \u0026#34;dependsOn\u0026#34;: \u0026#34;autosar64build\u0026#34;, 41 \u0026#34;command\u0026#34;: \u0026#34;qemu-system-aarch64 -m 1024 -machine virt,gic-version=2,virtualization=on -cpu cortex-a53 -smp 2 -nographic -kernel ${workspaceFolder}/test -S -s -gdb\u0026#34;, 42 \u0026#34;args\u0026#34;:[], 43 \u0026#34;isBackground\u0026#34;: true, 44 }, 45 { 46 \u0026#34;label\u0026#34;: \u0026#34;singlebuild\u0026#34;, 47 \u0026#34;type\u0026#34;: \u0026#34;shell\u0026#34;, 48 \u0026#34;command\u0026#34;: \u0026#34;gcc\u0026#34;, 49 \u0026#34;args\u0026#34;: [\u0026#34;-g\u0026#34;, \u0026#34;${fileDirname}/${fileBasename}\u0026#34;, \u0026#34;-o\u0026#34;, \u0026#34;${fileDirname}/${fileBasenameNoExtension}\u0026#34;] 50 }, 51 ] 52} launch.json 1{ 2 // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚ 3 // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚ 4 // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387 5 \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, 6 \u0026#34;configurations\u0026#34;: [ 7 { 8 \u0026#34;name\u0026#34;: \u0026#34;debug_1\u0026#34;, 9 //\u0026#34;preLaunchTask\u0026#34;: \u0026#34;build\u0026#34;, 10 \u0026#34;type\u0026#34;: \u0026#34;cppdbg\u0026#34;, 11 \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, 12 //\u0026#34;miDebuggerServerAddress\u0026#34;: \u0026#34;127.0.0.1\u0026#34;, 13 \u0026#34;program\u0026#34;: \u0026#34;${workspaceFolder}/test.elf\u0026#34;, 14 \u0026#34;args\u0026#34;: [], 15 \u0026#34;stopAtEntry\u0026#34;: true, 16 \u0026#34;cwd\u0026#34;: \u0026#34;${workspaceFolder}/\u0026#34;, 17 \u0026#34;environment\u0026#34;: [], 18 \u0026#34;externalConsole\u0026#34;: false, 19 \u0026#34;logging\u0026#34;: { 20 \u0026#34;engineLogging\u0026#34;: false 21 }, 22 \u0026#34;MIMode\u0026#34;: \u0026#34;gdb\u0026#34;, 23 \u0026#34;miDebuggerPath\u0026#34;: \u0026#34;aarch64-none-elf-gdb\u0026#34;, 24 \u0026#34;setupCommands\u0026#34;: [ //ä¸ºäº†å®‰è£…åŸºç¡€è°ƒè¯•ç¨‹åºè€Œæ‰§è¡Œçš„ä¸€ä¸ªæˆ–å¤šä¸ªGDB/LLDBå‘½ä»¤ 25 { 26 \u0026#34;description\u0026#34;: \u0026#34;Enable pretty-printing for gdb\u0026#34;, 27 \u0026#34;text\u0026#34;: \u0026#34;-enable-pretty-printing\u0026#34;, 28 \u0026#34;ignoreFailures\u0026#34;: true 29 }, 30 { \u0026#34;text\u0026#34;: \u0026#34;set output-radix 16\u0026#34; } // 16è¿›åˆ¶æ˜¾ç¤ºå˜é‡ 31 ] 32 }, 33 { 34 \u0026#34;name\u0026#34;: \u0026#34;c-debug\u0026#34;, //é…ç½®åç§°ï¼Œæ˜¾ç¤ºåœ¨é…ç½®ä¸‹æ‹‰èœå•ä¸­ 35 \u0026#34;type\u0026#34;: \u0026#34;cppdbg\u0026#34;, //é…ç½®ç±»å‹ 36 \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, //è¯·æ±‚é…ç½®ç±»å‹ï¼Œå¯ä»¥æ˜¯å¯åŠ¨æˆ–è€…æ˜¯é™„åŠ  37 \u0026#34;program\u0026#34;: \u0026#34;${workspaceFolder}/test\u0026#34;, //ç¨‹åºå¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼Œ${workspaceFolder}è¡¨ç¤ºè¿œç¨‹è¿æ¥çš„åˆå§‹è·¯å¾„ 38 \u0026#34;args\u0026#34;: [], //ä¼ é€’ç»™ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•° 39 \u0026#34;stopAtEntry\u0026#34;: true,//å¯é€‰å‚æ•°ï¼Œå¦‚æœä¸ºtrue,è°ƒè¯•ç¨‹åºåº”è¯¥åœ¨å…¥å£ï¼ˆmainï¼‰å¤„åœæ­¢ 40 \u0026#34;cwd\u0026#34;: \u0026#34;${workspaceFolder}/\u0026#34;, //ç›®æ ‡çš„å·¥ä½œç›®å½• 41 \u0026#34;environment\u0026#34;: [], //è¡¨ç¤ºè¦é¢„è®¾çš„ç¯å¢ƒå˜é‡ 42 \u0026#34;externalConsole\u0026#34;: false,//å¦‚æœä¸ºtrueï¼Œåˆ™ä¸ºè°ƒè¯•å¯¹è±¡å¯åŠ¨æ§åˆ¶å° 43 \u0026#34;MIMode\u0026#34;: \u0026#34;gdb\u0026#34;,//è¦è¿æ¥åˆ°çš„æ§åˆ¶å°å¯åŠ¨ç¨‹åº 44 \u0026#34;setupCommands\u0026#34;: [ //ä¸ºäº†å®‰è£…åŸºç¡€è°ƒè¯•ç¨‹åºè€Œæ‰§è¡Œçš„ä¸€ä¸ªæˆ–å¤šä¸ªGDB/LLDBå‘½ä»¤ 45 { 46 \u0026#34;description\u0026#34;: \u0026#34;ä¸º gdb å¯ç”¨æ•´é½æ‰“å°\u0026#34;, 47 \u0026#34;text\u0026#34;: \u0026#34;-enable-pretty-printing\u0026#34;, 48 \u0026#34;ignoreFailures\u0026#34;: true 49 } 50 ] 51 } 52 ] 53} 54 55// ${workspaceFolder} - å½“å‰å·¥ä½œç›®å½•(æ ¹ç›®å½•) 56// ${workspaceFolderBasename} - å½“å‰æ–‡ä»¶çš„çˆ¶ç›®å½• 57// ${file} - å½“å‰æ‰“å¼€çš„æ–‡ä»¶å(å®Œæ•´è·¯å¾„) 58// ${relativeFile} - å½“å‰æ ¹ç›®å½•åˆ°å½“å‰æ‰“å¼€æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„(åŒ…æ‹¬æ–‡ä»¶å) 59// ${relativeFileDirname} - å½“å‰æ ¹ç›®å½•åˆ°å½“å‰æ‰“å¼€æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„(ä¸åŒ…æ‹¬æ–‡ä»¶å) 60// ${fileBasename} - å½“å‰æ‰“å¼€çš„æ–‡ä»¶å(åŒ…æ‹¬æ‰©å±•å) 61// ${fileBasenameNoExtension} - å½“å‰æ‰“å¼€çš„æ–‡ä»¶å(ä¸åŒ…æ‹¬æ‰©å±•å) 62// ${fileDirname} - å½“å‰æ‰“å¼€æ–‡ä»¶çš„ç›®å½• 63// ${fileExtname} - å½“å‰æ‰“å¼€æ–‡ä»¶çš„æ‰©å±•å 64// ${cwd} - å¯åŠ¨æ—¶taskå·¥ä½œçš„ç›®å½• Current Working Directory 65// ${lineNumber} - å½“å‰æ¿€æ´»æ–‡ä»¶æ‰€é€‰è¡Œ 66// ${selectedText} - å½“å‰æ¿€æ´»æ–‡ä»¶ä¸­æ‰€é€‰æ‹©çš„æ–‡æœ¬ 67// ${execPath} - vscodeæ‰§è¡Œæ–‡ä»¶æ‰€åœ¨çš„ç›®å½• 68// ${defaultBuildTask} - é»˜è®¤ç¼–è¯‘ä»»åŠ¡(build task)çš„åå­— æœåŠ¡å™¨è¿æ¥å¼‚å¸¸ å¯èƒ½æ˜¯æ›´æ–°vscode éœ€è¦å®‰è£…æ–°çš„vscode-serverï¼Œps-ef | grep wget æŠ“å–ï¼Œæˆ–è€…ä¸‹é¢çš„æ–¹æ³•ä¸‹è½½ help-\u0026gt;about ä¸­å¯æŸ¥çœ‹ commitå·\n1wget --tries=1 --connect-timeout=7 --dns-timeout=7 -O vscode-server.tar.gz https://update.code.visualstudio.com/commit:0ee08df0cf4527e40edc9aa28f4b5bd38bbff2b2/server-linux-x64/stable vscode-serveræ‰‹åŠ¨\næ›¿æ¢éœ€è¦çš„ commitID https://vscode.download.prss.microsoft.com/dbazure/download/stable/${commitID}/vscode-server-linux-x64.tar.gz\nè§£å‹åˆ°çš„è·¯å¾„ ${HOME}/.vscode-server/cli/servers/Stable-${commitID}/server\n1${HOME}/.vscode-server/cli/servers/Stable-384ff7382de624fb94dbaf6da11977bba1ecd427/server 2â”œâ”€â”€ bin 3â”œâ”€â”€ extensions 4â”œâ”€â”€ LICENSE 5â”œâ”€â”€ node 6â”œâ”€â”€ node_modules 7â”œâ”€â”€ out 8â”œâ”€â”€ package.json 9â””â”€â”€ product.json gtags æŸ¥æ‰¾è·³è½¬ å‚è€ƒï¼šhttps://blog.japinli.top/2021/06/gtags-exclude-some-directories/\n1default:\\ 2\t:tc=gtags:tc=htags: 3 4common:\\ 5 :skip=GPATH,GTAGS,GRTAGS,dir1/: 6gtags:\\ 7 :tc=common:\\ 8 :langmap=c\\:.c.h,yacc\\:.y,asm\\:.s.S,java\\:.java,cpp\\:.c++.cc.cpp.cxx.hxx.hpp.C.H,php\\:.php.php3.phtml: 9 10htags:\\ 11\t:body_begin=\u0026lt;body text=\u0026#39;#191970\u0026#39; bgcolor=\u0026#39;#f5f5dc\u0026#39; vlink=\u0026#39;gray\u0026#39;\u0026gt;:body_end=\u0026lt;/body\u0026gt;:\\ 12\t:table_begin=\u0026lt;table\u0026gt;:table_end=\u0026lt;/table\u0026gt;:\\ 13\t:title_begin=\u0026lt;h1\u0026gt;\u0026lt;font color=\u0026#39;#cc0000\u0026#39;\u0026gt;:title_end=\u0026lt;/font\u0026gt;\u0026lt;/h1\u0026gt;:\\ 14\t:comment_begin=\u0026lt;i\u0026gt;\u0026lt;font color=\u0026#39;green\u0026#39;\u0026gt;:comment_end=\u0026lt;/font\u0026gt;\u0026lt;/i\u0026gt;:\\ 15\t:sharp_begin=\u0026lt;font color=\u0026#39;darkred\u0026#39;\u0026gt;:sharp_end=\u0026lt;/font\u0026gt;:\\ 16\t:brace_begin=\u0026lt;font color=\u0026#39;red\u0026#39;\u0026gt;:brace_end=\u0026lt;/font\u0026gt;:\\ 17\t:warned_line_begin=\u0026lt;span style=\u0026#39;background-color\\:yellow\u0026#39;\u0026gt;:warned_line_end=\u0026lt;/span\u0026gt;:\\ 18\t:reserved_begin=\u0026lt;b\u0026gt;:reserved_end=\u0026lt;/b\u0026gt;:script_alias=/cgi-bin/:\\ 19\t:ncol#4:tabs#8:normal_suffix=html:gzipped_suffix=ghtml:\\ 20\t:definition_header=no: 21 22// .globalrc_cfg 23GPATH 24GTAGS 25GRTAGS 26dir/ 27*/dir2/ 28 29// ä½¿ç”¨ï¼š 30 if [ -f $(pwd)/.globalrc ];then 31 # 32 readarray -t lines \u0026lt; $(pwd)/.globalrc_cfg 33 skip=\u0026#34; :skip=$(IFS=,; echo \u0026#34;${lines[*]}\u0026#34;):\u0026#34; 34 sed -i \u0026#34;5s|.*|${skip}|\u0026#34; $(pwd)/.globalrc 35 36 # 37 rm GPATH GRTAGS GTAGS 38 echo \u0026#34; $(pwd)/.globalrc \u0026#34; 39 export GTAGSCONF=$(pwd)/.globalrc 40 gtags -v \u0026amp;\u0026gt; .globalrc_txt 41 fi å¼‚å¸¸ï¼šC++ Intellisense å‡çº§åˆ° C/C++ï¼Œè€Œä¸¤ä¸ªåŒæ—¶å®‰è£…ï¼Œæ‰€ä»¥ç‚¹å‡»çš„æ—¶å€™æœ‰ä¸ªç›¸åŒçš„è·³è½¬åœ°å€\nå¿«æ·é”® èšç„¦çª—å£ ctrl 0ï¼Œctrl 9ï¼Œalt 0, ctrl alt p åˆ é™¤ä¸€è¡Œ ctrl shift k é€‰ä¸­ä¸€è¡Œ ctrl l æ›¿æ¢å°çª—å£ctrl h å¿«æ·é”® ctrl k ctrl s åˆ é™¤å‰å ctrl back ï¼Œctrl del æ’ä»¶åŒæ­¥ 1æ‰¾åˆ°å½“å‰serverä¸­çš„ ~/.vscode-server/extensions/extensions.json è®°å½• \u0026#34;id\u0026#34;:\u0026#34;twxs.cmake\u0026#34; , æ‰¾åˆ°éœ€è¦çš„æ’ä»¶çš„id 2vscode çš„ç»ˆç«¯ä¸­ whereis code 3code --install-extension twxs.cmake 4ä¸‹è½½æƒ³è¦åŒæ­¥çš„æ’ä»¶ è¿æ¥ç§é’¥é…ç½® C:\\Users\\bob.ssh\\config_vscode æ˜¯vscodeé“¾æ¥æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶,å†…å®¹å¦‚ä¸‹ 1Host test 2 HostName 192.168.68.2 3 User test 4 Port 22 5 IdentityFile D:\\dir1\\dir2\\id_rsa å…³é”®éœ€è¦è®¾ç½®D:\\dir1\\dir2\\id_rsaæ–‡ä»¶çš„å±æ€§ï¼ˆç§é’¥id_rsa ä¸åœ¨ C:\\Users\\bob.sshï¼‰ 11. å³é”®å±æ€§-\u0026gt;å®‰å…¨-\u0026gt;ç¼–è¾‘-\u0026gt;èƒ½åˆ é™¤çš„ç›´æ¥åˆ é™¤å…¶ä»–æ‰€æœ‰ç”¨æˆ·ï¼Œåªä¿ç•™è‡ªå·±çš„ç”¨æˆ·å 22. å¦‚æœä¸èƒ½ç¼–è¾‘çš„-\u0026gt;é«˜çº§-\u0026gt;ç¦ç”¨ç»§æ‰¿-\u0026gt;ä»æ­¤å¯¹è±¡åˆ é™¤æ‰€æœ‰å·²ç»§æ‰¿çš„æƒé™-\u0026gt;ç¡®å®š-\u0026gt;ç¼–è¾‘-\u0026gt;æ·»åŠ -\u0026gt;é«˜çº§-\u0026gt;ç«‹å³æŸ¥æ‰¾-\u0026gt;æ‰¾åˆ°è‡ªå·±çš„ç”¨æˆ·ååŒå‡»-\u0026gt;ç„¶åç¡®å®šè¿”å›å³å¯ 33. å°±èƒ½ç”¨vscodeè®¿é—®è¿œç¨‹çš„æœåŠ¡å™¨äº† æ–¹æ¡ˆäºŒï¼š å¦‚ä¸‹ç®¡ç†å‘˜æƒé™å»ºç«‹è½¯è¿æ¥ï¼Œå³å¯ mklink /D C:\\Users\\bob.ssh\\config_vscode E:\\xxxx\\myconfig\næ±‡ç¼–è°ƒè¯•æ–­ç‚¹ è®¾ç½®é‡Œé¢å‹¾é€‰ \u0026ldquo;debug.allowBreakpointsEverywhere\u0026rdquo;: true , å‰ææ˜¯ç¼–è¯‘çš„æ—¶å€™åŠ å…¥ -g è°ƒè¯•ä¿¡æ¯\næ–‡ä»¶çª—å£æŸ¥æ‰¾ å¿«æ·é”®ï¼šCtrl+Alt+F ï¼Œå®šä½æŸ¥æ‰¾æ–‡ä»¶ é¢åŒ…å±‘å¯¼èˆª \u0026ldquo;breadcrumbs.enabled\u0026rdquo;: true\nvim é€‰æ‹©å¤åˆ¶ è¿›å…¥å­—ç¬¦æ¨¡å¼\næŒ‰ v (å°å†™)é”®è¿›å…¥å­—ç¬¦æ¨¡å¼ï¼Œå¯ä»¥é€å­—ç¬¦åœ°é€‰æ‹©æ–‡æœ¬ è¿›å…¥è¡Œæ¨¡å¼\næŒ‰ V (å¤§å†™) é”®è¿›å…¥è¡Œæ¨¡å¼ï¼Œå¯ä»¥é€è¡Œåœ°é€‰æ‹©æ–‡æœ¬ã€‚\nè¿›å…¥å—æ¨¡å¼\næŒ‰ Ctrl + v è¿›å…¥å—æ¨¡å¼ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚\nå¤åˆ¶é€‰ä¸­çš„æ–‡æœ¬\né€‰æ‹©æ–‡æœ¬åï¼ŒæŒ‰ y é”®ï¼ˆè¡¨ç¤º \u0026ldquo;yank\u0026rdquo;ï¼‰å°†é€‰ä¸­çš„æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚\nç²˜è´´æ–‡æœ¬\nå¯ä»¥åœ¨æ‰€éœ€ä½ç½®æŒ‰ p é”®ï¼ˆå°å†™ pï¼‰ç²˜è´´æ–‡æœ¬ã€‚å¦‚æœæƒ³ç²˜è´´åœ¨å…‰æ ‡ä¹‹å‰ï¼Œå¯ä»¥æŒ‰ P é”®ï¼ˆå¤§å†™ Pï¼‰ã€‚\næ’å…¥ å…‰æ ‡ä¹‹å‰ï¼ši\nå…‰æ ‡ä¹‹åï¼ša\nä¸‹ä¸€è¡Œæ’å…¥ï¼šo\nä¸Šä¸€è¡Œæ’å…¥ï¼šshift + o\ndocker å®‰è£…ä½¿ç”¨ docker è·å–é•œåƒï¼Œåˆ›å»ºå®¹å™¨ï¼Œé…åˆshellç« èŠ‚çš„è‡ªåŠ¨è¡¥å…¨ï¼Œç¯å¢ƒé…ç½®å¥½åªéœ€è¦ä½¿ç”¨å°±è¡Œäº†ï¼Œæ— æ„Ÿæ“ä½œ è¯¦ç»†å¯å‚è€ƒï¼šhttps://www.runoob.com/docker/docker-container-usage.html\n1# å®‰è£…dockerï¼Œç»ˆç«¯è¾“å…¥ dockerï¼Œubuntu24.04ä¼šæç¤ºå®‰è£…å‘½ä»¤ 2sudo apt install docker.io 3# å®‰è£…å®Œæˆä¹‹å docker æ‰§è¡Œéœ€è¦rootæƒé™ï¼Œ æŠŠéœ€è¦æ“ä½œçš„ç”¨æˆ·åŠ å…¥dockerå³å¯ 4sudo usermod -aG docker bob # é‡å¯å³å¯ç”Ÿæ•ˆï¼Œå…¶ä»–æ–¹å¼å¦‚æœsshé“¾æ¥çš„ï¼Œæ–­å¼€é‡è¿ä¹Ÿä¼šç”Ÿæ•ˆ 5# ä¼šæ˜¾ç¤ºç”¨æˆ·åœ¨dockerç»„ 6id bob 7groups bob 8 9 10# è·å–é•œåƒ 11docker pull ubuntu 12# æŸ¥çœ‹é•œåƒ 13docker images 14# å¯åŠ¨ä¸€ä¸ªå®¹å™¨ï¼Œé•œåƒå¯ä»¥ç†è§£æ¨¡ç‰ˆï¼Œå®¹å™¨æ˜¯é…ç½®çš„ä¸åŒçš„ç¯å¢ƒï¼Œå¯ä»¥ä¸€ä¸ªé•œåƒå¯åŠ¨å¤šä¸ªå®¹å™¨ 15# å¯ä»¥å…ˆç”¨èµ·æ¥ï¼Œä¸€äº›æ¦‚å¿µç”¨ç€ç”¨ç€å°±ç†Ÿæ‚‰äº†è§£äº† 16docker run --privileged -it -d -v /home/bob:/home/bob --name my_nodejs ubuntu /bin/bash 17# è¿™é‡Œå¯åŠ¨ä¸€ä¸ªmy_nodejsçš„å®¹å™¨ï¼ˆé‡Œé¢ç”¨æˆ·å’Œä¸»æœºç”¨æˆ·ä¸€æ ·ï¼Œæ–¹ä¾¿åç»­æ“ä½œï¼Œé»˜è®¤ç”¨rootç”¨æˆ·è¿›å…¥ï¼Œç„¶ååˆ›å»ºå’Œä¸»æœºä¸€æ ·çš„ç”¨æˆ·ï¼‰ 18# å‰æœŸå¯ä»¥ç›´æ¥ docker run --privileged -it -d --name my_nodejs ubuntu /bin/bashï¼Œç›´æ¥ç”¨rootæ“ä½œ 19docker exec -it my_nodejs /bin/bash 20# å¦‚æœä¸»æœº id bob ä¸º 1000ï¼Œè¿›å…¥docker cat /etc/passwdï¼Œå¦‚æœæœ‰1000çš„ç”¨æˆ·ï¼Œç›´æ¥ä¿®æ”¹ç”¨æˆ·å 21# usermod -l bob -d /home/bob -m ubuntu 22# groupadd bob 23# usermod -g bob -G bob bob 24 25# å¯åŠ¨å®¹å™¨ 26docker start my_nodejs 27# å…³é—­å®¹å™¨ 28docker stop my_nodejs 29# è¿›å…¥å®¹å™¨ 30docker exec -it -u bob -w /home/bob my_nodejs /bin/bash åŠ¨æ€æ·»åŠ ç«¯å£ https://blog.csdn.net/weixin_41148525/article/details/135675015\nhttps://www.baeldung.com/ops/assign-port-docker-container\n1systemctl stop docker 2docker info | grep Root 3# dir 4docker inspect xxx | grep Id 5# idxxxxxxxx 6cd /dir/idxxxxxxxx 7# ä¿®æ”¹å¦‚ä¸‹ 1{ // hostconfig.json 2 ... 3 \u0026#34;PortBindings\u0026#34;: {\u0026#34;80/tcp\u0026#34;:[{\u0026#34;HostIp\u0026#34;:\u0026#34;\u0026#34;,\u0026#34;HostPort\u0026#34;:\u0026#34;20082\u0026#34;}]}, 4 ... 5} 6{ // config.v2.json 7 \u0026#34;Config\u0026#34;: 8 { 9 ... 10 \u0026#34;ExposedPorts\u0026#34;: 11 { 12 \u0026#34;80/tcp\u0026#34;:{} 13 }, 14 ... 15 } 16} 1systemctl start docker 2docker start xxxx 3docker port xxxx 4# 80/tcp -\u0026gt; 0.0.0.0:20082 5# 80/tcp -\u0026gt; [::]:20082 ubuntuè½¯ä»¶å®‰è£… tmuxåˆ†å± https://zhuanlan.zhihu.com/p/58668651\nexport TMUX_TMPDIR=~/.tmux/tmp\nåº”ç”¨ä¿®æ”¹å›¾æ ‡ cd /usr/share/applications vi xxx ä¸­çš„ icon = xx.icon\nchromeè°·æ­Œæµè§ˆå™¨ wget \u0026ndash;no-check-certificate https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb\nvscode wget \u0026ndash;no-check-certificate https://code.visualstudio.com/sha/download?build=stable\u0026os=linux-deb-x64\nsougou ä¸‹è½½é¡µé¢ï¼šhttps://shurufa.sogou.com/linux å®‰è£…æŒ‡å¯¼ï¼šhttps://shurufa.sogou.com/linux/guide\nsudo apt -f install ç³»ç»Ÿè®¾ç½®-\u0026gt;åŒºåŸŸå’Œè¯­è¨€-\u0026gt;ç®¡ç†å·²å®‰è£…çš„è¯­è¨€-\u0026gt;åœ¨â€œè¯­è¨€â€tabä¸‹-\u0026gt;ç‚¹å‡»â€œæ·»åŠ æˆ–åˆ é™¤è¯­è¨€â€ -\u0026gt; fcitx è®¾ç½®fcitxå¼€æœºè‡ªå¯åŠ¨ sudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/ å¸è½½ç³»ç»Ÿibusè¾“å…¥æ³•æ¡†æ¶ sudo apt purge ibus\nå…³é—­ç¹ç®€åˆ‡æ¢ï¼š 1vi ~/.config/sogoupinyin/conf/env.ini 2ShortCutFanJian=1 # ä¿®æ”¹ä¸º 0 3vi ~/.config/fcitx/conf/fcitx-chttrans.config 4#Hotkey=CTRL_SHIFT_F # ä¿®æ”¹ä¸º Hotkey=CTRL_SHIFT_] çš®è‚¤ä½ç½® 1/opt/sogoupinyin/files/share/resources/skin/ nasæŒ‚è½½ 1sudo apt-get install cifs-utils 2sudo mount -t cifs //192.168.1.1/share /home/bob/mydir -o username=bob,password=bob,iocharset=utf8 3# sudo mount -t cifs //192.168.1.1/share /home/bob/mydir -o username=bob,password=bob,iocharset=utf8,uid=1000,gid=1000,file_mode=0777,dir_mode=0777 æˆªå›¾å·¥å…· Snipaste : Snipaste-2.9.2-Beta-x86_64 ç”µè„‘é‡å¯ç™»å½•çš„æ—¶å€™ï¼Œå³ä¸‹è§’è®¾ç½®å›¾æ ‡é€‰æ‹© ubuntu on Xorg PixPin åŠŸèƒ½æ›´ä¸°å¯Œï¼Œæš‚ä¸æ”¯æŒlinux, é€šè¿‡wineæ›²çº¿æ•‘å›½ é¼ æ ‡æ‰‹åŠ¿ easystrokeï¼šåŠŸèƒ½ä¸Šå’Œwindowsä¸Šçš„ WGesturesï¼Œè¿˜æ˜¯å·®ä¸å°‘ æ‰‹åŠ¿è®¾ç½®ï¼šhttps://tianws.github.io/skill/2019/10/31/short-cut-ubuntu/\npdfé˜…è¯»å™¨ Okularï¼šä¸»è¦ä¸ºäº†é…ç½® back forward å¿«æ·é”® alt+leftï¼Œalt+right Settings-\u0026gt;Configure Okular-\u0026gt;General-\u0026gt;Program Features-\u0026gt;Open new files in tabs\ngeditè‡ªå®šä¹‰å¿«æ·é”® https://github.com/foolo/gedit_custom_keys/\nè®¾ç½® gedit -\u0026gt; Preferences-\u0026gt; Plugins -\u0026gt; Custom Keyboard Shortcuts\næ—¥å† æ˜¾ç¤ºå‘¨æ•°\ngsettings set org.gnome.desktop.calendar show-weekdate true\næ˜¾ç¤ºå†œå†\nhttps://extensions.gnome.org/extension/675/lunar-calendar/\nå®‰è£…æ‰©å±•ï¼Œchromeæ‰©å±•é…ç½®ï¼Œapt è¿æ¥å™¨\nè§¦æ‘¸æ¿ https://extensions.gnome.org/extension/4033/x11-gestures/\nhttps://github.com/JoseExposito/touchegg\næ”¯æŒè‡ªå®šä¹‰æ‰‹åŠ¿\nsudo apt install touchegg flatpak\nflatpak install flathub com.github.joseexposito.touche\nWine ç®¡ç†å®‰è£…é…ç½® wine sudo apt install winetricks\n1# ä¸‹è½½ï¼šhttps://wiki.winehq.org/Download_zhcn 2# å®‰è£… VeryCaptureï¼šhttps://verycapture.com/download.html 3 4# å®‰è£…å¿«æ·é”®è½¬å‘ 5sudo apt install xdotool 6# é…ç½® 7#!/bin/bash 8 9if [ \u0026#34;${1}\u0026#34; == \u0026#34;PixPin\u0026#34; ];then 10 xdotool key --window $( xdotool search --limit 1 --all --pid $( pgrep PixPin.exe ) --name PixPin ) \u0026#34;F1\u0026#34; 11elif [ \u0026#34;${1}\u0026#34; == \u0026#34;VeryCapture\u0026#34; ];then 12 xdotool key --window $( xdotool search --limit 1 --all --pid $( pgrep VeryCapture.exe ) --name VeryCapture ) \u0026#34;shift+F1\u0026#34; 13fi 14 15# settings-\u0026gt; Keyboard -\u0026gt; Keyboard Shortcuts -\u0026gt; View and Customize Shortcuts -\u0026gt; Custom Shortcuts å®‰è£… pixpinï¼Œéœ€è¦ä¸‹é¢ä¸¤ä¸ªè¿è¡Œåº“ winetricks vcrun2015 winetricks vcrun2017\npython pipå®‰è£…\n1# python3 2curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py 3# python2 4https://bootstrap.pypa.io/pip/2.7/get-pip.py 5python get-pip.py pipé…ç½®ï¼š\n1python3 -m pip install pyelftools 2# http://mirrors.aliyun.com/pypi/simple/ 3# python3 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyelftools 4 5# æ°¸ä¹…é…ç½® ~/.pip/pip.conf 6[global] 7index-url = https://pypi.tuna.tsinghua.edu.cn/simple 8trusted-host = pypi.tuna.tsinghua.edu.cn # å¯ä¿¡ä¸»æœºï¼Œè¦ä¸ç„¶å¯èƒ½æŠ¥é”™ 9disable-pip-version-check = true # å–æ¶ˆpipç‰ˆæœ¬æ£€æŸ¥ï¼Œæ’é™¤æ¯æ¬¡éƒ½æŠ¥æœ€æ–°çš„pip 10timeout = 120 11# ignore-installed = true # å¿½ç•¥ä»»ä½•å·²ç»å®‰è£…çš„ç³»ç»ŸåŒ…ï¼Œå¼ºåˆ¶å®‰è£…æŒ‡å®šçš„åŒ…ï¼Œå³ä½¿å®ƒå¯èƒ½ä¸ç³»ç»ŸåŒ…å†²çª 12 13# â¡ï¸ pyenv è¿›è¡Œå¤šç‰ˆæœ¬çš„pythonç®¡ç† windowsè½¯ä»¶é…ç½® chromeæµè§ˆå™¨ç¦»çº¿å®‰è£…åŒ… 1https://www.google.com/intl/zh-CN/chrome/next-steps.html?platform=win64\u0026amp;standalone=1\u0026amp;statcb=0\u0026amp;installdataindex=empty\u0026amp;defaultbrowser=0 2 3https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BBD6E01DD-2315-DD04-9D6B-5A409199B5FF%7D%26lang%3Dzh-CN%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dprefers%26ap%3Dx64-stable-statsdef_1%26installdataindex%3Dempty/chrome/install/ChromeStandaloneSetup64.exe Beyond Compareé­”æ³• 1reg delete \u0026#34;HKEY_CURRENT_USER\\Software\\Scooter Software\\Beyond Compare 4\u0026#34; /v CacheID /f å…³é—­è‡ªå¯åŠ¨ å…³é—­åº”ç”¨è‡ªåŠ¨å¯åŠ¨ å…³é—­ä»»åŠ¡è®¡åˆ’ç¨‹åºæ— ç”¨çš„å¯åŠ¨é…ç½® å…³é—­windows defenderå®æ—¶ä¿æŠ¤ å…³é—­å®æ—¶ä¿æŠ¤(é€šè¿‡ç­–ç•¥ç»„ä¿®æ”¹å…³é—­ï¼‰ 1.æŒ‰win+Rï¼Œè¾“å…¥gpedit.msc -\u0026gt; 2.é€‰æ‹©è®¡ç®—æœºé…ç½®â€“\u0026gt;ç®¡ç†æ¨¡æ¿â€“\u0026gt;Windowsç»„ä»¶â€“\u0026gt;Microsoft Defenderé˜²ç—…æ¯’â€“\u0026gt;å®æ—¶ä¿æŠ¤ -\u0026gt; 3.åŒå‡»å…³é—­å®æ—¶ä¿æŠ¤ï¼Œé€‰æ‹©å·²å¯ç”¨ 1.è¿›å…¥â€œWindowå®‰å…¨ä¸­å¿ƒâ€ -\u0026gt;2. è¿›å…¥â€œç—…æ¯’å’Œå¨èƒé˜²æŠ¤â€ -\u0026gt;3. è¿›å…¥â€œç®¡ç†è®¾ç½®â€ -\u0026gt; 4.ç‚¹å‡»å…³é—­å³å¯\nå…³é—­è‡ªåŠ¨æäº¤æ ·æœ¬ å…³é—­ç¯¡æ”¹é˜²æŠ¤ https://blog.csdn.net/azxc98765/article/details/120094030\nssh server è®¾ç½®ä¸­å¯é€‰åŠŸèƒ½å¯å®‰è£…openssh server\nhttps://github.com/PowerShell/Win32-OpenSSH/releases ä¸‹è½½å®‰è£…OpenSSH-Win64-v9.5.0.0.msi\n1:: æµ‹è¯•ç³»ç»Ÿç›®å½•ç»“æ„ 2ssh bob@10.1.1.100 \u0026#34;pwd\u0026#34; 3ssh bob@10.1.1.100 \u0026#34;dir\u0026#34; 4 5:: è¿›å…¥æ‰§è¡Œbash 6:: ssh bob@10.1.1.100 \u0026#34;/cygdrive/c/Program\\ Files/Git/bin/bash.exe -i\u0026#34; 7ssh -t bob@10.1.1.100 \u0026#34;C:/Progra~1/Git/bin/bash.exe\u0026#34; 8ssh -t bob@10.1.1.100 \u0026#34;\\\u0026#34;C:/Program Files/Git/bin/bash.exe\\\u0026#34;\u0026#34; 9ssh bob@10.1.1.100 \u0026#34;\\\u0026#34;C:/Progra~1/Git/bin/bash.exe\\\u0026#34; -c \\\u0026#34;cd /d/mytest \u0026amp;\u0026amp; git st \u0026amp;\u0026amp; git gr \u0026amp;\u0026amp; git lg -1\\\u0026#34;\u0026#34; 10ssh bob@10.1.1.100 \u0026#34;\\\u0026#34;C:/Program Files/Git/bin/bash.exe\\\u0026#34; -c \\\u0026#34;cd /d/mytest \u0026amp;\u0026amp; git st \u0026amp;\u0026amp; git gr \u0026amp;\u0026amp; git lg -1\\\u0026#34;\u0026#34; 11 12:: æ–‡ä»¶å¤åˆ¶ 13:: scp test.txt bob@10.1.1.100:/cygdrive/d/mytest/ 14scp \u0026#39;bob@10.1.1.100:D:/mytest/test.txt\u0026#39; . 15scp test.txt \u0026#39;bob@10.1.1.100:D:/mytest/test.txt\u0026#39; 1sshpass -p password ssh name@ip # \u0026#34;set path=C:\\Program Files\\Git\\bin;%path% \u0026amp;\u0026amp; bash.exe -i\u0026#34; 2 3sc stop sshd 4sc start sshd winè·å–ipåœ°å€ Pythonè·å–æœ¬æœº IP/MACï¼ˆå¤šç½‘å¡ï¼‰ â€“ äºŒè¿›åˆ¶\n1import psutil 2def GetLocalIP(t=None): 3 ips = [] 4 iptype = \u0026#34;AF_INET\u0026#34; 5 if t == 6: 6 iptype = \u0026#34;AF_INET6\u0026#34; 7 8 dic = psutil.net_if_addrs() 9 for adapter in dic: 10 snicList = dic[adapter] 11 for snic in snicList: 12 if iptype in snic.family.name: 13 if t == 4 and \u0026#34;:\u0026#34; in snic.address: 14 continue 15 ips.append(snic.address) 16 return ips 1import socket 2def GetLocalIP(t=None): 3 ips = [] 4 addrs = socket.getaddrinfo(socket.gethostname(),None) 5 for item in addrs: 6 if t == 4 and \u0026#39;:\u0026#39; in item[4][0]: 7 continue 8 if t == 6 and \u0026#39;:\u0026#39; not in item[4][0]: 9 continue 10 ips.append(item[4][0]) 11 return ips 1import json 2import requests 3import time 4import socket 5import schedule 6import datetime 7import jenkins 8import psutil 9 10KEYSMILE=\u0026#39;.\u0026#39; 11 12def get_nodes_summary(username, password): 13 # https://blog.csdn.net/Sudley/article/details/103848127 14 #è·å–nodesèŠ‚ç‚¹çš„nameã€labelã€ipã€statusï¼ˆè¿æ¥çŠ¶æ€ï¼‰ 15 16 try: 17 server = jenkins.Jenkins(\u0026#39;http://%s:%s@xxxx:8080\u0026#39;, username, password) 18 19 nodes = server.get_nodes() 20 21 win_slave = [x for x in nodes if x[\u0026#39;name\u0026#39;] == \u0026#39;win_Slave\u0026#39;] 22 # node_name = win_slave[0][\u0026#39;name\u0026#39;] 23 isonline = not win_slave[0][\u0026#39;offline\u0026#39;] 24 except Exception as e: 25 isonline = False 26 27 return isonline 28 29def GetLocalIPNew(t=None): 30 unwanted_interface = [\u0026#39;Eth_eth0\u0026#39;, \u0026#39;Loopback Pseudo-Interface 1\u0026#39;] # ä¸æƒ³è¦çš„ç½‘å¡å 31 ips = [] 32 interfaces = psutil.net_if_addrs() 33 for name, net_addresses in interfaces.items(): 34 for net_address in net_addresses: 35 if (net_address.family == socket.AF_INET or net_address.family == socket.AF_INET6) and name not in unwanted_interface: 36 ips.append(net_address.address) 37 return ips 38 39def GetLocalIP(t=None): 40 ips = [] 41 addrs = socket.getaddrinfo(socket.gethostname(),None) 42 for item in addrs: 43 if t == 4 and \u0026#39;:\u0026#39; in item[4][0]: 44 continue 45 if t == 6 and \u0026#39;:\u0026#39; not in item[4][0]: 46 continue 47 ips.append(item[4][0]) 48 return ips 49 50def SendMessage(keyword, msg): 51 url = \u0026#39;bark.com\u0026#39; 52 HEADERS = { 53 \u0026#34;Content-Type\u0026#34;: \u0026#34;application/json; charset=utf-8\u0026#34; 54 } 55 56 isonline = get_nodes_summary(\u0026#39;user\u0026#39;, \u0026#39;test123\u0026#39;) 57 if isonline is False: 58 msg += \u0026#34; , offine ~~~\u0026#34; 59 60 sendMsg = { 61 \u0026#34;msgtype\u0026#34;: \u0026#34;text\u0026#34;, 62 \u0026#34;text\u0026#34;: { 63 \u0026#34;content\u0026#34;: keyword + \u0026#39; \u0026#39; + msg 64 } 65 } 66 67 try: 68 requests.post(url, data=json.dumps(sendMsg), headers=HEADERS) 69 ret = True 70 except Exception as e: 71 ret = False 72 73 return ret 74 75def job(): 76 SendMessage(KEYSMILE, \u0026#34;Good Morning\u0026#34;) 77 78if __name__ == \u0026#39;__main__\u0026#39;: 79 print(datetime.datetime.now(), \u0026#34;start run now ...\u0026#34;) 80 schedule.every().day.at(\u0026#34;00:00\u0026#34;).do(job) 81 82 ips = [] 83 ipchanged = False 84 85 while True: 86 schedule.run_pending() 87 time.sleep(20) 88 89 if ips != GetLocalIPNew(): 90 ipchanged = True 91 ips = GetLocalIPNew() 92 print(datetime.datetime.now(), \u0026#34;warning ip changed: \u0026#34;, ips) 93 if ipchanged == True and \\ 94 SendMessage(KEYSMILE, \u0026#39;, \u0026#39;.join(ips)) == True: 95 ipchanged = False jlinkä¸‹è½½ 1@echo off 2 3:: Calculate the number of parameters 4set argC=0 5for %%x in (%*) do Set /A argC+=1 6 7if %argC% geq 3 ( 8 echo error, too many parameters 9 echo one param: %0 test1 10 echo two param: %0 [jlink.exe]_path test1 11 exit /b 1 12) else if %argC% == 2 ( 13 set jlinkpath=%1 14 set project=%2 15) else ( 16 set jlinkpath=\u0026#34;C:\\Program Files\\SEGGER\\JLink\\JLink.exe\u0026#34; 17 set project=%1 18) 19 20if [%project%] == [] ( 21 set project=test1 22) 23 24for /R \u0026#34;.\\build\\%project%\\obj\\bin\\\u0026#34; %%F in (*.hex) do set \u0026#34;hexfile=.\\build\\%project%\\obj\\bin\\%%~nxF\u0026#34; 25 26if not exist %jlinkpath% ( echo jlinkpath error : %jlinkpath% \u0026amp; exit /b 2 ) 27if not exist %hexfile% ( echo project error : %project% \u0026amp; exit /b 2 ) 28 29set commandfile=jinkConfig.txt 30@echo speed 4000 \u0026gt; %commandfile% 31@echo r \u0026gt;\u0026gt; %commandfile% 32@echo h \u0026gt;\u0026gt; %commandfile% 33@echo erase \u0026gt;\u0026gt; %commandfile% 34@echo loadfile %hexfile% \u0026gt;\u0026gt; %commandfile% 35@echo q \u0026gt;\u0026gt; %commandfile% 36 37%jlinkpath% -device STM32H743II -si swd -autoconnect 1 -nogui 1 -exitonerror 1 -commandfile %commandfile% 38set err=%errorlevel% 39if exist %commandfile% ( del %commandfile% ) 40 41if %err% neq 0 ( echo download error : %project% \u0026amp; exit /b %err% ) 42exit /b 0 process-explorer Process Explorer - Sysinternals\npslist PsList - Sysinternals\nHandleå…³è”çš„å¥æŸ„ Handle - Sysinternals\nproxy clash verge\nåŸºäº Sing-box é€šç”¨ä»£ç†å·¥å…·: hiddify\nSumatraPDF å°å·§å…è´¹PDFæŸ¥çœ‹å™¨ï¼šSumatraPDF\n1# æ‰§è¡Œè·¯å¾„ï¼šSumatraPDF-settings.txt 2# https://www.sumatrapdfreader.org/docs/Commands 3Shortcuts [ 4\t[ 5\tCmd = CmdNextTab 6\tKey = Alt + e 7\t] 8\t[ 9\tCmd = CmdPrevTab 10\tKey = Alt + w 11\t] 12] æ¡Œé¢ç½®é¡¶ PinWin\nå°å·¥å…· ç”»ç¬”å·¥å…· glnk\nxmlæŸ¥çœ‹å·¥å…·\nåˆ é™¤Pdfå¯†ç  1import fitz # pip install PyMuPDF 2 3input_pdf_path = \u0026#39;xxx.pdf\u0026#39; 4output_pdf_path = \u0026#39;xxx_1.pdf\u0026#39; 5pdf_password = \u0026#39;test123\u0026#39; 6 7# æ‰“å¼€å—å¯†ç ä¿æŠ¤çš„PDFæ–‡ä»¶ 8pdf_document = fitz.open(input_pdf_path) 9 10# æ£€æŸ¥PDFæ˜¯å¦åŠ å¯† 11if pdf_document.is_encrypted: 12 # å°è¯•ä½¿ç”¨å¯†ç è§£å¯† 13 if not pdf_document.authenticate(pdf_password): 14 print(\u0026#34;Invalid password. Cannot remove password from PDF.\u0026#34;) 15 pdf_document.close() 16 exit(1) 17 18# ä¿å­˜ä¸€ä¸ªæ–°çš„æ— å¯†ç PDFæ–‡ä»¶ 19pdf_document.save(output_pdf_path, encryption=fitz.PDF_ENCRYPT_NONE) 20pdf_document.close() 21 22print(\u0026#39;PDF password has been removed.\u0026#39;) PDFåŠ ä¹¦ç­¾ https://github.com/ifnoelse/pdf-bookmark.git\nç”±äºç½‘ä¸Šdownloadçš„ISO14229æ–‡æ¡£æ²¡æœ‰ä¹¦ç­¾ï¼Œæ•…æ‰¾äº†ä¸ªå°å·¥å…·å¯ä»¥æ·»åŠ ä¹¦ç­¾ï¼Œç•™æ­¤è®°å½•ã€‚\nGitHub - chroming/pdfdir: PDFå¯¼èˆªï¼ˆå¤§çº²/ç›®å½•ï¼‰æ·»åŠ å·¥å…·\nç›®å½•éœ€è¦æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼š\näºŒå±‚ ^\\d\\d?.\\d\\d?\\s ä¸‰å±‚ ^\\d\\d?.\\d\\d?.\\d\\d?\n1xyz=\u0026#39;\u0026#39;\u0026#39; 2Annex I (normative) Security access state chart 450 3Annex J (informative) Recommended implementation for multiple client environments 458 4Bibliography 464 5\u0026#39;\u0026#39;\u0026#39; 6lines = xyz.split(\u0026#39;\\n\u0026#39;) 7#print(lines) 8for line in lines: 9 matchObj = re.search( r\u0026#39;\\w+$\u0026#39;, line, re.M|re.I) 10 if matchObj: 11 x=int(matchObj.group())+12 12 print(re.sub(r\u0026#39;\\w+$\u0026#39;, str(x), line)) 13 # else: 14 # print( \u0026#34;No match!!\u0026#34;) 15#re.search( r\u0026#39;\\w+$\u0026#39;, line, re.M|re.I) pythonåŠ è§£å¯† 1 2# pip3 install pycryptodome pillow 3 4from Crypto.Cipher import AES, PKCS1_OAEP 5from Crypto.PublicKey import RSA 6import zipfile 7from PIL import Image 8from Crypto.Cipher import AES 9from Crypto.Random import get_random_bytes 10import os 11import argparse 12 13def unpad(data): 14 pad_len = data[-1] 15 return data[:-pad_len] 16 17def decrypt_file(input_file, output_folder, private_key_file): 18 with open(private_key_file, \u0026#39;rb\u0026#39;) as f: 19 rsa_key = RSA.import_key(f.read()) 20 rsa_cipher = PKCS1_OAEP.new(rsa_key) 21 22 # âœ… åŠ¨æ€è®¡ç®— key é•¿åº¦ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰ 23 rsa_key_len_bytes = rsa_key.size_in_bits() // 8 # e.g. 4096 bits â†’ 512 bytes 24 25 with open(input_file, \u0026#39;rb\u0026#39;) as f: 26 encrypted_key = f.read(rsa_key_len_bytes) # â¬…ï¸ åŠ¨æ€è¯»å–å¯¹åº”é•¿åº¦ 27 iv = f.read(16) 28 encrypted_data = f.read() 29 30 aes_key = rsa_cipher.decrypt(encrypted_key) 31 aes_cipher = AES.new(aes_key, AES.MODE_CBC, iv) 32 decrypted_data = unpad(aes_cipher.decrypt(encrypted_data)) 33 34 if not os.path.exists(output_folder): 35 os.makedirs(output_folder) 36 # ä¸´æ—¶è§£å‹ 37 zip_path = os.path.join(output_folder, \u0026#34;decrypted_temp.zip\u0026#34;) 38 with open(zip_path, \u0026#39;wb\u0026#39;) as f: 39 f.write(decrypted_data) 40 41 with zipfile.ZipFile(zip_path, \u0026#39;r\u0026#39;) as zipf: 42 zipf.extractall(output_folder) 43 44 os.remove(zip_path) 45 46def decrypt_bin(input_bin, output_dir, private_key): 47 decrypt_file(input_bin, output_dir, private_key) 48 49def zip_folder(folder_path, zip_path): 50 with zipfile.ZipFile(zip_path, \u0026#39;w\u0026#39;, zipfile.ZIP_DEFLATED) as zipf: 51 for root, _, files in os.walk(folder_path): 52 for file in files: 53 full_path = os.path.join(root, file) 54 arcname = os.path.relpath(full_path, folder_path) 55 zipf.write(full_path, arcname) 56 57def pad(data): 58 pad_len = 16 - len(data) % 16 59 return data + bytes([pad_len] * pad_len) 60 61def encrypt_zip(zip_file, output_file, public_key_file): 62 # åŠ è½½RSAå…¬é’¥ 63 with open(public_key_file, \u0026#39;rb\u0026#39;) as f: 64 rsa_key = RSA.import_key(f.read()) 65 rsa_cipher = PKCS1_OAEP.new(rsa_key) 66 67 # ç”ŸæˆAESå¯†é’¥å’ŒIV 68 aes_key = get_random_bytes(16) 69 iv = get_random_bytes(16) 70 71 # zipå†…å®¹ 72 with open(zip_file, \u0026#39;rb\u0026#39;) as f: 73 data = f.read() 74 padded = pad(data) 75 aes_cipher = AES.new(aes_key, AES.MODE_CBC, iv) 76 encrypted_data = aes_cipher.encrypt(padded) 77 78 # ç”¨RSAAESå¯†é’¥ 79 encrypted_key = rsa_cipher.encrypt(aes_key) 80 81 # å†™å…¥è¾“å‡ºï¼šRSAkey + IV + æ•°æ® 82 with open(output_file, \u0026#39;wb\u0026#39;) as f: 83 f.write(encrypted_key) 84 f.write(iv) 85 f.write(encrypted_data) 86 87def encrypt_bin(input_dir, output_bin, public_key): 88 zip_folder(input_dir, \u0026#39;.tmp\u0026#39;) 89 encrypt_zip(\u0026#39;.tmp\u0026#39;, output_bin, public_key) 90 os.remove(\u0026#39;.tmp\u0026#39;) 91 92 93def unpad(data): 94 pad_len = data[-1] 95 return data[:-pad_len] 96 97def extract_data_from_image(stego_path, output_bin_path, key, payload_len): 98 img = Image.open(stego_path).convert(\u0026#34;RGB\u0026#34;) 99 pixels = list(img.getdata()) 100 101 total_bits = payload_len * 8 102 bits = \u0026#39;\u0026#39; 103 for pixel in pixels: 104 for color in pixel: 105 bits += str(color \u0026amp; 1) 106 if len(bits) \u0026gt;= total_bits: 107 break 108 if len(bits) \u0026gt;= total_bits: 109 break 110 111 data_bytes = bytes(int(bits[i:i+8], 2) for i in range(0, total_bits, 8)) 112 iv = data_bytes[:16] 113 encrypted = data_bytes[16:] 114 115 cipher = AES.new(key, AES.MODE_CBC, iv) 116 decrypted = unpad(cipher.decrypt(encrypted)) 117 118 with open(output_bin_path, \u0026#39;wb\u0026#39;) as f: 119 f.write(decrypted) 120 121 print(f\u0026#34;ğŸ”“ ï¼š{output_bin_path}\u0026#34;) 122 123def decrypt_png(input_png, output_bin, key_dlen_str): 124 key_hex, dlen_str = key_dlen_str.split(\u0026#34;:\u0026#34;) 125 extract_data_from_image(input_png, output_bin, bytes.fromhex(key_hex), int(dlen_str)) 126 127def pad(data): 128 pad_len = 16 - len(data) % 16 129 return data + bytes([pad_len] * pad_len) 130 131def encrypt_data(data, key, iv): 132 cipher = AES.new(key, AES.MODE_CBC, iv) 133 return cipher.encrypt(pad(data)) 134 135def embed_data_to_image(image_path, bin_path, output_path, key): 136 iv = get_random_bytes(16) 137 with open(bin_path, \u0026#39;rb\u0026#39;) as f: 138 data = f.read() 139 encrypted = encrypt_data(data, key, iv) 140 payload = iv + encrypted 141 142 img = Image.open(image_path).convert(\u0026#34;RGB\u0026#34;) 143 pixels = list(img.getdata()) 144 145 bits = \u0026#39;\u0026#39;.join(f\u0026#39;{byte:08b}\u0026#39; for byte in payload) 146 if len(bits) \u0026gt; len(pixels) * 3: 147 raise ValueError(\u0026#34;æ•°æ®å¤ªå¤§ï¼Œæ— æ³•åµŒå…¥è¿™å¼ å›¾ç‰‡ã€‚\u0026#34;) 148 149 new_pixels = [] 150 bit_idx = 0 151 for pixel in pixels: 152 r, g, b = pixel 153 if bit_idx \u0026lt; len(bits): 154 r = (r \u0026amp; 0xFE) | int(bits[bit_idx]) 155 bit_idx += 1 156 if bit_idx \u0026lt; len(bits): 157 g = (g \u0026amp; 0xFE) | int(bits[bit_idx]) 158 bit_idx += 1 159 if bit_idx \u0026lt; len(bits): 160 b = (b \u0026amp; 0xFE) | int(bits[bit_idx]) 161 bit_idx += 1 162 new_pixels.append((r, g, b)) 163 164 img.putdata(new_pixels) 165 img.save(output_path) 166 # print(f\u0026#34;âœ… ï¼š{output_path}\u0026#34;) 167 168 return len(payload) 169 170def encrypt_png(input_png, input_bin, keylen): 171 key = get_random_bytes(keylen) # å¿…é¡»ä¿å­˜è¿™ä¸ª key 172 print(\u0026#34;KEY(hex):\u0026#34;, key.hex()) 173 payload_len = embed_data_to_image(input_png, input_bin, f\u0026#39;new_{input_png}\u0026#39;, key) 174 print(f\u0026#34;æ•°æ®é•¿åº¦: {payload_len} å­—èŠ‚\u0026#34;) 175 176def generate(len): 177 key = RSA.generate(len) 178 private_key = key.export_key() 179 public_key = key.publickey().export_key() 180 181 with open(\u0026#34;private.pem\u0026#34;, \u0026#34;wb\u0026#34;) as f: 182 f.write(private_key) 183 184 with open(\u0026#34;public.pem\u0026#34;, \u0026#34;wb\u0026#34;) as f: 185 f.write(public_key) 186 print(\u0026#34;ğŸ”‘ å¯†é’¥å¯¹å·²ç”Ÿæˆï¼šprivate.pem / public.pem\u0026#34;) 187 188def main(): 189 parser = argparse.ArgumentParser(description=\u0026#34;ğŸ” å¤šåŠŸèƒ½å·¥å…·\u0026#34;) 190 subparsers = parser.add_subparsers(dest=\u0026#34;command\u0026#34;) 191 192 # 1. generate 193 g = subparsers.add_parser(\u0026#34;generate\u0026#34;, help=\u0026#34;ç”Ÿæˆ RSA å¯†é’¥å¯¹\u0026#34;) 194 g.add_argument(\u0026#34;--bits\u0026#34;, type=int, default=8192, help=\u0026#34;RSA å¯†é’¥ä½æ•°ï¼ˆé»˜è®¤2048ï¼‰\u0026#34;) 195 196 # 2. encrypt-bin 197 ebin = subparsers.add_parser(\u0026#34;encrypt-bin\u0026#34;, help=\u0026#34;encrypt-bin\u0026#34;) 198 ebin.add_argument(\u0026#34;--input\u0026#34;, required=True, help=\u0026#34;input dir\u0026#34;) 199 ebin.add_argument(\u0026#34;--output\u0026#34;, required=True, help=\u0026#34;out bin\u0026#34;) 200 ebin.add_argument(\u0026#34;--pub\u0026#34;, required=True, help=\u0026#34;RSA pub\u0026#34;) 201 202 # 3. decrypt-bin 203 dbin = subparsers.add_parser(\u0026#34;decrypt-bin\u0026#34;, help=\u0026#34;decrypt-bin\u0026#34;) 204 dbin.add_argument(\u0026#34;--input\u0026#34;, required=True, help=\u0026#34;input bin\u0026#34;) 205 dbin.add_argument(\u0026#34;--output\u0026#34;, required=True, help=\u0026#34;out dir\u0026#34;) 206 dbin.add_argument(\u0026#34;--priv\u0026#34;, required=True, help=\u0026#34;RSA pri\u0026#34;) 207 208 # 4. encrypt-png 209 epng = subparsers.add_parser(\u0026#34;encrypt-png\u0026#34;, help=\u0026#34;encrypt-png\u0026#34;) 210 epng.add_argument(\u0026#34;--png\u0026#34;, required=True, help=\u0026#34;input png\u0026#34;) 211 epng.add_argument(\u0026#34;--bin\u0026#34;, required=True, help=\u0026#34;input bin\u0026#34;) 212 epng.add_argument(\u0026#34;--keylen\u0026#34;, type=int, default=32, help=\u0026#34;keylen(16)\u0026#34;) 213 214 # 5. decrypt-png 215 dpng = subparsers.add_parser(\u0026#34;decrypt-png\u0026#34;, help=\u0026#34;decrypt-png\u0026#34;) 216 dpng.add_argument(\u0026#34;--image\u0026#34;, required=True, help=\u0026#34;input png\u0026#34;) 217 dpng.add_argument(\u0026#34;--output\u0026#34;, required=True, help=\u0026#34;out bin\u0026#34;) 218 dpng.add_argument(\u0026#34;--key\u0026#34;, type=str, required=True, help=\u0026#34;key (hex)\u0026#34;) 219 220 args = parser.parse_args() 221 if args.command == \u0026#34;generate\u0026#34;: 222 generate(args.bits) 223 elif args.command == \u0026#34;encrypt-bin\u0026#34;: 224 encrypt_bin(args.input, args.output, args.pub) 225 elif args.command == \u0026#34;decrypt-bin\u0026#34;: 226 decrypt_bin(args.input, args.output, args.priv) 227 elif args.command == \u0026#34;encrypt-png\u0026#34;: 228 encrypt_png(args.png, args.bin, args.keylen) 229 elif args.command == \u0026#34;decrypt-png\u0026#34;: 230 decrypt_png(args.image, args.output, args.key) 231 else: 232 parser.print_help() 233 234 # python 1.py generate --bits 8192 235 # python 1.py encrypt-bin --input a --output a.bin --pub public.pem 236 # python 1.py decrypt-bin --input a.bin --output a2 --priv private.pem 237 # python 1.py encrypt-png --png cover.png --bin a.bin --keylen 32 238 # python 1.py decrypt-png --image new_cover.png --output a.bin --key 31baed5c2e04541897384406828a8dd7:2032 239 240if __name__ == \u0026#39;__main__\u0026#39;: 241 main() 242 243 # generate(8192) 244 # encrypt_bin(\u0026#39;a\u0026#39;,\u0026#39;a.bin\u0026#39;, \u0026#39;public.pem\u0026#39;) 245 # decrypt_bin(\u0026#39;a.bin\u0026#39;, \u0026#39;a2\u0026#39;, \u0026#39;private.pem\u0026#39;) 246 # encrypt_png(\u0026#39;cover.png\u0026#39; ,\u0026#39;a.bin\u0026#39;, 32) 247 # decrypt_png(\u0026#39;new_cover.png\u0026#39;, \u0026#39;a2.bin\u0026#39;, bytes.fromhex(\u0026#39;ä¹‹å‰ç”Ÿæˆçš„KEY\u0026#39;):dlen) é’é¾™ faker2\njdpro\nandroid auto.js Android System WebView\nåŒ…åæŸ¥çœ‹å™¨ https://www.coolapk.com/apk/com.csdroid.pkg\nåç¼–è¯‘: jadx\nlogæŸ¥çœ‹:\nlognote CatSpy 1set path=C:\\Android\\openjdk\\jdk-17.0.8.101-hotspot\\bin;%path% 2java -jar CatSpy.jar å¯å¯åŠ¨Uç›˜ å¯å¯åŠ¨Uç›˜: Ventoy\ngithubä»“åº“ åƒåœ¾ç«™ç‚¹è¿‡æ»¤ï¼šchinese-internet-is-dead\nä¸€äº›æŠ€æœ¯pdfï¼šdevelop-reference-data\nfreertosæºç ï¼šFreeRTOS_Template\nå°ç¨‹åºåæ±‡ç¼–ï¼šwxapkg\nPDFç¼–è¾‘å·¥å…·ï¼šStirling-PDF\nOCRé€šç”¨éªŒè¯ç ç¦»çº¿æœ¬åœ°è¯†åˆ«ï¼šddddocr\né€šç”¨çš„ï¼£åŸºç¡€åº“ï¼šgear-lib\nAutosaré…ç½®ç•Œé¢ï¼šAutosar-Configurator\næ ¡å›­äºŒæ‰‹å•†åŸå¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘ï¼šused-book-secondhand\nå¼€æºç½‘ç»œæµé‡ç›‘æ§å·¥å…·ï¼šsniffnet\né˜²å¤šæ¬¡é”™è¯¯è®¤è¯ï¼šfail2ban\nohmyzsh\næ–‡ä»¶ç±»å‹è¯†åˆ«ï¼šDetect-It-Easy\nç¼–ç¨‹ç›¸å…³ä¹¦ç± free-programming-books-zh\nhttps://github.com/p-moon/develop-reference-data\n","date":"2025å¹´7æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/doraemon/","series":[],"smallImg":"","tags":[{"title":"å·¥å…·ç®±","url":"/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/"},{"title":"Linux","url":"/tags/linux/"},{"title":"Win","url":"/tags/win/"}],"timestamp":1751383982,"title":"æ‡’äººæŠ€æœ¯æ‰‹å†Œ"},{"authors":[],"categories":[{"title":"æ‡’äººå¿«æ·é”®","url":"/categories/%E6%87%92%E4%BA%BA%E5%BF%AB%E6%8D%B7%E9%94%AE/"}],"content":"ä¸€ã€è¯´æ˜ Ctrl â€“ k: å…ˆæŒ‰ä½ Ctrl é”®ï¼Œç„¶åå†æŒ‰ k é”®ï¼›\nAlt â€“ k: å…ˆæŒ‰ä½ Alt é”®ï¼Œç„¶åå†æŒ‰ k é”®ï¼›\nM â€“ kï¼šå…ˆå•å‡» Esc é”®ï¼Œç„¶åå†æŒ‰ k é”®ã€‚\näºŒã€ç§»åŠ¨å…‰æ ‡ Ctrl â€“ a: ç§»åˆ°è¡Œé¦–\nCtrl â€“ e: ç§»åˆ°è¡Œå°¾\nCtrl â€“ b: å¾€å›(å·¦)ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦\nCtrl â€“ f: å¾€å(å³)ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦\nAlt â€“ b: å¾€å›(å·¦)ç§»åŠ¨ä¸€ä¸ªå•è¯\nAlt â€“ f: å¾€å(å³)ç§»åŠ¨ä¸€ä¸ªå•è¯\nCtrl â€“ xx: åœ¨å‘½ä»¤è¡Œå°¾å’Œå…‰æ ‡ä¹‹é—´ç§»åŠ¨\nä¸‰ã€ç¼–è¾‘å‘½ä»¤ Ctrl â€“ h: åˆ é™¤å…‰æ ‡å·¦æ–¹ä½ç½®çš„å­—ç¬¦\nCtrl â€“ d: åˆ é™¤å…‰æ ‡å³æ–¹ä½ç½®çš„å­—ç¬¦ï¼ˆæ³¨æ„ï¼šå½“å‰å‘½ä»¤è¡Œæ²¡æœ‰ä»»ä½•å­—ç¬¦æ—¶ï¼Œä¼šæ³¨é”€ç³»ç»Ÿæˆ–ç»“æŸç»ˆç«¯ï¼‰\nCtrl â€“ w: ç”±å…‰æ ‡ä½ç½®å¼€å§‹ï¼Œå¾€å·¦åˆ é™¤å•è¯ã€‚å¾€è¡Œé¦–åˆ \nAlt â€“ d: ç”±å…‰æ ‡ä½ç½®å¼€å§‹ï¼Œå¾€å³åˆ é™¤å•è¯ã€‚å¾€è¡Œå°¾åˆ \nCtrl â€“ k: ç”±å…‰æ ‡æ‰€åœ¨ä½ç½®å¼€å§‹ï¼Œåˆ é™¤å³æ–¹æ‰€æœ‰çš„å­—ç¬¦ï¼Œç›´åˆ°è¯¥è¡Œç»“æŸã€‚\nCtrl â€“ u: ç”±å…‰æ ‡æ‰€åœ¨ä½ç½®å¼€å§‹ï¼Œåˆ é™¤å·¦æ–¹æ‰€æœ‰çš„å­—ç¬¦ï¼Œç›´åˆ°è¯¥è¡Œå¼€å§‹ã€‚\nCtrl â€“ y: ç²˜è´´ä¹‹å‰åˆ é™¤çš„å†…å®¹åˆ°å…‰æ ‡åã€‚\nAlt + t: äº¤æ¢å…‰æ ‡å¤„å’Œä¹‹å‰ä¸¤ä¸ªå­—ç¬¦çš„ä½ç½®ã€‚\nAlt + .: ä½¿ç”¨ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ã€‚\nCtrl â€“ _: å›å¤ä¹‹å‰çš„çŠ¶æ€ã€‚æ’¤é”€æ“ä½œã€‚\nCtrl -a + Ctrl -k æˆ– Ctrl -e + Ctrl -u æˆ– Ctrl -k + Ctrl -u ç»„åˆå¯åˆ é™¤æ•´è¡Œã€‚\nå››ã€Bang(!)å‘½ä»¤ !!: æ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ã€‚\nfoobar: æŠŠä¸Šä¸€æ¡å‘½ä»¤é‡Œçš„fooæ›¿æ¢ä¸ºbarï¼Œå¹¶æ‰§è¡Œã€‚\n!wget: æ‰§è¡Œæœ€è¿‘çš„ä»¥wgetå¼€å¤´çš„å‘½ä»¤ã€‚\n!wget:p: ä»…æ‰“å°æœ€è¿‘çš„ä»¥wgetå¼€å¤´çš„å‘½ä»¤ï¼Œä¸æ‰§è¡Œã€‚\n!$: ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œ ä¸ Alt - . å’Œ $_ ç›¸åŒã€‚\n!*: ä¸Šä¸€æ¡å‘½ä»¤çš„æ‰€æœ‰å‚æ•°\n!*:p: æ‰“å°ä¸Šä¸€æ¡å‘½ä»¤æ˜¯æ‰€æœ‰å‚æ•°ï¼Œä¹Ÿå³ !*çš„å†…å®¹ã€‚\n^abc: åˆ é™¤ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„abcã€‚\nfoobar: å°†ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„ foo æ›¿æ¢ä¸º bar\nfoobar^: å°†ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„ foo æ›¿æ¢ä¸º bar\n!-n: æ‰§è¡Œå‰næ¡å‘½ä»¤ï¼Œæ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ï¼š !-1ï¼Œ æ‰§è¡Œå‰5æ¡å‘½ä»¤çš„æ ¼å¼æ˜¯ï¼š !-5\näº”ã€æŸ¥æ‰¾å†å²å‘½ä»¤ Ctrl â€“ p: æ˜¾ç¤ºå½“å‰å‘½ä»¤çš„ä¸Šä¸€æ¡å†å²å‘½ä»¤\nCtrl â€“ n: æ˜¾ç¤ºå½“å‰å‘½ä»¤çš„ä¸‹ä¸€æ¡å†å²å‘½ä»¤\nCtrl â€“ r: æœç´¢å†å²å‘½ä»¤ï¼Œéšç€è¾“å…¥ä¼šæ˜¾ç¤ºå†å²å‘½ä»¤ä¸­çš„ä¸€æ¡åŒ¹é…å‘½ä»¤ï¼ŒEnteré”®æ‰§è¡ŒåŒ¹é…å‘½ä»¤ï¼›ESCé”®åœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºè€Œä¸æ‰§è¡ŒåŒ¹é…å‘½ä»¤ã€‚\nCtrl â€“ g: ä»å†å²æœç´¢æ¨¡å¼ï¼ˆCtrl â€“ rï¼‰é€€å‡ºã€‚\nå…­ã€æ§åˆ¶å‘½ä»¤ Ctrl â€“ l: æ¸…é™¤å±å¹•ï¼Œç„¶åï¼Œåœ¨æœ€ä¸Šé¢é‡æ–°æ˜¾ç¤ºç›®å‰å…‰æ ‡æ‰€åœ¨çš„è¿™ä¸€è¡Œçš„å†…å®¹ã€‚\nCtrl â€“ o: æ‰§è¡Œå½“å‰å‘½ä»¤ï¼Œå¹¶é€‰æ‹©ä¸Šä¸€æ¡å‘½ä»¤ã€‚\nCtrl â€“ s: é˜»æ­¢å±å¹•è¾“å‡º\nCtrl â€“ q: å…è®¸å±å¹•è¾“å‡º\nCtrl â€“ c: ç»ˆæ­¢å‘½ä»¤\nCtrl â€“ z: æŒ‚èµ·å‘½ä»¤\nä¸ƒã€é‡å¤æ‰§è¡Œæ“ä½œåŠ¨ä½œ M â€“ æ“ä½œæ¬¡æ•° æ“ä½œåŠ¨ä½œ: æŒ‡å®šæ“ä½œæ¬¡æ•°ï¼Œé‡å¤æ‰§è¡ŒæŒ‡å®šçš„æ“ä½œã€‚\nå‚è€ƒ linux å‘½ä»¤è¡Œ å…‰æ ‡ç§»åŠ¨æŠ€å·§\n","date":"2025å¹´7æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/linux/shell/terminalshortcutkeys/","series":[{"title":"æ‡’äººæ•™ç¨‹ç³»åˆ—","url":"/series/%E6%87%92%E4%BA%BA%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/"}],"smallImg":"","tags":[{"title":"Terminal","url":"/tags/terminal/"},{"title":"Shell","url":"/tags/shell/"},{"title":"å¿«æ·é”®","url":"/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"}],"timestamp":1751380576,"title":"ç»ˆç«¯å¿«æ·é”®"},{"authors":[],"categories":[{"title":"Trace32ä½¿ç”¨è¯´æ˜","url":"/categories/trace32%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/"}],"content":"TC397xpä¸‹è½½è„šæœ¬ é»˜è®¤Flashåˆ·å†™*.cmmè„šæœ¬è·¯å¾„ï¼šå®‰è£…è·¯å¾„\\demo\\tricore\\flash\ntc397.bat, æ–¹ä¾¿ç¬¬ä¸€æ¬¡å¯åŠ¨trace32è½¯ä»¶\n1@echo off 2rem è®¾ç½® Trace32 å®‰è£…è·¯å¾„ï¼ˆæ ¹æ®ä½ çš„å®é™…å®‰è£…ç›®å½•ä¿®æ”¹ï¼‰ 3set TRACE32_PATH=C:\\T32 4 5rem è®¾ç½®é…ç½®æ–‡ä»¶å’Œå¯åŠ¨è„šæœ¬è·¯å¾„ï¼ˆæ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ï¼‰ 6set CONFIG_FILE=%TRACE32_PATH%\\config.t32 7set CMM_SCRIPT=D:\\mycodedev\\project-tc397\\elf\\my-tc39x.cmm 8 9rem å¯åŠ¨ TRACE32 å¹¶åŠ è½½è„šæœ¬ 10@REM start \u0026#34;\u0026#34; \u0026#34;%TRACE32_PATH%\\bin\\t32.exe\u0026#34; -c \u0026#34;%CONFIG_FILE%\u0026#34; -s \u0026#34;%CMM_SCRIPT%\u0026#34; 11start \u0026#34;\u0026#34; \u0026#34;%TRACE32_PATH%\\bin\\windows64\\t32mtc.exe\u0026#34; -c \u0026#34;%CONFIG_FILE%\u0026#34; -s \u0026#34;%CMM_SCRIPT%\u0026#34; win.cmmï¼Œå¯ä»¥åœ¨trace32è½¯ä»¶ä¸Šè°ƒæ•´å¸ƒå±€éœ€è¦çš„çª—å£ä¹‹åstore windowsï¼Œæ ¹æ®éœ€æ±‚ä¿®æ”¹å³å¯\n1// T32 Fri May 28 10:03:39 2023 2 3B:: 4 5TOOLBAR ON 6STATUSBAR ON 7FramePOS 39.432,15.216,,,Maximized 8WinPAGE.RESet 9 10WinPAGE.Create P000 11WinCLEAR 12 13WinPOS 33.729 35.83 51. 16. 0. 0. W004 14SYStem 15 16WinPOS 47.134 24.627 123. 21. 23. 1. W001 17WinTABS 13. 0. 0. 0. 0. 0. 0. 0. 0. 72. 18Break.List 19 20WinPOS 63.308 26.476 113. 26. 13. 1. W003 21WinTABS 10. 10. 25. 22List P:0x8021A074 23 24WinPOS 56.154 11.714 140. 37. 5. 0. W002 25Frame 26 27WinPOS 0.0 0.0 158. 64. 0. 0. W000 28Var.Watch 29 30; æ ¹æ®éœ€è¦æ·»åŠ å˜é‡ 31Var.AddWatch testcnt 32 33WinPOS 93.375 25.786 96. 46. 13. 1. W004 34Data.dump Var.ADDRESS(\u0026#34;test_buf\u0026#34;) /DIALOG 35 36// b.set func_test 37b.set Mcu_PerformReset 38 39WinPAGE.select P000 40 41ENDDO my-tc39x.cmm\n1; y.spath.srd D:\\mycodedev\\project-tc397 2; æ³¨é‡Šæ ‡è¯†ç¬¦ 3 4system.CPU.TC397Xp 5 6SYStem.DOWN 7SYStem.RESeT 8 9; çƒ§å½•ä¸‹è½½ 10do tc39x.cmm 11 12; æ–¹ä¾¿è°ƒè¯•ç›¸å…³ 13do win.cmm 14 15SYStem.Option.DUALPORT on 16 17SYStem.mode.down 18SYStem.mode.up 19SYStem.mode.go 20 21OS.LoadORTI \u0026#34;RTAOS.orti\u0026#34; 22// core.assign 1 2 3 4 5 6 TC397å¤šæ ¸debug å¸®åŠ©æ–‡æ¡£ C:\\T32\\pdf\\debugger_tricore.pdf\nçƒ§å½•å®Œæˆä¹‹åå¯åŠ¨æ—¶core0ï¼Œå¦‚æœéœ€è¦è°ƒè¯•core1ï¼Œæ­¤æ“ä½œçš„æ–­ç‚¹åªä¼šåœ¨core1ä¸Šç”Ÿæ•ˆ\n1system.mode.NoDebug 2system.config.core 2 3system.mode.attach 4; break 5; goæ­¤æ“ä½œçš„æ–­ç‚¹ä¼šåœ¨æ‰€æœ‰è®¾ç½®çš„æ ¸ä¸Šç”Ÿæ•ˆ\n1system.mode.NoDebug 2; è°ƒè¯•æ‰€æœ‰çš„6ä¸ªæ ¸ 3core.number 6 4; åªè°ƒè¯•éƒ¨åˆ†æ ¸ 5core.assign 1 2 3 å½“å‰Core 0 å’ŒCore 1å„è‡ªçš„å¯„å­˜å™¨ä¿¡æ¯ 1Register /Core 0 2Register /Core 1 å¤šçª—å£è°ƒè¯• Power Debug USBå³é”® add PowerView Instanceï¼Œéœ€è¦åŒæ—¶è°ƒè¯•core0å’Œcore1 åœ¨core0çª—å£æ­£å¸¸çƒ§å½•ä¸‹è½½ï¼Œåˆ°core1çª—å£é…ç½®ç¬¦å·è¡¨è°ƒè¯•\nData.LOAD.Elf test.elf /NoCODE æ³¨ï¼šNoCODE ï¼š Suppresses the code download. Only loads symbolic information. å‚è€ƒï¼šhttps://www2.lauterbach.com/pdf/general_ref_d.pdf\né…ç½®coreä¸º1-\u0026gt;æ ¸0ï¼Œcoreä¸º2-\u0026gt;æ ¸1\n1Format: SYStem.CONFIG.CORE \u0026lt;core_index\u0026gt; \u0026lt;chip_index\u0026gt; 2 3\u0026lt;chip_index\u0026gt;: 1 â€¦ i 4\u0026lt;core_index\u0026gt;: 1 â€¦ k å‚è€ƒï¼šhttps://www2.lauterbach.com/pdf/debugger_mcore.pdf\nå…¶ä»– GHS-TC397ç¼–è¯‘å™¨ å¸®åŠ©æ–‡æ¡£èµ„æ–™ï¼šé€šè¿‡helpview.exeè¿›è¡ŒæŸ¥è¯¢\nå¦‚åæ±‡ç¼–è„šæœ¬ï¼š\n1@echo off 2 3set TARGET_DIR=build 4 5if exist \u0026#34;%TARGET_DIR%\u0026#34; ( 6 echo Deleting dir...: %TARGET_DIR% 7 @REM rmdir /s /q \u0026#34;%TARGET_DIR%\u0026#34; 8) 9 10set \u0026#34;currentDir=%CD%\u0026#34; 11 12set PATH=%currentDir%\\bin;C:\\ghs\\bin;%path% 13 14@REM enter build dir 15pushd build 16 17@REM build elf 18cctri.exe test.c -cpu=tc1v162 -half_precision_type -g -dual_debug -X5853 -Omax -Xtricore_opts_20181 -ansi_alias -delete -data_delete -Onoalign_functions -no_align_standalone_objects --no_vla -discard_zero_initializers --no_commons --gnu_asm -tricore_avoid_mem_trap -version_info -w -errmax=10 -passsource --c++14 --no_rtti --restrict --new_outside_of_constructor -globalcheck=normal -globalcheck_qualifiers --diag_warning=undefined_preproc_id --diag_warning=missing_type_specifier --no_wrap_diagnostics -nostartfiles -Mu -Mx -Ml -Mn -keepmap --preprocess_linker_directive_full -Wl,-no_append -nostartfiles -Mu -Mx -Ml -Mn -keepmap --preprocess_linker_directive_full -Wl,-no_append -o tc397.elf 19@REM Disassembly 20gdump.exe -asm -yd -yl -ylaball tc397.elf \u0026gt; relocations.txt 21 22popd éƒ¨åˆ†åæ±‡ç¼–ä»£ç ç¤ºä¾‹ï¼š\n1movh.a\ta2, 0xa000 2mov16\td15, 1 3st.b\t[a2]89, d15 4ret16 5 tttx1: 6 __ghs_eofn_t234x1: 7movh.a\ta2, 0xa000 8mov16\td15, 1 9st.b\t[a2]89, d15 10ret16 11 func1: 12 __ghs_eofn_tttx1: 13movh.a\ta2, 0xa000 14mov16\td15, 1 15st.b\t[a2]89, d15 16call\t.-22 (0xa000000c) 17ret16 18 func2: 19 __ghs_eofn_func1: 20mov16\td8, d4 21movh.a\ta2, 0xa000 22st.b\t[a2]90, d8 23ret16 24 __ghs_eofn_func2: 25 func3: 26movh.a\ta2, 0xa000 27ld.bu\td15, [a2]91 28extr.u\td2, d15, 0, 8 29ret16 30 __ghs_eofn_func3: 31 main: 32call\t.-66 (0xa0000000) 33call\t.-46 (0xa0000018) 34mov16\td4, 2 35call\t.-36 (0xa0000028) 36call\t.-28 (0xa0000034) 37mov16\td2, 0 38ret16 39 40da\t. DW_TAG_subprogram 41\tDW_AT_name(\u0026#34;func1\u0026#34;) 42\tDW_AT_decl_line(15) 43\tDW_AT_decl_column(6) 44\tDW_AT_decl_file(1) 45\tDW_AT_low_pc(0xa0000018) 46\tDW_AT_high_pc(0xa0000028) 47\tDW_AT_frame_base: reg26 48\tDW_AT_ghs_rsm(0) 49\tDW_AT_ghs_rso(0) 50\tDW_AT_ghs_frsm(4294967295) 51\tDW_AT_ghs_frames(0) 52\tDW_AT_ghs_subcpu(0) 53\tDW_AT_declaration(false) 54\tDW_AT_inline(DW_INL_not_inlined) 55\tDW_AT_external(true) 56\tDW_AT_accessibility(DW_ACCESS_public) 57\tDW_AT_virtuality(DW_VIRTUALITY_none) 58\tDW_AT_prototyped(false) 59 60fb\t. . TAG_lexical_block 61\tDW_AT_low_pc(0xa0000018) 62\tDW_AT_high_pc(0xa0000026) å‚è€ƒ J-Link Multi-core debugging\nTc397freertos_lwip\narmæ ˆå›æº¯\n","date":"2025å¹´7æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/trace32/","series":[{"title":"åµŒå…¥å¼è°ƒè¯•","url":"/series/%E5%B5%8C%E5%85%A5%E5%BC%8F%E8%B0%83%E8%AF%95/"}],"smallImg":"","tags":[{"title":"Trace32","url":"/tags/trace32/"},{"title":"Debug","url":"/tags/debug/"}],"timestamp":1751379132,"title":"TRACE32ä½¿ç”¨æ•™ç¨‹"},{"authors":[],"categories":[{"title":"Markdown-Tutorial","url":"/categories/markdown-tutorial/"}],"content":"vscodeè¿œç¨‹ç²˜è´´å›¾ç‰‡ æ’ä»¶ Paste Image from local pcï¼Œé¡¹ç›®åœ°å€ï¼šhttps://github.com/mushanshitiancai/vscode-paste-image\n1 win: ctrl+alt+v 2 # å¦‚éœ€ä¿®æ”¹ç²˜è´´ç›®å½• \u0026#34;pasteImage.path\u0026#34;: \u0026#34;images/${fileBasenameNoExtension}\u0026#34; ç›®å½•æ ‡é¢˜ ç›´æ¥è¾“å…¥1æ¬¡#ï¼Œå¹¶æŒ‰ä¸‹spaceåï¼Œå°†ç”Ÿæˆ1çº§æ ‡é¢˜ã€‚ è¾“å…¥2æ¬¡#ï¼Œå¹¶æŒ‰ä¸‹spaceåï¼Œå°†ç”Ÿæˆ2çº§æ ‡é¢˜ã€‚ ä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬æ”¯æŒ6çº§æ ‡é¢˜ã€‚æœ‰åŠ©äºä½¿ç”¨TOCè¯­æ³•åç”Ÿæˆä¸€ä¸ªå®Œç¾çš„ç›®å½•ã€‚\næ–‡æœ¬æ ¼å¼ å¼ºè°ƒæ–‡æœ¬ å¼ºè°ƒæ–‡æœ¬\nåŠ ç²—æ–‡æœ¬ åŠ ç²—æ–‡æœ¬\n==æ ‡è®°æ–‡æœ¬==\nåˆ é™¤æ–‡æœ¬\nå¼•ç”¨æ–‡æœ¬\nH2O æ˜¯æ¶²ä½“ã€‚ è¿™æ˜¯ä¸‹æ ‡æ–‡æœ¬\n2^10^ è¿ç®—ç»“æœæ˜¯ 1024. è¿™æ˜¯ä¸Šæ ‡æ–‡æœ¬\nè¿™æ˜¯å¸¦ä¸‹åˆ’çº¿çš„æ–‡æœ¬\né“¾æ¥ä¸å›¾ç‰‡ é“¾æ¥: link.\nå›¾ç‰‡: å¸¦å°ºå¯¸çš„å›¾ç‰‡(HTML \u0026lt;img\u0026gt; æ ‡ç­¾):30x30 åªå±…ä¸­å›¾ç‰‡: å±…ä¸­çš„å›¾ç‰‡ä¸”è®¾ç½®å°ºå¯¸: ä»£ç ç‰‡ åŒæ ·é«˜äº®çš„ ä»£ç ç‰‡.\n1// An highlighted block 2var foo = \u0026#39;bar\u0026#39;; åˆ—è¡¨ å¯é€šè¿‡åœ¨ä¸€è¡Œæˆ–å¤šè¡Œæ–‡æœ¬å‰é¢åŠ ä¸Š -ã€* æˆ– + æ¥åˆ›å»ºä¸€ä¸ªæ— åºåˆ—è¡¨\né¡¹ç›® é¡¹ç›® é¡¹ç›® è¦å¯¹åˆ—è¡¨æ’åºï¼Œè¯·åœ¨æ¯è¡Œå‰é¢æ·»åŠ ä¸€ä¸ªç¼–å·\né¡¹ç›®1 é¡¹ç›®2 é¡¹ç›®3 First item Second item Third item Fourth item ä»»åŠ¡åˆ—è¡¨, è¯·åœ¨åˆ—è¡¨é¡¹å‰åŠ è¿å­—ç¬¦å’Œç©ºæ ¼ï¼Œåæ¥ [ ]ã€‚ è¦å°†ä»»åŠ¡æ ‡è®°ä¸ºå®Œæˆï¼Œè¯·ä½¿ç”¨ [x]\nè®¡åˆ’ä»»åŠ¡ å®Œæˆä»»åŠ¡ è¡¨æƒ…ç¬¦å· ä½ å¯ä»¥é€šè¿‡é”®å…¥ :EMOJICODE:ï¼ˆå†’å·åè·Ÿè¡¨æƒ…ç¬¦å·çš„åç§°ï¼‰å°†è¡¨æƒ…ç¬¦å·æ·»åŠ åˆ°å†™ä½œä¸­ã€‚\n@octocat \u0026#x1f44d; This PR looks great - it\u0026rsquo;s ready to merge! \u0026#x1f600;\næœ‰å…³å¯ç”¨è¡¨æƒ…ç¬¦å·å’Œä»£ç çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·å‚é˜… Emoji-Cheat-Sheet\nè„šæ³¨ Here is a simple footnote1.\nä¸€ä¸ªå…·æœ‰æ³¨è„šçš„æ–‡æœ¬ã€‚2\né”šç‚¹ TEST\n00: 01: TESTè„šæ³¨\næŠ˜å å— å±•å¼€è¡¨æ ¼ Field Bits Type Description C 31 rw Carry é»˜è®¤å±•å¼€ Field Bits Type Description C 31 rw Carry è¡¨æ ¼ ä¸€ä¸ªç®€å•çš„è¡¨æ ¼æ˜¯è¿™ä¹ˆåˆ›å»ºçš„ï¼š\né¡¹ç›® Value ç”µè„‘ $1600 æ‰‹æœº $12 å¯¼ç®¡ $1 å±…ä¸­ã€å±…å·¦ã€å±…å³ ä½¿ç”¨:---------:å±…ä¸­ ä½¿ç”¨:----------å±…å·¦ ä½¿ç”¨----------:å±…å³\nç¬¬ä¸€åˆ— ç¬¬äºŒåˆ— ç¬¬ä¸‰åˆ— ç¬¬ä¸€åˆ—æ–‡æœ¬å±…ä¸­ ç¬¬äºŒåˆ—æ–‡æœ¬å±…å³ ç¬¬ä¸‰åˆ—æ–‡æœ¬å±…å·¦ test test test SmartyPants SmartyPantså°†ASCIIæ ‡ç‚¹å­—ç¬¦è½¬æ¢ä¸ºâ€œæ™ºèƒ½â€å°åˆ·æ ‡ç‚¹HTMLå®ä½“ã€‚ä¾‹å¦‚ï¼š\nTYPE ASCII HTML Single backticks 'Isn't this fun?' \u0026lsquo;Isn\u0026rsquo;t this fun?\u0026rsquo; Quotes \u0026quot;Isn't this fun?\u0026quot; \u0026ldquo;Isn\u0026rsquo;t this fun?\u0026rdquo; Dashes -- is en-dash, --- is em-dash \u0026ndash; is en-dash, \u0026mdash; is em-dash è‡ªå®šä¹‰åˆ—è¡¨? Markdown Text-to-HTML conversion tool Authors John Luke plantuml éœ€è¦è°ƒæ•´hugoä¸»é¢˜æ”¯æŒ\n@startuml Bob -\u003e Alice : hello @enduml KaTeXæ•°å­¦å…¬å¼ æ‚¨å¯ä»¥ä½¿ç”¨æ¸²æŸ“LaTeXæ•°å­¦è¡¨è¾¾å¼ KaTeX:\nGammaå…¬å¼å±•ç¤º $\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$ æ˜¯é€šè¿‡æ¬§æ‹‰ç§¯åˆ†\n$$ \\Gamma(z) = \\int_0^\\infty t^{z-1}e^{-t}dt,. $$\nä½ å¯ä»¥æ‰¾åˆ°æ›´å¤šå…³äºçš„ä¿¡æ¯ LaTeX æ•°å­¦è¡¨è¾¾å¼here.\nç”˜ç‰¹å›¾ gantt dateFormat YYYY-MM-DD title Adding GANTT diagram functionality to mermaid section ç°æœ‰ä»»åŠ¡ å·²å®Œæˆ :done, des1, 2014-01-06,2014-01-08 è¿›è¡Œä¸­ :active, des2, 2014-01-09, 3d è®¡åˆ’ä¸€ : des3, after des2, 5d è®¡åˆ’äºŒ : des4, after des3, 5d å…³äº ç”˜ç‰¹å›¾ è¯­æ³•ï¼Œå‚è€ƒ è¿™å„¿, UML å›¾è¡¨ å¯ä»¥ä½¿ç”¨UMLå›¾è¡¨è¿›è¡Œæ¸²æŸ“ã€‚ Mermaid. ä¾‹å¦‚ä¸‹é¢äº§ç”Ÿçš„ä¸€ä¸ªåºåˆ—å›¾ï¼š\nsequenceDiagram å¼ ä¸‰ -\u0026gt;\u0026gt; æå››: ä½ å¥½ï¼æå››, æœ€è¿‘æ€ä¹ˆæ ·? æå››--\u0026gt;\u0026gt;ç‹äº”: ä½ æœ€è¿‘æ€ä¹ˆæ ·ï¼Œç‹äº”ï¼Ÿ æå››--x å¼ ä¸‰: æˆ‘å¾ˆå¥½ï¼Œè°¢è°¢! æå››-x ç‹äº”: æˆ‘å¾ˆå¥½ï¼Œè°¢è°¢! Note right of ç‹äº”: æå››æƒ³äº†å¾ˆé•¿æ—¶é—´, æ–‡å­—å¤ªé•¿äº†\u0026lt;br/\u0026gt;ä¸é€‚åˆæ”¾åœ¨ä¸€è¡Œ. æå››--\u0026gt;\u0026gt;å¼ ä¸‰: æ‰“é‡ç€ç‹äº”... å¼ ä¸‰-\u0026gt;\u0026gt;ç‹äº”: å¾ˆå¥½... ç‹äº”, ä½ æ€ä¹ˆæ ·? è¿™å°†äº§ç”Ÿä¸€ä¸ªæµç¨‹å›¾ã€‚:\ngraph LR A[é•¿æ–¹å½¢] -- é“¾æ¥ --\u0026gt; B((åœ†)) A --\u0026gt; C(åœ†è§’é•¿æ–¹å½¢) B --\u0026gt; D{è±å½¢} C --\u0026gt; D å…³äº Mermaid è¯­æ³•ï¼Œå‚è€ƒ è¿™å„¿, FLowchartæµç¨‹å›¾ æˆ‘ä»¬ä¾æ—§ä¼šæ”¯æŒflowchartçš„æµç¨‹å›¾ï¼š\nflowchart TD st([å¼€å§‹]) op[æˆ‘çš„æ“ä½œ] cond{ç¡®è®¤ï¼Ÿ} e([ç»“æŸ]) st --\u0026gt; op --\u0026gt; cond cond -- æ˜¯ --\u0026gt; e cond -- å¦ --\u0026gt; op å…³äº Flowchartæµç¨‹å›¾ è¯­æ³•ï¼Œå‚è€ƒ è¿™å„¿. æ³¨é‡Š 1 \u0026lt;!-- TO DO: add more details about me later --\u0026gt; My reference.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\nç¤ºä¾‹ï¼Œæ³¨è„šçš„è§£é‡Š\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2025å¹´6æœˆ29æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/markdown/markdown/","series":[{"title":"Markdownæ•™ç¨‹","url":"/series/markdown%E6%95%99%E7%A8%8B/"}],"smallImg":"","tags":[{"title":"Markdown","url":"/tags/markdown/"},{"title":"ç¼–è¾‘å™¨","url":"/tags/%E7%BC%96%E8%BE%91%E5%99%A8/"},{"title":"å†™ä½œ","url":"/tags/%E5%86%99%E4%BD%9C/"}],"timestamp":1751209871,"title":"Markdown"},{"authors":[],"categories":[{"title":"åµŒå…¥å¼æ¶æ„","url":"/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%9E%B6%E6%9E%84/"}],"content":"å‚è€ƒé“¾æ¥ ArmÂ® CortexÂ®-R52 Processor Technical Reference Manual\n","date":"2025å¹´6æœˆ29æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/cpu/arm/cortex-r/cortex-r52/cortex-r52/","series":[{"title":"ARM æ¶æ„ç³»åˆ—","url":"/series/arm-%E6%9E%B6%E6%9E%84%E7%B3%BB%E5%88%97/"}],"smallImg":"","tags":[{"title":"ARM","url":"/tags/arm/"},{"title":"Cortex-R52","url":"/tags/cortex-r52/"}],"timestamp":1751207233,"title":"Cortex-R52"},{"authors":[],"categories":[{"title":"ç½‘ç»œé€šä¿¡","url":"/categories/%E7%BD%91%E7%BB%9C%E9%80%9A%E4%BF%A1/"}],"content":" åè¯è§£é‡Š ç¼©ç•¥è¯ Wå…¨ç§° è¯¦ç»†è§£é‡Š åº”ç”¨åœºæ™¯ WLP Writer Liveliness Protocol ç”¨äºæ£€æµ‹å‘å¸ƒè€…ï¼ˆWriterï¼‰å­˜æ´»çŠ¶æ€çš„åè®®ï¼Œé€šè¿‡å®šæœŸå‘é€å¿ƒè·³ä¿¡å·å®ç° æ•…éšœæ£€æµ‹ã€QoSä¸­çš„LIVELINESSç­–ç•¥é…ç½® CDR Common Data Representation DDSæ ‡å‡†å®šä¹‰çš„æ•°æ®ç¼–ç æ ¼å¼ï¼Œæ”¯æŒè·¨å¹³å°æ•°æ®åºåˆ—åŒ–ï¼ˆå¤§ç«¯åº/å°ç«¯åºè‡ªé€‚åº”ï¼‰ ç½‘ç»œä¼ è¾“ã€æŒä¹…åŒ–å­˜å‚¨ã€è·¨è¯­è¨€ï¼ˆC++/Javaç­‰ï¼‰æ•°æ®äº¤æ¢ RTPS Real-Time Publish-Subscribe DDSåº•å±‚é€šä¿¡åè®®ï¼ŒåŸºäºUDPå®ç°å®æ—¶å‘å¸ƒè®¢é˜…æ¨¡å¼ è®¾å¤‡å‘ç°ã€æ•°æ®è·¯ç”± QoS Quality of Service æœåŠ¡è´¨é‡ç­–ç•¥é›†åˆï¼ˆå¦‚å¯é æ€§ã€å»¶è¿Ÿçº¦æŸç­‰ï¼‰ é…ç½®æ•°æ®ä¼ è¾“çš„å¯é æ€§(RELIABLE/BEST_EFFORT)ã€æŒä¹…æ€§(DURABILITY)ç­‰ GUID Global Unique Identifier å…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ ¼å¼ï¼šPrefix[12å­—èŠ‚] + EntityId[4å­—èŠ‚] å”¯ä¸€æ ‡è¯†DDSåŸŸä¸­çš„å‚ä¸è€…å’Œç»ˆç»“ç‚¹ DCPS Data-Centric Publish-Subscribe DDSæ ¸å¿ƒAPIå±‚ï¼Œæä¾›ä¸»é¢˜(Topic)ã€æ•°æ®å†™å…¥(DataWriter)/è¯»å–(DataReader)ç­‰æŠ½è±¡ åº”ç”¨ç¨‹åºå¼€å‘æ¥å£ DDSI-RTPS DDS Interoperability Wire Protocol ä¿è¯ä¸åŒDDSå®ç°é—´äº’æ“ä½œçš„ç½‘ç»œåè®®è§„èŒƒ å¤šå‚å•†DDSç³»ç»Ÿé›†æˆï¼ˆå¦‚RTI Connextä¸Fast DDSé€šä¿¡ï¼‰ socket Discovery traffic type multicast unicast User traffic type multicast unicast mvbsä¸­é…ç½®äº†ä¸‰ä¸ªsocketï¼š(ä¸åŒçš„é…ç½®ï¼Œå¯¹åº”ä¸åŒçš„é€»è¾‘ï¼Œæ¯”å¦‚ç»„æ’­socketåªæ¥æ”¶)\nå‘ç°ç»„æ’­socket: å‘é€/æ¥æ”¶ç»„æ’­æ•°æ® å‘ç°å•æ’­socket: æ¥æ”¶å‘ç°å•æ’­æ•°æ® æ•°æ®å•æ’­socket: å‘é€/æ¥æ”¶å•æ’­æ•°æ® æ¥æ”¶ 1main 2 Rte_Dds_Ptcp_Recv_Handler 3 ptcp_recv_handler 4 udp_trans_recv_handle 5 ptcp_recv_cb 6 ptcp_process_new_message 7 msg_recv_process 8 msg_recv_process_submsg æ¶ˆæ¯åˆ†ç±» 9 msg_recv_process_submsg_data (DATA) 10 ptcp_dpde_on_data 11 ptcp_pdp_reader_on_data 12 ptcp_proxy_parse 13 cdr_deserialize_ptcp_proxy (è¿”å›å€¼åˆ¤æ–­æ˜¯å¦new ptcp) 14 ptcp_pdp_reader_data_process ï¼ˆä¸Šé¢è¿”å›okï¼Œæ‰ä¼šç»§ç»­ï¼‰ 15 ptcp_spdp_create_ptcp_proxy (Add new ptcp) å‘é€ 1Rte_Dds_TxData 2 writer_submit_sample 3 writer_submit_instance_sample 4 writer_new_change 5 writer_send_data 6 writer_send_wcc ï¼ˆæ²¡æœ‰å¯¹ptcp_send_buffer_toè¿”å›å€¼å¤„ç†ï¼Œä¸Šå±‚å¤±è´¥è¿”å›ä¹Ÿæ˜¯okï¼‰ SPDP ptcp_spdp_writer_send_pdp ç»„åŒ…ï¼Œå‘é€ç»„æ’­ä¿¡æ¯\nliveliness_lost ptcp_proxy_liveliness_lost writer_remove_proxy writer_remove_proxies_with_ptcp\nSEDP 1main 2 Rte_Dds_Ptcp_Recv_Handler 3 ptcp_recv_handler 4 udp_trans_recv_handle 5 msg_recv_process 6 msg_recv_process_submsg (æ”¶åˆ° ACKNACK æŠ¥æ–‡) 7 msg_recv_process_submsg_acknack 8 ptcp_dpde_on_acknack 9 sub_writer_on_acknack 10 udp_trans_sendto 11 udp_trans_send 12 mvbs_udp_socket_sendto 13 mvbs_udp_send åºåˆ—åŒ–ä¸å‹ç¼©ç®—æ³• å¼‚å¸¸ å‚è€ƒèµ„æ–™ Fast DDS v3.2.2\neclipse-cyclonedds/cyclonedds\nomg/dds\nomg/DDSI-RTPS\nè½¦è½½æ¶ˆæ¯ä¸­é—´ä»¶FastDDS æºç è§£æï¼ˆä¸€ï¼‰FastDDS ä»‹ç»å’Œä½¿ç”¨ c++ç‰ˆæœ¬æºç åˆ†æ\n","date":"2025å¹´6æœˆ29æ—¥","img":"https://6668688.xyz/images/DDS/2025-07-03-22-24-27.png","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/dds/dds/","series":[{"title":"DDS å­¦ä¹ ç³»åˆ—","url":"/series/dds-%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%97/"}],"smallImg":"","tags":[{"title":"DDS","url":"/tags/dds/"}],"timestamp":1751206443,"title":"DDS"},{"authors":[],"categories":[],"content":"Welcome to my world\n","date":"2025å¹´6æœˆ29æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/docs/hello/","series":[],"smallImg":"","tags":[{"title":"Hello","url":"/tags/hello/"}],"timestamp":1751203462,"title":"Hello"},{"authors":[],"categories":[],"content":"æˆ‘æ˜¯è°ï¼Œæˆ‘ä»å“ªé‡Œæ¥ï¼Œæˆ‘åˆ°å“ªé‡Œå».\n","date":"2025å¹´6æœˆ28æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/about/","series":[],"smallImg":"","tags":[],"timestamp":1751068800,"title":"å…³äºæˆ‘"},{"authors":[],"categories":[],"content":"","date":"1å¹´1æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/onlinetools/json/","series":[],"smallImg":"","tags":[],"timestamp":-62135596800,"title":""},{"authors":[],"categories":[],"content":"","date":"1å¹´1æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/offline/","series":[],"smallImg":"","tags":[],"timestamp":-62135596800,"title":"Offline"},{"authors":[],"categories":[],"content":"","date":"1å¹´1æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/onlinetools/qrcode/","series":[],"smallImg":"","tags":[],"timestamp":-62135596800,"title":"äºŒç»´ç ç”Ÿæˆ"},{"authors":[],"categories":[],"content":"","date":"1å¹´1æœˆ1æ—¥","img":"","lang":"zh-hans","langName":"ç®€ä½“ä¸­æ–‡","largeImg":"","permalink":"/contact/","series":[],"smallImg":"","tags":[],"timestamp":-62135596800,"title":"è”ç³»æˆ‘ä»¬"}]

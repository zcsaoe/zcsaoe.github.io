<!doctype html><html class=position-relative itemscope itemtype=https://schema.org/WebPage lang=zh-hans data-bs-theme=auto><head><script src=/assets/init/bundle.min.397129316ebf5d0138f2a6eb945afea462097722c2aadea2126a46958286b68a.js integrity="sha256-OXEpMW6/XQE48qbrlFr+pGIJdyLCqt6iEmpGlYKGtoo=" crossorigin=anonymous></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>懒人技术手册 -</title><link rel=icon href=/favicon_hu_34f9c9faf91b627e.webp sizes=16x16 type=image/webp><link rel=icon href=/favicon_hu_39d7e2e00a977bd3.webp sizes=32x32 type=image/webp><link rel=icon href=/favicon_hu_3b58e88b4b286a78.webp sizes=150x150 type=image/webp><link rel=apple-touch-icon href=/favicon_hu_3598ad0641f7f3c3.webp sizes=180x180 type=image/webp><link rel=icon href=/favicon_hu_144910b52c989e57.webp sizes=192x192 type=image/webp><link rel=mask-icon href=/safari-pinned-tab.svg color=#6f42c1><meta name=keywords content="Hugo,Bootstrap,博客主题"><meta name=description content="Lazy Man's Technical Manual"><meta name=robots content="index, follow"><meta name=twitter:card content="summary"><meta name=twitter:title content="懒人技术手册"><meta name=twitter:description content="Lazy Man's Technical Manual"><meta property="og:url" content="https://6668688.xyz/docs/doraemon/"><meta property="og:title" content="懒人技术手册"><meta property="og:description" content="Lazy Man's Technical Manual"><meta property="og:locale" content="zh_hans"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-07-01T23:33:02+08:00"><meta property="article:modified_time" content="2025-08-21T18:40:32+08:00"><meta property="article:tag" content="工具箱"><meta property="article:tag" content="ToolBox"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Win"><meta property="og:see_also" content="https://6668688.xyz/docs/linux/shell/terminalshortcutkeys/"><meta itemprop=name content="懒人技术手册"><meta itemprop=description content="Lazy Man's Technical Manual"><meta itemprop=datePublished content="2025-07-01T23:33:02+08:00"><meta itemprop=dateModified content="2025-08-21T18:40:32+08:00"><meta itemprop=wordCount content="13617"><meta itemprop=keywords content="工具箱,ToolBox,Linux,Win"><meta property="og:image" content="https://6668688.xyz/images/Mascot.webp"><meta name=twitter:image content="https://6668688.xyz/images/Mascot.webp"><meta property="og:image:alt" content="懒人技术手册"><meta name=twitter:image:alt content="懒人技术手册"><link rel=manifest href=/manifest.json><script async src="https://www.googletagmanager.com/gtag/js?id=G-M4F16E8H84"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-M4F16E8H84")}</script><link data-precache rel=stylesheet href="/assets/main/bundle.min.af57c95e796bddb4b1a17cf0fefa982f08854dcfc5df3655c178a16111ce5fe6.css" integrity="sha256-r1fJXnlr3bSxoXzw/vqYLwiFTc/F3zZVwXihYRHOX+Y=" crossorigin=anonymous><link data-precache rel=stylesheet href=/assets/viewer/bundle.min.16d2c85c4cae39a98f8cb7a977e95e554b174f91a5484c32605637156f49ca6b.css integrity="sha256-FtLIXEyuOamPjLepd+leVUsXT5GlSEwyYFY3FW9Jyms=" crossorigin=anonymous></head><body><header class="mb-4 sticky-top"><nav class="top-app-bar shadow navbar navbar-expand-xxl"><div class=container><button class="navbar-toggler border-0" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDocsNav aria-expanded=false aria-label="Toggle docs navigation">
<i class="fas fa-bars"></i>
</button>
<a class="navbar-brand d-flex align-items-center flex-grow-1 flex-xxl-grow-0 justify-content-xxl-start justify-content-center ms-2 ms-xxl-0 mx-auto me-xxl-2" href=https://6668688.xyz/><picture><img class=logo alt=Logo src="https://6668688.xyz/images/Mascot.webp?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=400 height=400></picture></a><div class="offcanvas-xxl offcanvas-end flex-grow-1" data-bs-scroll=true tabindex=-1 id=navbarMenus aria-labelledby=navbarMenusLabel><div class="offcanvas-header px-4 pb-0"><div class="offcanvas-title h5" id=navbarMenusLabel></div><button type=button class="btn-close btn-close-white" data-bs-dismiss=offcanvas data-bs-target=#navbarMenus aria-label=Close></button></div><div class="offcanvas-body p-4 pt-0 p-xxl-0"><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center me-auto"><li class="nav-item col-6 col-xxl-auto"><a class="nav-link py-2 px-0 px-xxl-2" href=https://6668688.xyz/onlinetools/>Online Tools</a></li></ul><hr class=d-xxl-none><form class="search-bar ms-auto my-auto" action=/search/ novalidate><div class="input-group align-items-center"><span class="btn btn-search disabled position-absolute left-0 border-0 px-1"><i class="fas fa-fw fa-search fa-lg"></i>
</span><input class="my-1 form-control border-white rounded-5 search-input bg-body" name=q type=search placeholder=搜索 aria-label=Search required>
<span class="search-shortcut position-absolute end-0 top-0 me-2"><kbd class="text-dark bg-white opacity-75 rounded-3 shadow border border-primary py-1 fw-bold">/</kbd></span></div></form><hr class=d-xxl-none><ul class="navbar-nav flex-row flex-wrap align-items-center ms-md-auto"><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><nav class="social-links nav justify-content-center flex-row"><a class="nav-link social-link col-6 col-xxl-auto p-1" target=_blank href=https://github.com/zcsaoe title=GitHub rel=me><i class="fa-fw fab fa-github"></i>
<span class="ms-1 d-xxl-none">Github</span></a></nav></li><li class="nav-item py-2 py-xxl-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown py-1 py-xxl-1 col-6 col-xxl-auto"><a class="nav-link px-0 px-xxl-1" href=# id=languageDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-globe"></i>
<span class=d-xxl-none>语言</span></a><ul class="language-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=languageDropdown><li><a class=dropdown-item href=/en/>English</a></li><li><a class="dropdown-item active" href=/>简体中文</a></li></ul></li><li class="nav-item py-1 col-12 col-xxl-auto"><div class="vr d-none d-xxl-flex h-100 mx-xxl-2 text-white"></div><hr class="d-xxl-none my-2"></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=fontSizeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-font"></i>
<span class=d-xxl-none>字体大小</span></a><ul class="font-size-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=fontSizeDropdown><li><button class="font-size-item dropdown-item" data-size=xs>
特小号</button></li><li><button class="font-size-item dropdown-item" data-size=sm>
小号</button></li><li><button class="font-size-item dropdown-item active" data-size=md>
中等</button></li><li><button class="font-size-item dropdown-item" data-size=lg>
大号</button></li><li><button class="font-size-item dropdown-item" data-size=xl>
特大号</button></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=paletteDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="fas fa-fw fa-palette"></i>
<span class=d-xxl-none>配色</span></a><ul class="palette-dropdown-menu dropdown-menu dropdown-menu-end px-2 row g-2" aria-labelledby=paletteDropdown><li class="col-4 my-1"><a role=button id=palette-blue aria-label=蓝色 class="btn btn-sm w-100 palette text-bg-blue" data-palette=blue></a></li><li class="col-4 my-1"><a role=button id=palette-blue-gray aria-label=蓝灰色 class="btn btn-sm w-100 palette text-bg-blue-gray" data-palette=blue-gray></a></li><li class="col-4 my-1"><a role=button id=palette-brown aria-label=棕色 class="btn btn-sm w-100 palette text-bg-brown" data-palette=brown></a></li><li class="col-4 my-1"><a role=button id=palette-cyan aria-label=青色 class="btn btn-sm w-100 palette text-bg-cyan" data-palette=cyan></a></li><li class="col-4 my-1"><a role=button id=palette-green aria-label=绿色 class="btn btn-sm w-100 palette text-bg-green" data-palette=green></a></li><li class="col-4 my-1"><a role=button id=palette-indigo aria-label=靛青色 class="btn btn-sm w-100 palette text-bg-indigo" data-palette=indigo></a></li><li class="col-4 my-1"><a role=button id=palette-orange aria-label=橙色 class="btn btn-sm w-100 palette text-bg-orange" data-palette=orange></a></li><li class="col-4 my-1"><a role=button id=palette-pink aria-label=粉色 class="btn btn-sm w-100 palette text-bg-pink" data-palette=pink></a></li><li class="col-4 my-1"><a role=button id=palette-purple aria-label=紫色 class="btn btn-sm w-100 palette text-bg-purple" data-palette=purple></a></li><li class="col-4 my-1"><a role=button id=palette-red aria-label=红色 class="btn btn-sm w-100 palette text-bg-red" data-palette=red></a></li><li class="col-4 my-1"><a role=button id=palette-teal aria-label=蓝绿色 class="btn btn-sm w-100 palette text-bg-teal" data-palette=teal></a></li><li class="col-4 my-1"><a role=button id=palette-yellow aria-label=黄色 class="btn btn-sm w-100 palette text-bg-yellow" data-palette=yellow></a></li></ul></li><li class="nav-item dropdown col-6 col-xxl-auto"><a class="nav-link px-0 py-2 px-xxl-1" href=# id=modeDropdown role=button data-bs-toggle=dropdown aria-expanded=false><i class="mode-icon fas fa-fw fa-adjust" id=modeIcon></i>
<span class=d-xxl-none>模式</span></a><ul class="mode-dropdown-menu dropdown-menu dropdown-menu-end" aria-labelledby=modeDropdown><li class=mode-item data-color-mode=light data-icon=sun><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-sun"></i> 浅色</button></li><li class=mode-item data-color-mode=dark data-icon=moon><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-moon"></i> 深色</button></li><li class="mode-item active" data-color-mode=auto data-icon=adjust><button class=dropdown-item>
<i class="mode-icon fas fa-fw fa-adjust"></i> 自动</button></li></ul></li></ul></div></div><div class=d-flex><button class="navbar-toggler order-5 border-0" type=button data-bs-toggle=offcanvas data-bs-target=#navbarMenus aria-controls=navbarMenus aria-expanded=false aria-label="Toggle navigation">
<i class="fas fa-ellipsis-h"></i></button></div></div></nav></header><main class="container has-sidebar" data-kind=page><script data-precache src=/js/main-init.fd48d66afb2d9a122b72b40b25ebae1b1338abcace96dbd4220b429bd5f5541d.js integrity="sha256-/UjWavstmhIrcrQLJeuuGxM4q8rOltvUIgtCm9X1VB0=" crossorigin=anonymous></script><div class="row content"><noscript><div class="alert alert-danger" role=alert>你的浏览器不支持 JavaScript。</div></noscript><aside class="docs-nav col-xxl-2" tabindex=-1 data-bs-hide=focusout><div class="offcanvas-xxl offcanvas-start" id=offcanvasDocsNav aria-labelledby=offcanvasDocsNavLabel><div class="offcanvas-header border-bottom"><div class="offcanvas-title h5" id=offcanvasDocsNavLabel>浏览文档</div><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close data-bs-target=#offcanvasDocsNav></button></div><div class="offcanvas-body pt-2 flex-column"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/autosar/autosar/><span class=docs-nav-title>Autosar</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/><span class=docs-nav-title>cpu</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-43cee4cb2ebee90cdb2b8ca8044577bf aria-expanded=false aria-controls=nav-43cee4cb2ebee90cdb2b8ca8044577bf><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-43cee4cb2ebee90cdb2b8ca8044577bf><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/><span class=docs-nav-title>arm</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-7a03c27cee416496e05a62ea9433788b aria-expanded=false aria-controls=nav-7a03c27cee416496e05a62ea9433788b><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-7a03c27cee416496e05a62ea9433788b><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/armv7-qemu/><span class=docs-nav-title>Armv7 Qemu</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/cortex-r/cortex-r52/cortex-r52/><span class=docs-nav-title>Cortex-R52</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/imx6ull-freertos/><span class=docs-nav-title>Imx6ull FreeRTOS</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/arm/j6m/><span class=docs-nav-title>J6M</span></a></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/trace32/><span class=docs-nav-title>TRACE32使用教程</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/><span class=docs-nav-title>tricore</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-1f3d9527be3ac31576d7acaa74855ffa aria-expanded=false aria-controls=nav-1f3d9527be3ac31576d7acaa74855ffa><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-1f3d9527be3ac31576d7acaa74855ffa><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/ota/><span class=docs-nav-title>Ota</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/tc397/><span class=docs-nav-title>Tc397</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/cpu/tricore/tc397_interrupt/><span class=docs-nav-title>Tc397中断子系统</span></a></li></ul></div></div></li></ul></div></div></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/><span class=docs-nav-title>DDS</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-00d405d37f8b4497a5196e63c7c5fd7b aria-expanded=false aria-controls=nav-00d405d37f8b4497a5196e63c7c5fd7b><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-00d405d37f8b4497a5196e63c7c5fd7b><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/dds/><span class=docs-nav-title>DDS</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/dds/mvbs/><span class=docs-nav-title>mvbs</span></a></li></ul></div></div></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/bus/dsi3/><span class=docs-nav-title>Dsi3</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/hello/><span class=docs-nav-title>Hello</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/markdown/markdown/><span class=docs-nav-title>Markdown</span></a></li><li class=mb-2 tabindex=-1><div class="py-1 d-flex justify-content-between align-items-center"><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/><span class=docs-nav-title>misc</span></a>
<a class="btn-toggle ms-1 collapsed" role=button data-bs-toggle=collapse data-bs-target=#nav-887556bd011b7e588d0294d8266ab478 aria-expanded=false aria-controls=nav-887556bd011b7e588d0294d8266ab478><i class="btn-toggle-icon fas fa-chevron-down ms-auto" data-fa-transform=rotate-270></i></a></div><div class="docs-nav-subnavs border-start mt-2 collapse" id=nav-887556bd011b7e588d0294d8266ab478><div class="btn-toggle-nav fw-normal ms-2 small"><ul class="list-unstyled mb-2 w-100"><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/hugo/><span class=docs-nav-title>Hugo</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/router/><span class=docs-nav-title>Router</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/investment/funds/><span class=docs-nav-title>货币基金</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/misc/bootable_usb/><span class=docs-nav-title>系统安装</span></a></li></ul></div></div></li><li class="mb-2 py-1 text-primary" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/doraemon/><span class=docs-nav-title>懒人技术手册</span></a></li><li class="mb-2 py-1" tabindex=-1><a class="docs-nav-link d-flex align-items-center" href=/docs/linux/shell/terminalshortcutkeys/><span class=docs-nav-title>终端快捷键</span></a></li></ul></div></div></aside><div class="col ms-auto content-docs"><div class=container-fluid><nav class="row card component" aria-label=breadcrumb><div class="card-body pb-0"><ol class="hbs-breadcrumb breadcrumb flex-nowrap"><li class="breadcrumb-item text-surface"><a href=/>主页</a></li><li class="breadcrumb-item text-surface"><a href=/docs/>docs</a></li><li class="breadcrumb-item active">懒人技术手册</li></ol></div></nav><div class="post-panel-wrapper position-relative d-flex justify-content-center"><div class="d-flex flex-row justify-content-center rounded-5 border post-panel position-fixed px-3 py-1 surface shadow-1"><a class="action action-toc d-block d-xxl-none" href=#post-toc-container role=button title=目录><i class="fas fa-fw fa-list-alt"></i>
</a><a class="action action-copyright" href=#post-copyright role=button aria-label=Copyright title=版权><i class="fas fa-fw fa-copyright"></i>
</a><a class="action action-post-comments" href=#post-comments role=button aria-label=Comments title=评论><i class="fas fa-fw fa-comments"></i>
</a><a id=sidebarToggler class="action action-sidebar-toggler d-none d-xxl-block" role=button title=切换侧边栏><i class="fas fa-fw fa-expand-alt" data-fa-transform=rotate-45></i></a></div></div><article class="row card component mb-4 post"><div class=card-header><h1 class="card-title post-title my-2">懒人技术手册</h1></div><div class=card-body><div class="post-meta mb-3"><span class="post-date me-1 mb-1" title="创建于 2025-07-01 15:33:02 +0000 UTC，更新于 2025-08-21 10:40:32 +0000 UTC。">2025年7月1日</span><span class="post-reading-time me-1 mb-1">28 分钟阅读</span>
<span class="post-lastmod me-1 mb-1 text-muted">更新于 2025年8月21日
</span><a href=/series/%E6%87%92%E4%BA%BA%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-series"><i class="fas fa-fw fa-columns me-1"></i>懒人教程系列</a><a href=/tags/linux/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Linux</a><a href=/tags/toolbox/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">ToolBox</a><a href=/tags/win/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">Win</a><a href=/tags/%E5%B7%A5%E5%85%B7%E7%AE%B1/ class="btn btn-sm btn-secondary mb-1 me-2 py-0 pe-1 post-taxonomy post-taxonomy-sm post-tag">工具箱</a></div><p class="lead mb-3 text-body-emphasis">Lazy Man's Technical Manual</p><div class="mt-2 mb-3 d-block d-xxl-none"><h2 class="text-surface mb-3">目录</h2><div id=post-toc-container></div><hr class=text-secondary></div><div class="post-content mb-3" data-bs-spy=scroll data-bs-target=#TableOfContents tabindex=0><div id=post-content-body><blockquote><p>作为一个合格的懒人，致力于收集奇技淫巧，不再浪费时间于无聊的搜索</p></blockquote><hr><h2 id=shell data-numberify>shell<a class="anchor ms-1" href=#shell></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 查找某个文件夹的前三级文件夹</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1># 如果查找前三级的文件 可以使用把 d --&gt; f</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>find /path -mindepth <span class=m>1</span> -maxdepth <span class=m>3</span> -type d
</span></span><span class=line><span class=ln> 4</span><span class=cl>tree -L <span class=m>3</span> -d /path/
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=nb>cd</span> <span class=k>$(</span><span class=nb>cd</span> <span class=s2>&#34;</span><span class=k>$(</span>dirname <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BASH_SOURCE</span><span class=p>[0]</span><span class=si>}</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>&#34;</span> <span class=o>&amp;&amp;</span> <span class=nb>pwd</span><span class=k>)</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl>scp -rp -P <span class=m>22</span> test@xxxxx:/file .
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=c1># 错误直接退出</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=nb>set</span> -o errexit
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl>seq -f <span class=s2>&#34;HELLO:%g,&#34;</span> <span class=m>1</span> <span class=m>16</span> <span class=c1># HELLO1-HELLO16</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=nb>echo</span> <span class=s2>&#34;脚本名: </span><span class=nv>$0</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第1个参数: </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=nb>echo</span> <span class=s2>&#34;第2个参数: </span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=nb>echo</span> <span class=s2>&#34;参数总数: </span><span class=nv>$#</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=nb>echo</span> <span class=s2>&#34;所有参数(@): </span><span class=nv>$@</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=nb>echo</span> <span class=s2>&#34;所有参数(*): </span><span class=nv>$*</span><span class=s2>&#34;</span></span></span></code></pre></div><h3 id=代理 data-numberify>代理<a class="anchor ms-1" href=#代理></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln>1</span><span class=cl><span class=c1># 服务器映射到本地端口</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>ssh -i test.key -D localport -p <span class=m>22</span> user@1.1.1.1
</span></span><span class=line><span class=ln>3</span><span class=cl>scp -O <span class=c1># 表示 使用传统 SCP 协议</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=nb>export</span> <span class=nv>http_proxy</span><span class=o>=</span>socks5://127.0.0.1:1080
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nb>export</span> <span class=nv>https_proxy</span><span class=o>=</span>socks5://127.0.0.1:1080
</span></span><span class=line><span class=ln>7</span><span class=cl>curl --proxy socks5://127.0.0.1:1080 www.google.com</span></span></code></pre></div><h3 id=文本处理 data-numberify>文本处理<a class="anchor ms-1" href=#文本处理></a></h3><blockquote><p><code>find</code>/<code>sed</code>/<code>xargs</code> 查找批量替换等</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 文件头尾部空格</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>  find ./  -name <span class=s2>&#34;*.[ch]&#34;</span> -exec sed -i <span class=s1>&#39;/./,$!d&#39;</span> <span class=o>{}</span> +
</span></span><span class=line><span class=ln> 3</span><span class=cl>  find ./  -name <span class=s2>&#34;*.[ch]&#34;</span> -exec sed -i -e :a -e <span class=s1>&#39;/^\n*$/{$d;N;ba&#39;</span> -e <span class=s1>&#39;}&#39;</span> -e <span class=s1>&#39;$a\&#39;</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1># 文件编码改为utf8</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>  find ./ -name <span class=s2>&#34;*.[ch]&#34;</span> -exec sh -c <span class=s1>&#39;file &#34;$0&#34; | grep 8859 &amp;&amp; iconv -f gbk -t utf-8 &#34;$0&#34; | sponge &#34;$0&#34;&#39;</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=c1># tab转空格</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>  find ./ -name <span class=s2>&#34;*.[ch]&#34;</span> ! -type d -exec bash -c <span class=s1>&#39;expand -t 4 &#34;$0&#34;  | sponge &#34;$0&#34;&#39;</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=c1># 回车格式转换为LF</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>  find ./ -name <span class=s2>&#34;*.[ch]&#34;</span> -exec dos2unix <span class=o>{}</span> <span class=se>\;</span> <span class=c1># 单个</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>  find ./ -name <span class=s2>&#34;*.[ch]&#34;</span> -exec dos2unix <span class=o>{}</span> + <span class=c1># 批量</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>  find ./ -name <span class=s2>&#34;*.[ch]&#34;</span> -print0 <span class=p>|</span> xargs -0 dos2unix <span class=c1># 批量</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=c1># 同时多个类型</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>  find . <span class=se>\(</span> -name <span class=s2>&#34;*.[csh]&#34;</span> -o -name <span class=s2>&#34;*.txt&#34;</span> -o -name <span class=s2>&#34;*.ld&#34;</span> <span class=se>\)</span> -exec dos2unix <span class=o>{}</span> +</span></span></code></pre></div><h3 id=sed data-numberify>sed<a class="anchor ms-1" href=#sed></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 某行插入文本</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>sed -i <span class=s1>&#39;8a  This is a test&#39;</span> regular_express.txt
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1># 字符替换</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=nv>str</span><span class=o>=</span><span class=s2>&#34;hello world&#34;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>echo<span class=se>\$</span><span class=o>{</span>str//o/P<span class=o>}</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>echo<span class=se>\$</span><span class=o>{</span>str/o/P<span class=o>}</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=c1># 区别是str后面两个//可以全局替换</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=nv>filestr</span><span class=o>=</span><span class=se>\$</span><span class=o>(</span><span class=nb>echo</span> <span class=si>${</span><span class=nv>filestr</span><span class=si>}</span><span class=p>|</span> sed <span class=s1>&#39;s/^/-add_set_file=/g&#39;</span> <span class=o>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=nv>filestr</span><span class=o>=</span><span class=se>\$</span><span class=o>(</span>sed <span class=s1>&#39;s/^/-add_set_file=/g&#39;</span> <span class=o>&lt;&lt;&lt;</span><span class=si>${</span><span class=nv>filestr</span><span class=si>}</span><span class=o>)</span></span></span></code></pre></div><h3 id=echo颜色 data-numberify>echo颜色<a class="anchor ms-1" href=#echo颜色></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># Font Color</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=nv>Black</span><span class=o>=</span><span class=s1>&#39;\033[0;30m&#39;</span>        <span class=c1># 黑色</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=nv>Red</span><span class=o>=</span><span class=s1>&#39;\033[0;31m&#39;</span>          <span class=c1># 红色</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=nv>Green</span><span class=o>=</span><span class=s1>&#39;\033[0;32m&#39;</span>        <span class=c1># 绿色</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=nv>Yellow</span><span class=o>=</span><span class=s1>&#39;\033[0;33m&#39;</span>       <span class=c1># 黄色</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=nv>Blue</span><span class=o>=</span><span class=s1>&#39;\033[0;34m&#39;</span>         <span class=c1># 蓝色</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=nv>Purple</span><span class=o>=</span><span class=s1>&#39;\033[0;35m&#39;</span>       <span class=c1># 紫色</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=nv>Cyan</span><span class=o>=</span><span class=s1>&#39;\033[0;36m&#39;</span>         <span class=c1># 青色</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=nv>White</span><span class=o>=</span><span class=s1>&#39;\033[0;37m&#39;</span>        <span class=c1># 白色</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1># Background Color</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=nv>On_Black</span><span class=o>=</span><span class=s1>&#39;\033[40m&#39;</span>       <span class=c1># 黑色背景</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=nv>On_Red</span><span class=o>=</span><span class=s1>&#39;\033[41m&#39;</span>         <span class=c1># 红色背景</span>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=nv>On_Green</span><span class=o>=</span><span class=s1>&#39;\033[42m&#39;</span>       <span class=c1># 绿色背景</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=nv>On_Yellow</span><span class=o>=</span><span class=s1>&#39;\033[43m&#39;</span>      <span class=c1># 黄色背景</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=nv>On_Blue</span><span class=o>=</span><span class=s1>&#39;\033[44m&#39;</span>        <span class=c1># 蓝色背景</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=nv>On_Purple</span><span class=o>=</span><span class=s1>&#39;\033[45m&#39;</span>      <span class=c1># 紫色背景</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=nv>On_Cyan</span><span class=o>=</span><span class=s1>&#39;\033[46m&#39;</span>        <span class=c1># 青色背景</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=nv>On_White</span><span class=o>=</span><span class=s1>&#39;\033[47m&#39;</span>       <span class=c1># 白色背景</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=c1># Special effects</span>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=nv>NC</span><span class=o>=</span><span class=s1>&#39;\033[0m&#39;</span>              <span class=c1># 无颜色，清除颜色设置</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=nv>Bold</span><span class=o>=</span><span class=s1>&#39;\033[1m&#39;</span>            <span class=c1># 粗体</span>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=nv>Underline</span><span class=o>=</span><span class=s1>&#39;\033[4m&#39;</span>       <span class=c1># 下划线</span>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=nv>Blink</span><span class=o>=</span><span class=s1>&#39;\033[5m&#39;</span>           <span class=c1># 闪烁</span>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=nv>Inverted</span><span class=o>=</span><span class=s1>&#39;\033[7m&#39;</span>        <span class=c1># 反白显示</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=nv>$REDS</span><span class=s2>********</span><span class=nv>$ENDS</span><span class=s2>&#34;</span></span></span></code></pre></div><h3 id=自动补全 data-numberify>自动补全<a class="anchor ms-1" href=#自动补全></a></h3><ol><li>alias hi=&rsquo;$HOME/xxx/hi.sh'</li><li>source hi_complete</li><li>在hi.sh中添加参数处理逻辑即可</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln> 1</span><span class=cl><span class=nb>complete</span> -F _hi_complete hi
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl>_hi_complete<span class=o>()</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=o>{</span>  
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=nb>local</span> cur prev opts  
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nv>COMPREPLY</span><span class=o>=()</span>  
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=nv>cur</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>COMP_WORDS</span><span class=p>[COMP_CWORD]</span><span class=si>}</span><span class=s2>&#34;</span>  
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=nv>prev</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>COMP_WORDS</span><span class=p>[COMP_CWORD-1]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=nb>local</span> <span class=nv>prev2</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>COMP_WORDS</span><span class=p>[COMP_CWORD-2]</span><span class=si>}</span><span class=s2>&#34;</span>  
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl>     <span class=k>case</span> <span class=si>${</span><span class=nv>prev</span><span class=p>,,</span><span class=si>}</span> in
</span></span><span class=line><span class=ln>12</span><span class=cl>        <span class=s2>&#34;hi&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>            <span class=nv>opts</span><span class=o>=</span><span class=s2>&#34;build docker&#34;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>            <span class=nv>COMPREPLY</span><span class=o>=(</span> <span class=k>$(</span><span class=nb>compgen</span> -W <span class=s1>&#39;${opts[@]}&#39;</span> -- <span class=nv>$cur</span><span class=k>)</span> <span class=o>)</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>            <span class=p>;;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>        <span class=s2>&#34;docker&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>            <span class=nb>local</span> <span class=nv>docker_opts</span><span class=o>=(</span>on off ps in<span class=o>)</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>            <span class=nv>COMPREPLY</span><span class=o>=(</span> <span class=k>$(</span><span class=nb>compgen</span> -W <span class=s1>&#39;${docker_opts[@]}&#39;</span> -- <span class=nv>$cur</span><span class=k>)</span> <span class=o>)</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>            <span class=p>;;</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>        *<span class=o>)</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>            _filedir
</span></span><span class=line><span class=ln>22</span><span class=cl>            <span class=p>;;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>    <span class=k>esac</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl>    <span class=c1># echo &#39;cur=&#39;$cur,&#39;prev&#39;=$prev,&#39;prev2&#39;=$prev2&gt;&gt;~/11.txt</span>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=o>}</span></span></span></code></pre></div><h3 id=添加用户用户组 data-numberify>添加用户/用户组<a class="anchor ms-1" href=#添加用户用户组></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 进入docker以后，新建一个和主机上相同的用户，用户组</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>sudo useradd bob
</span></span><span class=line><span class=ln> 3</span><span class=cl>sudo groupadd autosar
</span></span><span class=line><span class=ln> 4</span><span class=cl>sudo usermod -g autosar bob
</span></span><span class=line><span class=ln> 5</span><span class=cl>	<span class=c1># usermod -aG autosar bob 新增用户组； -g 直接修改</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>sudo mkdir /home/bob
</span></span><span class=line><span class=ln> 7</span><span class=cl>sudo chown bob:autosar /home/bob/
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=c1># 把docker中的id修改为主机上相同的id</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>cat /etc/passwd  <span class=p>|</span> grep bob
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1># 记录用户id 用户组id bob:x:1006:1001:bob:/home/bob:/bin/sh</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>sudo usermod -u <span class=m>1006</span> bob
</span></span><span class=line><span class=ln>13</span><span class=cl>sudo groupmod -g <span class=m>1001</span> autosar
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1># 后续共享目录放到自己的用户目录中</span></span></span></code></pre></div><h3 id=挂载网络目录 data-numberify>挂载网络目录<a class="anchor ms-1" href=#挂载网络目录></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>sshfs cn@172.22.22.230:/mnt/hgfs/test/ test/
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=c1># 卸载</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>fusermount -u /path/to/local/mountpoint</span></span></code></pre></div><h3 id=wget data-numberify>wget<a class="anchor ms-1" href=#wget></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl>wget -r -np -nH --cut-dirs<span class=o>=</span><span class=m>3</span> -R <span class=s2>&#34;index.html*&#34;</span> <span class=s2>&#34;http://xxxxx/yy/zzz/dir/&#34;</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl>命令参数的解释：
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl>-r 或 --recursive：递归下载。
</span></span><span class=line><span class=ln> 7</span><span class=cl>-np 或 --no-parent：不下载父目录，避免爬升到父目录中去。
</span></span><span class=line><span class=ln> 8</span><span class=cl>-nH 或 --no-host-directories：禁止创建包含服务器名的目录。
</span></span><span class=line><span class=ln> 9</span><span class=cl>--cut-dirs<span class=o>=</span>3：跳过远程服务器上的前3个目录层级。在这个例子中，yy/zzz/dir/ 被忽略。调整这个数字根据实际的URL路径。
</span></span><span class=line><span class=ln>10</span><span class=cl>-R <span class=s2>&#34;index.html*&#34;</span>：拒绝下载所有以index.html开头的文件（这通常是服务器生成的目录索引页面）。
</span></span><span class=line><span class=ln>11</span><span class=cl>最后是您要下载的URL。
</span></span><span class=line><span class=ln>12</span><span class=cl>该命令会在当前目录下创建一个包含所有下载文件和目录的结构，忽略上述提到的目录层级。</span></span></code></pre></div><h3 id=gerrit data-numberify>gerrit<a class="anchor ms-1" href=#gerrit></a></h3><p>查询当前patch</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln> 1</span><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=cp></span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1># Automatically trigger jenkins compilation</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1># */20 10-21 * * * /home/xxx/test.sh</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=c1># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ DO NOT EDIT ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1># exclude_times=(&#34;12:00&#34; &#34;18:00&#34; &#34;21:00&#34;)</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=c1># [[ &#34; ${exclude_times[*]} &#34; =~ &#34; $(date &#39;+%H:%M&#39;) &#34; ]]  &amp;&amp; exit 0</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=nb>cd</span> /home/xxx
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=nv>current_timestamp</span><span class=o>=</span><span class=k>$(</span>date +%s<span class=k>)</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=nv>logfile</span><span class=o>=</span><span class=s1>&#39;/home/xxx/test.log&#39;</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>sed -i <span class=s2>&#34;1i</span><span class=k>$(</span>date +<span class=s2>&#34;%Y.%m.%d %H:%M:%S&#34;</span><span class=k>)</span><span class=s2>&#34;</span> <span class=nv>$logfile</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>
</span></span><span class=line><span class=ln>16</span><span class=cl>ssh -p <span class=m>22</span> test@gerrit3.xxx.com gerrit query is:open project:code/test/branch/xxx --patch-sets --format json <span class=se>\
</span></span></span><span class=line><span class=ln>17</span><span class=cl><span class=se></span><span class=p>|</span> jq -r <span class=s1>&#39;select(.branch == &#34;codebase_rtos_dev&#34;) | [.owner.email, (.patchSets | max_by(.number).createdOn), (.patchSets | max_by(.number).ref)] | @tsv&#39;</span>  <span class=p>|</span> <span class=k>while</span> <span class=nv>IFS</span><span class=o>=</span><span class=s1>$&#39;\t&#39;</span> <span class=nb>read</span> -r -a array<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=nv>userName</span><span class=o>=</span><span class=k>$(</span><span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>array</span><span class=p>[0]</span><span class=si>}</span><span class=s2>&#34;</span> <span class=p>|</span> cut -d <span class=s2>&#34;@&#34;</span> -f 1<span class=k>)</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>
</span></span><span class=line><span class=ln>20</span><span class=cl>    <span class=c1># echo &#34;${array[0]} ${array[1]} ${array[2]}&#34; # email, time, ref</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>    <span class=c1># if [[ $userName != &#34;test&#34; &amp;&amp; $userName != &#34;abc&#34; ]]; then</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=c1>#     continue</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>    <span class=c1># fi</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>    sed -i <span class=s2>&#34;2i\    </span><span class=k>$(</span><span class=nb>printf</span> <span class=s2>&#34;%-16s&#34;</span> <span class=s2>&#34;</span><span class=nv>$userName</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>    </span><span class=si>${</span><span class=nv>array</span><span class=p>[2]</span><span class=si>}</span><span class=s2>  </span><span class=k>$(</span>date -d@<span class=si>${</span><span class=nv>array</span><span class=p>[1]</span><span class=si>}</span> +<span class=s2>&#34;%m/%d %H:%M:%S&#34;</span><span class=k>)</span><span class=s2>  </span><span class=k>$(</span>date -d@<span class=si>${</span><span class=nv>current_timestamp</span><span class=si>}</span> +<span class=s2>&#34;%m/%d %H:%M:%S&#34;</span><span class=k>)</span><span class=s2>&#34;</span> <span class=nv>$logfile</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>
</span></span><span class=line><span class=ln>26</span><span class=cl>    <span class=nv>time_diff</span><span class=o>=</span><span class=k>$((</span>current_timestamp <span class=o>-</span> array<span class=o>[</span><span class=m>1</span><span class=o>]</span><span class=k>))</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>    <span class=k>if</span> <span class=o>((</span>time_diff &lt; 20*60<span class=o>))</span><span class=p>;</span> <span class=k>then</span> <span class=c1># delay require time</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>        <span class=nv>patchUrl</span><span class=o>=</span><span class=s1>&#39;git pull &#34;ssh://&#39;</span><span class=nv>$userName</span><span class=s1>&#39;@gerrit3.xxx.com:22/code/test/branch/xxx&#34; &#39;</span><span class=si>${</span><span class=nv>array</span><span class=p>[2]</span><span class=si>}</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>        <span class=nv>patchParam</span><span class=o>=</span><span class=s1>&#39;imagepath=&#39;</span><span class=k>$(</span><span class=nb>echo</span> <span class=nv>$patchUrl</span> <span class=p>|</span> sed <span class=s1>&#39;s/ /%20/g&#39;</span> <span class=p>|</span> sed <span class=s1>&#39;s/&#34;/%22/g&#39;</span><span class=k>)</span><span class=s1>&#39;&amp;build_all=yes&amp;autotest=yes&#39;</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>        <span class=nv>projectNames</span><span class=o>=(</span><span class=s1>&#39;test_build_1&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>        <span class=k>for</span> projectName in <span class=s2>&#34;</span><span class=si>${</span><span class=nv>projectNames</span><span class=p>[@]</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>        <span class=k>do</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>            <span class=nv>curlParam</span><span class=o>=</span><span class=s1>&#39;rtosuser:rtos@user123 xxx:443/job/test_build_1/job/&#39;</span><span class=nv>$projectName</span><span class=s1>&#39;/buildWithParameters?token=123456&amp;&#39;</span><span class=nv>$patchParam</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>            curl -u <span class=nv>$curlParam</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>            sed -i <span class=s2>&#34;3i\        curl -u </span><span class=nv>$curlParam</span><span class=s2>&#34;</span> <span class=nv>$logfile</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>        <span class=k>done</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>    <span class=k>fi</span>
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=k>done</span></span></span></code></pre></div><p>查询正在运行jenkins任务，并取消排队的重复任务</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=kn>import</span> <span class=nn>subprocess</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=kn>import</span> <span class=nn>re</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=kn>from</span> <span class=nn>requests.utils</span> <span class=kn>import</span> <span class=n>dict_from_cookiejar</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=n>logfile</span> <span class=o>=</span> <span class=s2>&#34;/home/xxx/test.log&#34;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;sed -i &#34;2i\    _cancelItem_:&#34; </span><span class=si>{</span><span class=n>logfile</span><span class=si>}</span><span class=s1>&#39;</span> <span class=p>,</span> <span class=n>shell</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=n>jenkins_url</span> <span class=o>=</span> <span class=s2>&#34;http://xxx:443/&#34;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=n>username</span> <span class=o>=</span> <span class=s2>&#34;test&#34;</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=n>password</span> <span class=o>=</span> <span class=s2>&#34;xxx123&#34;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>jenkins_url</span><span class=si>}</span><span class=s1>queue/api/json&#39;</span><span class=p>,</span> <span class=n>auth</span><span class=o>=</span><span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>password</span><span class=p>))</span>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=n>data</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1># get block job list</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=n>g_patchUrlList</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>data</span><span class=p>[</span><span class=s1>&#39;items&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=k>if</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;task&#39;</span><span class=p>][</span><span class=s1>&#39;name&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;test_build_1&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>        <span class=n>item_id</span> <span class=o>=</span> <span class=n>item</span><span class=p>[</span><span class=s2>&#34;id&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>        <span class=n>causes_action</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>action</span> <span class=k>for</span> <span class=n>action</span> <span class=ow>in</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;actions&#39;</span><span class=p>]</span> <span class=k>if</span> <span class=n>action</span><span class=p>[</span><span class=s1>&#39;_class&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;hudson.model.CauseAction&#39;</span><span class=p>),</span> <span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>        <span class=n>startType</span> <span class=o>=</span> <span class=n>causes_action</span><span class=p>[</span><span class=s1>&#39;causes&#39;</span><span class=p>][</span><span class=mi>0</span><span class=p>][</span><span class=s1>&#39;_class&#39;</span><span class=p>]</span> <span class=k>if</span> <span class=n>causes_action</span> <span class=k>else</span> <span class=kc>None</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>        <span class=k>if</span> <span class=n>item</span><span class=p>[</span><span class=s2>&#34;blocked&#34;</span><span class=p>]</span> <span class=ow>and</span> <span class=ow>not</span> <span class=n>item</span><span class=p>[</span><span class=s2>&#34;buildable&#34;</span><span class=p>]:</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>            <span class=k>if</span> <span class=n>startType</span> <span class=o>==</span> <span class=s1>&#39;hudson.model.Cause$RemoteCause&#39;</span> <span class=ow>or</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>                <span class=n>parameters</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>action</span><span class=p>[</span><span class=s1>&#39;parameters&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>action</span> <span class=ow>in</span> <span class=n>item</span><span class=p>[</span><span class=s1>&#39;actions&#39;</span><span class=p>]</span> <span class=k>if</span> <span class=n>action</span><span class=p>[</span><span class=s1>&#39;_class&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;hudson.model.ParametersAction&#39;</span><span class=p>),</span> <span class=p>[])</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>                <span class=n>patchUrl</span> <span class=o>=</span> <span class=nb>next</span><span class=p>((</span><span class=n>param</span><span class=p>[</span><span class=s1>&#39;value&#39;</span><span class=p>]</span> <span class=k>for</span> <span class=n>param</span> <span class=ow>in</span> <span class=n>parameters</span> <span class=k>if</span> <span class=n>param</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;imagepath&#39;</span><span class=p>))</span><span class=o>.</span><span class=n>split</span><span class=p>()[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>                <span class=n>g_patchUrlList</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>item_id</span><span class=p>,</span> <span class=n>patchUrl</span><span class=p>])</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=n>g_patchSet</span> <span class=o>=</span> <span class=nb>set</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span><span class=sa>r</span><span class=s2>&#34;(.*)/\d+$&#34;</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span><span class=o>.</span><span class=n>group</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>g_patchUrlList</span><span class=p>)</span>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=c1># cancel multi job</span>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>g_patchSet</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>    <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>jenkins_url</span><span class=si>}</span><span class=s2>crumbIssuer/api/xml?xpath=concat(//crumbRequestField,</span><span class=se>\&#34;</span><span class=s2>:</span><span class=se>\&#34;</span><span class=s2>,//crumb)&#34;</span><span class=p>,</span> <span class=n>auth</span><span class=o>=</span><span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>password</span><span class=p>))</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>    <span class=n>crumb</span> <span class=o>=</span> <span class=n>response</span><span class=o>.</span><span class=n>text</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>    <span class=n>cookies</span> <span class=o>=</span> <span class=n>dict_from_cookiejar</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>cookies</span><span class=p>)</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>    <span class=n>headers</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>        <span class=s2>&#34;Jenkins-Crumb&#34;</span><span class=p>:</span> <span class=n>crumb</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>        <span class=s2>&#34;Cookie&#34;</span><span class=p>:</span> <span class=s2>&#34;; &#34;</span><span class=o>.</span><span class=n>join</span><span class=p>([</span><span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>name</span><span class=si>}</span><span class=s2>=</span><span class=si>{</span><span class=n>value</span><span class=si>}</span><span class=s2>&#34;</span> <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>value</span> <span class=ow>in</span> <span class=n>cookies</span><span class=o>.</span><span class=n>items</span><span class=p>()])</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=k>for</span> <span class=n>patch</span> <span class=ow>in</span> <span class=n>g_patchSet</span><span class=p>:</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>    <span class=n>tmpList</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>g_patchUrlList</span> <span class=k>if</span> <span class=n>patch</span> <span class=ow>in</span> <span class=n>y</span> <span class=p>]</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>    <span class=n>tmpList</span><span class=o>.</span><span class=n>remove</span><span class=p>(</span><span class=nb>max</span><span class=p>(</span><span class=n>tmpList</span><span class=p>))</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>    <span class=k>for</span> <span class=nb>id</span> <span class=ow>in</span> <span class=n>tmpList</span><span class=p>:</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>        <span class=n>cancelUrl</span> <span class=o>=</span> <span class=sa>f</span><span class=s2>&#34;</span><span class=si>{</span><span class=n>jenkins_url</span><span class=si>}</span><span class=s2>queue/cancelItem?id=</span><span class=si>{</span><span class=nb>id</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>        <span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>cancelUrl</span><span class=p>,</span> <span class=n>auth</span><span class=o>=</span><span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>password</span><span class=p>),</span> <span class=n>headers</span><span class=o>=</span><span class=n>headers</span><span class=p>)</span>
</span></span><span class=line><span class=ln>44</span><span class=cl>
</span></span><span class=line><span class=ln>45</span><span class=cl>        <span class=n>subprocess</span><span class=o>.</span><span class=n>run</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;sed -i &#34;3i\        </span><span class=si>{</span><span class=nb>next</span><span class=p>(</span><span class=n>y</span> <span class=k>for</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=ow>in</span> <span class=n>g_patchUrlList</span> <span class=k>if</span> <span class=n>x</span> <span class=o>==</span> <span class=nb>id</span><span class=p>)</span><span class=si>}</span><span class=s1>    </span><span class=si>{</span><span class=n>response</span><span class=o>.</span><span class=n>status_code</span><span class=si>}</span><span class=s1> </span><span class=si>{</span><span class=n>response</span><span class=o>.</span><span class=n>reason</span><span class=si>}</span><span class=s1>&#34; </span><span class=si>{</span><span class=n>logfile</span><span class=si>}</span><span class=s1>&#39;</span> <span class=p>,</span> <span class=n>shell</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span></span></span></code></pre></div><h3 id=gerrit-与-jenkins-集成互通 data-numberify>gerrit 与 jenkins 集成互通<a class="anchor ms-1" href=#gerrit-与-jenkins-集成互通></a></h3><p><strong>Gerit</strong>:</p><ol><li>管理员登录gerrit, http:/xxxxx/admin/repos/All-Projects,access</li><li>Global Capabilities->Stream Events 添加用户 jenkins</li></ol><ul><li>Reference: refs/heads/*<ul><li>Label Code-Review: -1, +1 jenkins</li><li>Label Verified: -1, +1 jenkins</li></ul></li></ul><p><strong>Jenkins</strong>:
安装插件：
<picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/1a95b808164741f69b7f7d4c476dbdd6.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=772 height=321></picture></p><p>Gerrit Trigger
新建gerrit trigger 服务
<picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/f207271a18d14d57a49e8be9f14afff9.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=985 height=546></picture></p><p>添加jenkins节点：https://www.cnblogs.com/sky-cheng/p/14931503.html</p><h3 id=tab-忽略大小写 data-numberify>tab 忽略大小写<a class="anchor ms-1" href=#tab-忽略大小写></a></h3><p>vim ~/.inputrc</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl><span class=c1># do not show hidden files in the list </span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=nb>set</span> match-hidden-files off
</span></span><span class=line><span class=ln>3</span><span class=cl>   
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1># auto complete ignoring case </span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=nb>set</span> show-all-if-ambiguous on 
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nb>set</span> completion-ignore-case on
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=c1># 保存重启终端</span></span></span></code></pre></div><h3 id=minicom data-numberify>minicom<a class="anchor ms-1" href=#minicom></a></h3><p>win下minicom，ctrl a + q 要快
不能回车输入的话，minicom -s 把流控关闭</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=cp></span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>ls /dev/ttyS*
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=k>if</span> <span class=o>[</span> -z <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>  <span class=nb>read</span> -p <span class=s2>&#34;please input a num:&#34;</span> num
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=nv>num</span><span class=o>=</span><span class=nv>$1</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl>minicom -b  <span class=m>115200</span> -D /dev/ttyS<span class=nv>$num</span></span></span></code></pre></div><p>ssh win之后使用 minicom，1.mobaxterm能用，<del>2.通过gitbash套用</del>，然后改一下.bashrc配置</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl><span class=s2>&#34;c:\Program Files\git\bin\bash.exe&#34;</span> -c <span class=s2>&#34;/c/Users/xxx/AppData/Roaming/Mobaxterm/slash/bin/bash.exe -i&#34;</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl>c<span class=p>:</span><span class=nl>\Users\xxx\AppData\Roaming\MobaXterm\slash\bin\bash.exe</span><span class=c1> -i</span></span></span></code></pre></div><h3 id=http-server上传下载 data-numberify>http server上传下载<a class="anchor ms-1" href=#http-server上传下载></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl><span class=c1># 本地快速启动 [http server](https://docs.python.org/3/library/http.server.html)</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=c1># 支持上传功能 [uploadserver](https://pypi.org/project/uploadserver/)</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1># 无网络安装，下载之后，pip install uploadserver-6.0.0.tar.gz</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>python3 -m http.server <span class=m>8080</span> --directory /tmp/
</span></span><span class=line><span class=ln>5</span><span class=cl>python3 -m uploadserver --basic-auth hello:world</span></span></code></pre></div><h3 id=磁盘性能 data-numberify>磁盘性能<a class="anchor ms-1" href=#磁盘性能></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl><span class=c1># ?</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>sudo smartctl -i /dev/sda
</span></span><span class=line><span class=ln>3</span><span class=cl>sudo smartctl -H /dev/sda
</span></span><span class=line><span class=ln>4</span><span class=cl>sudo smartctl -A /dev/sda
</span></span><span class=line><span class=ln>5</span><span class=cl>sudo smartctl -a /dev/sda</span></span></code></pre></div><h3 id=openssl证书公私钥 data-numberify>openssl证书公私钥<a class="anchor ms-1" href=#openssl证书公私钥></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl>openssl genrsa -out ca.key <span class=m>4096</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>openssl req -x509 -new -nodes -key ca.key -subj <span class=s2>&#34;/CN=example.ca.com&#34;</span> -days <span class=m>5000</span> -out ca.crt
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl>openssl genrsa -out client.key <span class=m>4096</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>openssl req -new -sha256 -key client.key <span class=se>\
</span></span></span><span class=line><span class=ln> 6</span><span class=cl><span class=se></span>    -subj <span class=s2>&#34;/C=XX/ST=DEFAULT/L=DEFAULT/O=DEFAULT/CN=client.com&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=ln> 7</span><span class=cl><span class=se></span>    -reqexts SAN <span class=se>\
</span></span></span><span class=line><span class=ln> 8</span><span class=cl><span class=se></span>    -config &lt;<span class=o>(</span>cat demo.cnf &lt;<span class=o>(</span><span class=nb>printf</span> <span class=s2>&#34;\n[SAN]\nsubjectAltName=DNS:client.com,DNS:example.client.com&#34;</span><span class=o>))</span> <span class=se>\
</span></span></span><span class=line><span class=ln> 9</span><span class=cl><span class=se></span>    -out client.csr
</span></span><span class=line><span class=ln>10</span><span class=cl>openssl x509 -req -days <span class=m>365</span> -sha256 <span class=se>\
</span></span></span><span class=line><span class=ln>11</span><span class=cl><span class=se></span>    -in client.csr -CA ca.crt -CAkey ca.key -CAcreateserial <span class=se>\
</span></span></span><span class=line><span class=ln>12</span><span class=cl><span class=se></span>    -extfile &lt;<span class=o>(</span><span class=nb>printf</span> <span class=s2>&#34;subjectAltName=DNS:client.com,DNS:example.client.com&#34;</span><span class=o>)</span> <span class=se>\
</span></span></span><span class=line><span class=ln>13</span><span class=cl><span class=se></span>    -out client.crt
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl>openssl genrsa -out server.key <span class=m>4096</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>openssl req -new -sha256 -key server.key <span class=se>\
</span></span></span><span class=line><span class=ln>17</span><span class=cl><span class=se></span>    -subj <span class=s2>&#34;/C=XX/ST=DEFAULT/L=DEFAULT/O=DEFAULT/CN=server.com&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=ln>18</span><span class=cl><span class=se></span>    -reqexts SAN <span class=se>\
</span></span></span><span class=line><span class=ln>19</span><span class=cl><span class=se></span>    -config &lt;<span class=o>(</span>cat demo.cnf &lt;<span class=o>(</span><span class=nb>printf</span> <span class=s2>&#34;\n[SAN]\nsubjectAltName=DNS:localhost,IP:127.0.0.1,DNS:example.server.com&#34;</span><span class=o>))</span> <span class=se>\
</span></span></span><span class=line><span class=ln>20</span><span class=cl><span class=se></span>    -out server.csr
</span></span><span class=line><span class=ln>21</span><span class=cl>openssl x509 -req -days <span class=m>365</span> -sha256 <span class=se>\
</span></span></span><span class=line><span class=ln>22</span><span class=cl><span class=se></span>    -in server.csr -CA ca.crt -CAkey ca.key -CAcreateserial <span class=se>\
</span></span></span><span class=line><span class=ln>23</span><span class=cl><span class=se></span>    -extfile &lt;<span class=o>(</span><span class=nb>printf</span> <span class=s2>&#34;subjectAltName=DNS:localhost,IP:127.0.0.1,DNS:example.server.com&#34;</span><span class=o>)</span> <span class=se>\
</span></span></span><span class=line><span class=ln>24</span><span class=cl><span class=se></span>    -out server.crt</span></span></code></pre></div><h2 id=bat data-numberify>bat<a class="anchor ms-1" href=#bat></a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>:</span><span class=c1>: 短路径， 如 PROGRA~1     Program Files</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=k>dir</span> /x C:\
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=p>:</span><span class=c1>: 进入脚本所在目前</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=k>cd</span> /d <span class=s2>&#34;</span><span class=nv>%~dp0</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=p>:</span><span class=c1>: 当前命令提示符的目录</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=k>cd</span> <span class=nv>%cd%</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=p>:</span><span class=c1>: 日期时间</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=k>echo</span> <span class=nv>%date%</span> <span class=nv>%time%</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=p>:</span><span class=c1>: 延时启动</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>timeout /T 10 /NOBREAK
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=k>start</span> cmd /C x.bat
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=p>:</span><span class=c1>: 删除文件夹</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=k>rmdir</span> /s /q build
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=k>del</span> filename
</span></span><span class=line><span class=ln>18</span><span class=cl>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=p>:</span><span class=c1>: </span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=k>mklink</span> /D  link  target
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=p>:</span><span class=c1>: powershell 端口检测</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>test-netconnection domain.com -p port
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=p>:</span><span class=c1>: bois</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>shutdown /r /fw /t 0</span></span></code></pre></div><h3 id=设置ip地址 data-numberify>设置ip地址<a class="anchor ms-1" href=#设置ip地址></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl>netsh interface ip set address name=<span class=s2>&#34;以太网 2&#34;</span> static 192.168.1.10 255.255.255.0
</span></span><span class=line><span class=ln>2</span><span class=cl>netsh interface ip set address name=<span class=s2>&#34;以太网 2&#34;</span> dhcp</span></span></code></pre></div><h3 id=bat-计算时分秒 data-numberify>bat 计算时分秒<a class="anchor ms-1" href=#bat-计算时分秒></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=ln>1</span><span class=cl><span class=n>set</span> <span class=o>/</span><span class=n>a</span> <span class=n>n</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=k>for</span> <span class=o>/</span><span class=n>f</span> <span class=s>&#34;tokens=1-8 delims=.: &#34;</span> <span class=o>%%</span><span class=n>a</span> <span class=nf>in</span> <span class=p>(</span><span class=s>&#34;%etime%:%stime%&#34;</span><span class=p>)</span> <span class=k>do</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=n>set</span> <span class=o>/</span><span class=n>a</span> <span class=n>n</span><span class=o>+=</span><span class=mi>10</span><span class=o>%%</span><span class=n>a</span><span class=o>%%</span><span class=mi>100</span><span class=o>*</span><span class=mi>360000</span><span class=o>+</span><span class=mi>10</span><span class=o>%%</span><span class=n>b</span><span class=o>%%</span><span class=mi>100</span><span class=o>*</span><span class=mi>6000</span><span class=o>+</span><span class=mi>10</span><span class=o>%%</span><span class=n>c</span><span class=o>%%</span><span class=mi>100</span><span class=o>*</span><span class=mi>100</span><span class=o>+</span><span class=mi>10</span><span class=o>%%</span><span class=n>d</span><span class=o>%%</span><span class=mi>100</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=n>set</span> <span class=o>/</span><span class=n>a</span> <span class=n>n</span><span class=o>-=</span><span class=mi>10</span><span class=o>%%</span><span class=n>e</span><span class=o>%%</span><span class=mi>100</span><span class=o>*</span><span class=mi>360000</span><span class=o>+</span><span class=mi>10</span><span class=o>%%</span><span class=n>f</span><span class=o>%%</span><span class=mi>100</span><span class=o>*</span><span class=mi>6000</span><span class=o>+</span><span class=mi>10</span><span class=o>%%</span><span class=n>g</span><span class=o>%%</span><span class=mi>100</span><span class=o>*</span><span class=mi>100</span><span class=o>+</span><span class=mi>10</span><span class=o>%%</span><span class=n>h</span><span class=o>%%</span><span class=mi>100</span><span class=p>)</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=n>set</span> <span class=o>/</span><span class=n>a</span> <span class=n>s</span><span class=o>=</span><span class=n>n</span><span class=o>/</span><span class=mi>360000</span><span class=p>,</span><span class=n>n</span><span class=o>=</span><span class=n>n</span><span class=o>%%</span><span class=mi>360000</span><span class=p>,</span><span class=n>f</span><span class=o>=</span><span class=n>n</span><span class=o>/</span><span class=mi>6000</span><span class=p>,</span><span class=n>n</span><span class=o>=</span><span class=n>n</span><span class=o>%%</span><span class=mi>6000</span><span class=p>,</span><span class=n>m</span><span class=o>=</span><span class=n>n</span><span class=o>/</span><span class=mi>100</span><span class=p>,</span><span class=n>n</span><span class=o>=</span><span class=n>n</span><span class=o>%%</span><span class=mi>100</span>
</span></span><span class=line><span class=ln>6</span><span class=cl>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=n>echo</span> <span class=nl>time</span><span class=p>:</span><span class=o>%</span><span class=n>s</span><span class=o>%:%</span><span class=n>f</span><span class=o>%:%</span><span class=n>m</span><span class=o>%</span></span></span></code></pre></div><h3 id=计划任务杀掉任务停止服务 data-numberify>计划任务/杀掉任务/停止服务<a class="anchor ms-1" href=#计划任务杀掉任务停止服务></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=ln> 1</span><span class=cl><span class=err>@</span><span class=n>echo</span> <span class=n>off</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=n>setlocal</span> <span class=n>enabledelayedexpansion</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=o>%</span><span class=mi>1</span> <span class=n>mshta</span> <span class=nl>vbscript</span><span class=p>:</span><span class=nf>createobject</span><span class=p>(</span><span class=s>&#34;shell.application&#34;</span><span class=p>).</span><span class=nf>shellexecute</span><span class=p>(</span><span class=s>&#34;&#34;&#34;%~0&#34;&#34;&#34;</span><span class=p>,</span><span class=s>&#34;::&#34;</span><span class=p>,,</span><span class=s>&#34;runas&#34;</span><span class=p>,</span><span class=mi>1</span><span class=p>)(</span><span class=n>window</span><span class=p>.</span><span class=n>close</span><span class=p>)</span><span class=o>&amp;&amp;</span><span class=n>exit</span> <span class=o>/</span><span class=n>b</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=n>CD</span> <span class=o>/</span><span class=n>D</span> <span class=s>&#34;%~dp0&#34;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=o>::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=n>echo</span> <span class=o>%</span><span class=n>cd</span><span class=o>%</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=err>@</span><span class=n>REM</span> <span class=n>schtasks</span> <span class=o>/</span><span class=n>Delete</span> <span class=o>/</span><span class=n>TN</span> <span class=s>&#34;xx1&#34;</span> <span class=o>/</span><span class=n>F</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=n>schtasks</span> <span class=o>/</span><span class=n>Change</span> <span class=o>/</span><span class=n>TN</span> <span class=s>&#34;xx1&#34;</span> <span class=o>/</span><span class=n>DISABLE</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=n>schtasks</span> <span class=o>/</span><span class=n>query</span> <span class=o>/</span><span class=n>TN</span> <span class=s>&#34;xx1&#34;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=n>taskkill</span> <span class=o>/</span><span class=n>F</span> <span class=o>/</span><span class=n>IM</span> <span class=n>xx1</span><span class=p>.</span><span class=n>exe</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=o>::</span> <span class=err>停止服务</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=n>net</span> <span class=n>stop</span> <span class=s>&#34;xx&#34;</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=n>pause</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=n>exit</span> <span class=mi>0</span></span></span></code></pre></div><h3 id=win自动上报ip地址 data-numberify>win自动上报ip地址<a class="anchor ms-1" href=#win自动上报ip地址></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln> 1</span><span class=cl>@echo off
</span></span><span class=line><span class=ln> 2</span><span class=cl>setlocal enabledelayedexpansion
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl>:: 初始化变量
</span></span><span class=line><span class=ln> 5</span><span class=cl>set &#34;ip_str=test_123  %DATE% %TIME%          ip: &#34;
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl>:: 使用 for /f 命令循环解析 ipconfig 输出，只取IPv4地址行的第二个字段（即IP地址）
</span></span><span class=line><span class=ln> 8</span><span class=cl>for /f &#34;tokens=2 delims=:&#34; %%a in (&#39;ipconfig ^| findstr /i &#34;IPv4&#34;&#39;) do (
</span></span><span class=line><span class=ln> 9</span><span class=cl>    set &#34;ip=%%a&#34;
</span></span><span class=line><span class=ln>10</span><span class=cl>    :: 删除前导和尾随空格
</span></span><span class=line><span class=ln>11</span><span class=cl>    set &#34;ip=!ip:~1!&#34;
</span></span><span class=line><span class=ln>12</span><span class=cl>    :: 将找到的IP地址添加到ip_str，以空格分隔
</span></span><span class=line><span class=ln>13</span><span class=cl>    if defined ip_str (
</span></span><span class=line><span class=ln>14</span><span class=cl>        set &#34;ip_str=!ip_str! !ip!&#34;
</span></span><span class=line><span class=ln>15</span><span class=cl>    ) else (
</span></span><span class=line><span class=ln>16</span><span class=cl>        set &#34;ip_str=!ip!&#34;
</span></span><span class=line><span class=ln>17</span><span class=cl>    )
</span></span><span class=line><span class=ln>18</span><span class=cl>)
</span></span><span class=line><span class=ln>19</span><span class=cl>
</span></span><span class=line><span class=ln>20</span><span class=cl>:: 输出所有拼接的IPv4地址
</span></span><span class=line><span class=ln>21</span><span class=cl>echo !ip_str!
</span></span><span class=line><span class=ln>22</span><span class=cl>
</span></span><span class=line><span class=ln>23</span><span class=cl>ssh -p 22 user@xxxx &#34;echo !ip_str! &gt; /home/test/ip.txt&#34;</span></span></code></pre></div><h3 id=普通用户通过管理员提权 data-numberify>普通用户通过管理员提权<a class="anchor ms-1" href=#普通用户通过管理员提权></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=p>:</span><span class=c1>: 提权执行命令，获取管理员cmd</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>runas /user:Administrator cmd</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=k>setlocal</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=p>:</span><span class=c1>: 设置目标目录</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=k>set</span> <span class=s2>&#34;folder_path=C:\a2c&#34;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=p>:</span><span class=c1>: 创建目录</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=k>mkdir</span> <span class=s2>&#34;</span><span class=nv>%folder_path%</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=k>if</span> <span class=nv>%errorlevel%</span> <span class=ow>neq</span> 0 <span class=p>(</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=k>echo</span> 创建目录失败：<span class=nv>%folder_path%</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=k>exit</span> /b <span class=nv>%errorlevel%</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=p>:</span><span class=c1>: 授予所有用户（Everyone）完全控制权限</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>icacls <span class=s2>&#34;</span><span class=nv>%folder_path%</span><span class=s2>&#34;</span> /grant <span class=s2>&#34;Everyone:(OI)(CI)F&#34;</span> /T
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=k>if</span> <span class=nv>%errorlevel%</span> <span class=ow>neq</span> 0 <span class=p>(</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=k>echo</span> 设置权限失败：<span class=nv>%folder_path%</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=k>exit</span> /b <span class=nv>%errorlevel%</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=k>echo</span> 目录创建成功并已授予所有用户完全控制权限：<span class=nv>%folder_path%</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>pause</span></span></code></pre></div><h3 id=右键打开命令窗口 data-numberify>右键打开命令窗口<a class="anchor ms-1" href=#右键打开命令窗口></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl>Windows Registry Editor Version 5.00
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl>[HKEY_CLASSES_ROOT\Directory\shell\OpenCmdHere]
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;在此处打开命令窗口&#34;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=s2>&#34;Icon&#34;</span>=<span class=s2>&#34;cmd.exe&#34;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl>[HKEY_CLASSES_ROOT\Directory\shell\OpenCmdHere\command]
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;cmd.exe /s /k pushd \&#34;</span>%V\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl>[HKEY_CLASSES_ROOT\Directory\Background\shell\OpenCmdHere]
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;在此处打开命令窗口&#34;</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=s2>&#34;Icon&#34;</span>=<span class=s2>&#34;cmd.exe&#34;</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>
</span></span><span class=line><span class=ln>14</span><span class=cl>[HKEY_CLASSES_ROOT\Directory\Background\shell\OpenCmdHere\command]
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;cmd.exe /s /k pushd \&#34;</span>%V\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl>[HKEY_CLASSES_ROOT\Drive\shell\OpenCmdHere]
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;在此处打开命令窗口&#34;</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=s2>&#34;Icon&#34;</span>=<span class=s2>&#34;cmd.exe&#34;</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl>[HKEY_CLASSES_ROOT\Drive\shell\OpenCmdHere\command]
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;cmd.exe /s /k pushd \&#34;</span>%V\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>
</span></span><span class=line><span class=ln>24</span><span class=cl>[HKEY_CLASSES_ROOT\LibraryFolder\background\shell\OpenCmdHere]
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;在此处打开命令窗口&#34;</span>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=s2>&#34;Icon&#34;</span>=<span class=s2>&#34;cmd.exe&#34;</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>
</span></span><span class=line><span class=ln>28</span><span class=cl>[HKEY_CLASSES_ROOT\LibraryFolder\background\shell\OpenCmdHere\command]
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;cmd.exe /s /k pushd \&#34;</span>%V\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>
</span></span><span class=line><span class=ln>31</span><span class=cl>
</span></span><span class=line><span class=ln>32</span><span class=cl>[HKEY_CLASSES_ROOT\Directory\Background\shell\runas]
</span></span><span class=line><span class=ln>33</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;以管理员身份运行CMD&#34;</span>
</span></span><span class=line><span class=ln>34</span><span class=cl><span class=s2>&#34;Icon&#34;</span>=<span class=s2>&#34;D:\\app\\ico\\t.ico&#34;</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>
</span></span><span class=line><span class=ln>36</span><span class=cl>[HKEY_CLASSES_ROOT\Directory\Background\shell\runas\command]
</span></span><span class=line><span class=ln>37</span><span class=cl><span class=s2>&#34;ShowBasedOnVelocityId&#34;</span>=dword:00639bc8
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=p>@</span>=<span class=s2>&#34;cmd.exe /s /k pushd \&#34;</span>%V\<span class=s2>&#34;&#34;</span></span></span></code></pre></div><h3 id=防火墙阻止出入站 data-numberify>防火墙阻止出入站<a class="anchor ms-1" href=#防火墙阻止出入站></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=p>:</span><span class=c1>: setlocal ENABLEDELAYEDEXPANSION</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=p>:</span><span class=c1>: mode con: cols=65 lines=25</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=p>:</span><span class=c1>: color 0a</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=p>:</span><span class=c1>: rem 批处理获取管理员权限</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=p>:</span><span class=c1>: :-------------------------------------  </span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=p>:</span><span class=c1>: %1 mshta vbscript:createobject(&#34;shell.application&#34;).shellexecute(&#34;&#34;&#34;%~0&#34;&#34;&#34;,&#34;::&#34;,,&#34;runas&#34;,1)(window.close)&amp;&amp;exit /b</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=p>:</span><span class=c1>: CD /D &#34;%~dp0&#34;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=p>:</span><span class=c1>: :-------------------------------------  </span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=p>:</span><span class=nl>begin</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1>rem 接收输入</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=k>set</span> <span class=nv>name</span><span class=p>=</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=k>set</span> <span class=nv>Fpath</span><span class=p>=</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=k>set</span> <span class=k>/p</span> <span class=nv>name</span><span class=p>=</span>Input software name:
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=k>set</span> <span class=k>/p</span> <span class=nv>Fpath</span><span class=p>=</span>software path (C:Program FilesWinRAR):
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=c1>rem 输出得到的输入信息</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=k>echo</span> Input software name: <span class=nv>%name%</span>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=k>echo</span> software path: <span class=nv>%Fpath%</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>
</span></span><span class=line><span class=ln>26</span><span class=cl>
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=k>echo</span> <span class=s2>&#34;Please cancel: Ctrl+C&#34;</span>
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=k>pause</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=k>setlocal</span> enabledelayedexpansion
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=k>set</span> <span class=k>/a</span> <span class=nv>n</span><span class=o>=</span><span class=mi>0</span>
</span></span><span class=line><span class=ln>32</span><span class=cl><span class=k>for</span> /r <span class=s2>&#34;</span><span class=nv>%Fpath%</span><span class=s2>&#34;</span> <span class=se>%%</span>i <span class=k>in</span> <span class=p>(</span>*.exe<span class=p>)</span> <span class=k>do</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>    <span class=k>set</span> <span class=k>/a</span> <span class=nv>n</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>    <span class=k>echo</span> <span class=s2>&#34;</span><span class=nv>%name%</span><span class=s2>_!n!&#34;</span>,<span class=s2>&#34;</span><span class=se>%%</span><span class=s2>i&#34;</span> 
</span></span><span class=line><span class=ln>35</span><span class=cl>    netsh advfirewall firewall del rule name=<span class=s2>&#34;a_user_</span><span class=nv>%name%</span><span class=s2>_!n!&#34;</span><span class=p>&gt;</span>nul <span class=mi>2</span><span class=p>&gt;</span>nul
</span></span><span class=line><span class=ln>36</span><span class=cl>    netsh advfirewall firewall add rule name=<span class=s2>&#34;a_user_</span><span class=nv>%name%</span><span class=s2>_!n!&#34;</span> program=<span class=s2>&#34;</span><span class=se>%%</span><span class=s2>i&#34;</span> action=block dir=out<span class=p>&gt;</span>null
</span></span><span class=line><span class=ln>37</span><span class=cl>    netsh advfirewall firewall add rule name=<span class=s2>&#34;a_user_</span><span class=nv>%name%</span><span class=s2>_!n!&#34;</span> program=<span class=s2>&#34;</span><span class=se>%%</span><span class=s2>i&#34;</span> action=block dir=in<span class=p>&gt;</span>null
</span></span><span class=line><span class=ln>38</span><span class=cl>    <span class=k>echo</span> block <span class=nv>%name%</span>_!n! ok ~~~
</span></span><span class=line><span class=ln>39</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>
</span></span><span class=line><span class=ln>41</span><span class=cl><span class=c1>rem pause&gt;null</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>
</span></span><span class=line><span class=ln>43</span><span class=cl><span class=k>echo</span>.
</span></span><span class=line><span class=ln>44</span><span class=cl>
</span></span><span class=line><span class=ln>45</span><span class=cl><span class=c1>rem 从begin标签出，再次运行</span>
</span></span><span class=line><span class=ln>46</span><span class=cl><span class=k>goto</span> <span class=nl>begin</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>
</span></span><span class=line><span class=ln>48</span><span class=cl>
</span></span><span class=line><span class=ln>49</span><span class=cl><span class=p>:</span><span class=c1>:如果要禁止入站规则，将 action=block dir=out&gt;null，中的out改为in，其他照旧</span></span></span></code></pre></div><h3 id=获取显示屏尺寸 data-numberify>获取显示屏尺寸<a class="anchor ms-1" href=#获取显示屏尺寸></a></h3><blockquote><p>powershell</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl>$monitors = Get-CimInstance -Namespace root\wmi -ClassName WmiMonitorBasicDisplayParams
</span></span><span class=line><span class=ln> 2</span><span class=cl>foreach ($m in $monitors) {
</span></span><span class=line><span class=ln> 3</span><span class=cl>    $width_inch = $m.MaxHorizontalImageSize / 2.54
</span></span><span class=line><span class=ln> 4</span><span class=cl>    $height_inch = $m.MaxVerticalImageSize / 2.54
</span></span><span class=line><span class=ln> 5</span><span class=cl>    $diag_inch = [Math]::Sqrt($width_inch * $width_inch + $height_inch * $height_inch)
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    $nearest = [Math]::Round($diag_inch)
</span></span><span class=line><span class=ln> 8</span><span class=cl>    $label = switch ($nearest) {
</span></span><span class=line><span class=ln> 9</span><span class=cl>        {$_ -ge 23 -and $_ -le 25} { <span class=s2>&#34;≈ 24 英寸&#34;</span> }
</span></span><span class=line><span class=ln>10</span><span class=cl>        {$_ -ge 26 -and $_ -le 28} { <span class=s2>&#34;≈ 27 英寸&#34;</span> }
</span></span><span class=line><span class=ln>11</span><span class=cl>        {$_ -ge 31 -and $_ -le 33} { <span class=s2>&#34;≈ 32 英寸&#34;</span> }
</span></span><span class=line><span class=ln>12</span><span class=cl>        default { <span class=s2>&#34;≈ $nearest 英寸&#34;</span> }
</span></span><span class=line><span class=ln>13</span><span class=cl>    }
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl>    Write-Output (<span class=s2>&#34;显示器: 宽 {0:F1} 英寸, 高 {1:F1} 英寸, 对角线 {2:F1} 英寸 → {3}&#34;</span> -f $width_inch, $height_inch, $diag_inch, $label)
</span></span><span class=line><span class=ln>16</span><span class=cl>}</span></span></code></pre></div><blockquote><p>cmd</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl>powershell -command <span class=s2>&#34;&amp; { $monitors = Get-CimInstance -Namespace root\wmi -ClassName WmiMonitorBasicDisplayParams; foreach ($m in $monitors) { $width_inch = $m.MaxHorizontalImageSize / 2.54; $height_inch = $m.MaxVerticalImageSize / 2.54; $diag_inch = [Math]::Sqrt($width_inch * $width_inch + $height_inch * $height_inch); $nearest = [Math]::Round($diag_inch); $label = switch ($nearest) { {$_ -ge 23 -and $_ -le 25} { &#39;≈ 24 英寸&#39; } {$_ -ge 26 -and $_ -le 28} { &#39;≈ 27 英寸&#39; } {$_ -ge 31 -and $_ -le 33} { &#39;≈ 32 英寸&#39; } default { &#39;≈ &#39; + $nearest + &#39; 英寸&#39; } }; Write-Output (&#39;显示器: 宽 {0:F1} 英寸, 高 {1:F1} 英寸, 对角线 {2:F1} 英寸 → {3}&#39; -f $width_inch, $height_inch, $diag_inch, $label) } }&#34;</span></span></span></code></pre></div><h3 id=微信解毒 data-numberify>微信解毒<a class="anchor ms-1" href=#微信解毒></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=p>:</span><span class=c1>: 必须管理员权限运行</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>net session <span class=p>&gt;</span>nul <span class=mi>2</span><span class=p>&gt;&amp;</span><span class=mi>1</span> <span class=p>||</span> <span class=p>(</span><span class=k>echo</span> 请以管理员身份运行！ <span class=p>&amp;</span> <span class=k>pause</span> <span class=p>&amp;</span> <span class=k>exit</span> /b 1<span class=p>)</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=k>setlocal</span> enabledelayedexpansion
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=p>:</span><span class=c1>: 设置目标目录</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=k>set</span> <span class=s2>&#34;target_dir=C:\Users\bob\AppData\Roaming\Tencent\WeChat\XPlugin&#34;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=p>:</span><span class=c1>: 检查目录是否存在</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>%target_dir%</span><span class=s2>&#34;</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=k>echo</span> 目录不存在: <span class=nv>%target_dir%</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=k>pause</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=k>exit</span> /b 1
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=p>:</span><span class=c1>: 查找并输出所有exe文件路径</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=k>echo</span> 正在扫描 <span class=nv>%target_dir%</span> 下的exe文件...
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=k>echo</span> ======================================
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=k>for</span> /r <span class=s2>&#34;</span><span class=nv>%target_dir%</span><span class=s2>&#34;</span> <span class=se>%%</span>f <span class=k>in</span> <span class=p>(</span>*.exe<span class=p>)</span> <span class=k>do</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=k>echo</span> <span class=se>%%</span>f
</span></span><span class=line><span class=ln>23</span><span class=cl>    <span class=k>set</span> <span class=s2>&#34;target_path=</span><span class=se>%%</span><span class=s2>f&#34;</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl>    <span class=k>if</span> <span class=k>exist</span> <span class=s2>&#34;</span><span class=nv>!target_path!</span><span class=s2>&#34;</span> <span class=p>(</span>        
</span></span><span class=line><span class=ln>26</span><span class=cl>        <span class=p>:</span><span class=c1>: 1. 重置权限（清除所有现有权限）</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>        icacls <span class=s2>&#34;</span><span class=nv>!target_path!</span><span class=s2>&#34;</span> /reset <span class=p>&gt;</span>nul
</span></span><span class=line><span class=ln>28</span><span class=cl>
</span></span><span class=line><span class=ln>29</span><span class=cl>        <span class=p>:</span><span class=c1>: 2. 禁用继承（不保留父级权限）</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>        icacls <span class=s2>&#34;</span><span class=nv>!target_path!</span><span class=s2>&#34;</span> /inheritance:r <span class=p>&gt;</span>nul <span class=mi>2</span><span class=p>&gt;&amp;</span><span class=mi>1</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>
</span></span><span class=line><span class=ln>32</span><span class=cl>        <span class=p>:</span><span class=c1>: 3. 仅授予Administrators读取权限, 没生效??</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>        icacls <span class=s2>&#34;</span><span class=nv>!target_path!</span><span class=s2>&#34;</span> /grant *S-1-5-32-544:(R<span class=p>)</span> <span class=p>&gt;</span>nul <span class=mi>2</span><span class=p>&gt;&amp;</span><span class=mi>1</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>
</span></span><span class=line><span class=ln>35</span><span class=cl>        <span class=p>:</span><span class=c1>: 验证权限</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>        icacls <span class=s2>&#34;</span><span class=nv>!target_path!</span><span class=s2>&#34;</span> <span class=p>|</span> findstr <span class=s2>&#34;Administrators&#34;</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>
</span></span><span class=line><span class=ln>38</span><span class=cl>        <span class=k>echo</span> 已完成。
</span></span><span class=line><span class=ln>39</span><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=ln>40</span><span class=cl><span class=c1>)</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>
</span></span><span class=line><span class=ln>42</span><span class=cl><span class=k>echo</span> ======================================
</span></span><span class=line><span class=ln>43</span><span class=cl><span class=k>echo</span> 所有操作完成！
</span></span><span class=line><span class=ln>44</span><span class=cl>
</span></span><span class=line><span class=ln>45</span><span class=cl><span class=k>cd</span> /d <span class=nv>%target_dir%</span>\Plugins
</span></span><span class=line><span class=ln>46</span><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=s2>&#34;RadiumWMPF--del--&#34;</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>    <span class=k>rename</span> RadiumWMPF RadiumWMPF--del--
</span></span><span class=line><span class=ln>48</span><span class=cl>    <span class=k>echo</span> <span class=p>&gt;</span> RadiumWMPF
</span></span><span class=line><span class=ln>49</span><span class=cl>    icacls RadiumWMPF /reset <span class=p>&gt;</span>nul
</span></span><span class=line><span class=ln>50</span><span class=cl>    icacls RadiumWMPF /inheritance:r <span class=p>&gt;</span>nul <span class=mi>2</span><span class=p>&gt;&amp;</span><span class=mi>1</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>    icacls RadiumWMPF /grant *S-1-5-32-544:(R<span class=p>)</span> <span class=p>&gt;</span>nul <span class=mi>2</span><span class=p>&gt;&amp;</span><span class=mi>1</span>
</span></span><span class=line><span class=ln>52</span><span class=cl>)</span></span></code></pre></div><h3 id=循环菜单 data-numberify>循环菜单<a class="anchor ms-1" href=#循环菜单></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=nv>%1</span> mshta vbscript:CreateObject(<span class=s2>&#34;Shell.Application&#34;</span>).ShellExecute(<span class=s2>&#34;cmd.exe&#34;</span>,<span class=s2>&#34;/c </span><span class=nv>%~s0</span><span class=s2> ::&#34;</span>,<span class=s2>&#34;&#34;</span>,<span class=s2>&#34;runas&#34;</span>,1)(window.close)<span class=p>&amp;&amp;</span><span class=k>exit</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=k>cd</span> /d <span class=s2>&#34;</span><span class=nv>%~dp0</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=k>color</span> 0A
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=p>:</span><span class=nl>choice</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=k>echo</span> ################################################
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=k>echo</span> ##   网络配置菜单
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=k>echo</span> ################################################
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=k>echo</span> ##  0. 查看 ipconfig
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=k>echo</span> ##  1. WLAN DHCP
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=k>echo</span> ##  2. 以太网 DHCP
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=k>echo</span> ##  q. 退出
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=k>echo</span> ################################################
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=k>set</span> <span class=k>/P</span> <span class=nv>action</span><span class=p>=</span>请输入编号:
</span></span><span class=line><span class=ln>16</span><span class=cl>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=k>if</span> <span class=k>/I</span> <span class=s2>&#34;</span><span class=nv>%action%</span><span class=s2>&#34;</span><span class=o>==</span><span class=s2>&#34;q&#34;</span> <span class=k>goto</span> <span class=nl>Action_quit</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=k>goto</span> <span class=nl>Action_%action%</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=p>:</span><span class=nl>Action_0</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>run</span> ipconfig /all
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>pause1</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=k>goto</span> <span class=nl>choice</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=p>:</span><span class=nl>Action_1</span>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=k>echo</span> [*] 正在设置 WLAN DHCP...
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>run</span> netsh interface ip set address <span class=s2>&#34;WLAN&#34;</span> dhcp
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>run</span> netsh interface ip set dns <span class=s2>&#34;WLAN&#34;</span> dhcp
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>pause1</span>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=k>goto</span> <span class=nl>choice</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>
</span></span><span class=line><span class=ln>32</span><span class=cl><span class=p>:</span><span class=nl>Action_2</span>
</span></span><span class=line><span class=ln>33</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>run</span> netsh interface ip set address <span class=s2>&#34;以太网&#34;</span> dhcp
</span></span><span class=line><span class=ln>34</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>pause1</span>
</span></span><span class=line><span class=ln>35</span><span class=cl><span class=k>goto</span> <span class=nl>choice</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>
</span></span><span class=line><span class=ln>37</span><span class=cl><span class=p>:</span><span class=nl>Action_quit</span>
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=k>echo</span> 正在退出...
</span></span><span class=line><span class=ln>39</span><span class=cl><span class=k>call</span> <span class=p>:</span><span class=nl>pause1</span>
</span></span><span class=line><span class=ln>40</span><span class=cl><span class=k>exit</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>
</span></span><span class=line><span class=ln>42</span><span class=cl><span class=p>:</span><span class=nl>pause1</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>ping 127.0.0.1 -n 1 <span class=p>&gt;</span>nul
</span></span><span class=line><span class=ln>44</span><span class=cl><span class=k>goto</span> <span class=p>:</span><span class=nl>eof</span>
</span></span><span class=line><span class=ln>45</span><span class=cl>
</span></span><span class=line><span class=ln>46</span><span class=cl><span class=p>:</span><span class=nl>run</span>
</span></span><span class=line><span class=ln>47</span><span class=cl><span class=k>echo</span> <span class=se>^&gt;</span> <span class=nv>%*</span>
</span></span><span class=line><span class=ln>48</span><span class=cl><span class=nv>%*</span>
</span></span><span class=line><span class=ln>49</span><span class=cl><span class=k>goto</span> <span class=p>:</span><span class=nl>eof</span></span></span></code></pre></div><h2 id=正则表达式 data-numberify>正则表达式<a class="anchor ms-1" href=#正则表达式></a></h2><h3 id=正则表达式基本点 data-numberify>正则表达式基本点：<a class="anchor ms-1" href=#正则表达式基本点></a></h3><table><thead><tr><th>符号</th><th>用法</th></tr></thead><tbody><tr><td>\</td><td>将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。例如，&rsquo;n&rsquo; 匹配字符 &ldquo;n&rdquo;。&rsquo;\n&rsquo; 匹配一个换行符。序列 &lsquo;\\&rsquo; 匹配 &ldquo;\&rdquo; 而 &ldquo;\(&rdquo; 则匹配 &ldquo;("。</td></tr><tr><td>^</td><td>匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^ 也匹配 &lsquo;\n&rsquo; 或 &lsquo;\r&rsquo; 之后的位置。</td></tr><tr><td>$</td><td>匹配输入字符串的结束位置。如果设置了RegExp 对象的 Multiline 属性，$ 也匹配 &lsquo;\n&rsquo; 或 &lsquo;\r&rsquo; 之前的位置。</td></tr><tr><td>*</td><td>匹配前面的子表达式零次或多次。例如，zo* 能匹配 &ldquo;z&rdquo; 以及 &ldquo;zoo&rdquo;。* 等价于{0,}。</td></tr><tr><td>+</td><td>匹配前面的子表达式一次或多次。例如，&lsquo;zo+&rsquo; 能匹配 &ldquo;zo&rdquo; 以及 &ldquo;zoo&rdquo;，但不能匹配 &ldquo;z&rdquo;。+ 等价于 {1,}。</td></tr><tr><td>?</td><td>匹配前面的子表达式零次或一次。例如，&ldquo;do(es)?&rdquo; 可以匹配 &ldquo;do&rdquo; 或 &ldquo;does&rdquo; 。? 等价于 {0,1}。</td></tr><tr><td>{n}</td><td>n 是一个非负整数。匹配确定的 n 次。例如，&lsquo;o{2}&rsquo; 不能匹配 &ldquo;Bob&rdquo; 中的 &lsquo;o&rsquo;，但是能匹配 &ldquo;food&rdquo; 中的两个 o。</td></tr><tr><td>{n,}</td><td>n 是一个非负整数。至少匹配n 次。例如，&lsquo;o{2,}&rsquo; 不能匹配 &ldquo;Bob&rdquo; 中的 &lsquo;o&rsquo;，但能匹配 &ldquo;foooood&rdquo; 中的所有 o。&lsquo;o{1,}&rsquo; 等价于 &lsquo;o+&rsquo;。&lsquo;o{0,}&rsquo; 则等价于 &lsquo;o*&rsquo;。</td></tr><tr><td>{n,m}</td><td>m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，&ldquo;o{1,3}&rdquo; 将匹配 &ldquo;fooooood&rdquo; 中的前三个 o。&lsquo;o{0,1}&rsquo; 等价于 &lsquo;o?&rsquo;。请注意在逗号和两个数之间不能有空格。</td></tr><tr><td>?</td><td>当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 &ldquo;oooo&rdquo;，&lsquo;o+?&rsquo; 将匹配单个 &ldquo;o&rdquo;，而 &lsquo;o+&rsquo; 将匹配所有 &lsquo;o&rsquo;。</td></tr><tr><td>.</td><td>匹配除换行符（\n、\r）之外的任何单个字符。要匹配包括 &lsquo;\n&rsquo; 在内的任何字符，请使用像&rdquo;<strong>(.|\n)</strong>&ldquo;的模式。</td></tr><tr><td>\s</td><td>匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [\f\n\r\t\v]。</td></tr><tr><td>\S</td><td>匹配任何非空白字符。等价于 [^\f\n\r\t\v]。</td></tr><tr><td>\w</td><td>匹配字母、数字、下划线。等价于&rsquo;[A-Za-z0-9_]&rsquo;。</td></tr><tr><td>(pattern)</td><td>匹配 pattern 并获取这一匹配。所获取的匹配可以从产生的 Matches 集合得到，在VBScript 中使用 SubMatches 集合，在JScript 中则使用 $0…$9 属性。要匹配圆括号字符，请使用 &lsquo;\(&rsquo; 或 &lsquo;\)&rsquo;。</td></tr><tr><td>x|y</td><td>匹配 x 或 y。例如，&lsquo;z|food&rsquo; 能匹配 &ldquo;z&rdquo; 或 &ldquo;food&rdquo;。&rsquo;(z|f)ood&rsquo; 则匹配 &ldquo;zood&rdquo; 或 &ldquo;food&rdquo;。</td></tr><tr><td>[xyz]</td><td>字符集合。匹配所包含的任意一个字符。例如， &lsquo;[abc]&rsquo; 可以匹配 &ldquo;plain&rdquo; 中的 &lsquo;a&rsquo;。</td></tr><tr><td>[^xyz]</td><td>负值字符集合。匹配未包含的任意字符。例如， &lsquo;[^abc]&rsquo; 可以匹配 &ldquo;plain&rdquo; 中的&rsquo;p&rsquo;、&rsquo;l&rsquo;、&lsquo;i&rsquo;、&rsquo;n&rsquo;。</td></tr><tr><td>\x20</td><td>匹配空格字符</td></tr><tr><td>[\u4e00-\u9fa5]</td><td>中文</td></tr><tr><td>(?!&mldr;)</td><td>负前瞻, 断言后面的位置不匹配括号内的内容</td></tr><tr><td>\b(?!cat)\w+</td><td>匹配不以 cat 开头的单词,\b：单词边界</td></tr></tbody></table><p>详细可参考：<a href=https://www.runoob.com/regexp/regexp-tutorial.html target=_blank rel="noopener noreferrer">正则表达式 – 教程 | 菜鸟教程<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h2 id=cmake data-numberify>Cmake<a class="anchor ms-1" href=#cmake></a></h2><h3 id=debug信息 data-numberify>debug信息<a class="anchor ms-1" href=#debug信息></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=ln>1</span><span class=cl><span class=nb>message</span><span class=p>(</span><span class=s>FATAL_ERROR</span>  <span class=s>xxxxxx</span> <span class=p>)</span><span class=err>
</span></span></span><span class=line><span class=ln>2</span><span class=cl><span class=err>//</span> <span class=err>FATAL_ERROR</span> <span class=err>SEND_ERROR</span> <span class=err>WARNING</span> <span class=err>AUTHOR_WARNING</span> <span class=err>STATUS</span> <span class=err>DEBUG</span> <span class=err>TRACE</span></span></span></code></pre></div><h3 id=生成中间文件 data-numberify>生成中间文件<a class="anchor ms-1" href=#生成中间文件></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-cmake data-lang=cmake><span class=line><span class=ln>1</span><span class=cl><span class=nb>set</span><span class=p>(</span><span class=s>CMAKE_C_FLAGS</span> <span class=s2>&#34;${CMAKE_C_FLAGS}  -save-temps=obj&#34;</span><span class=p>)</span></span></span></code></pre></div><p>将保存中间文件，以对象文件（.obj）的形式 分析源文件宏展开之后的代码，生成的中间文件example.c.i</p><h2 id=git data-numberify>Git<a class="anchor ms-1" href=#git></a></h2><blockquote><p>ssh-keygen -t ed25519 -f ./id_ed25519 -C &ldquo;@.com&rdquo;<br>ssh -o HostKeyAlgorithms=+ssh-rsa -o PubkeyAcceptedAlgorithms=+ssh-rsa bob@ip</p></blockquote><h3 id=本地仓库同步 data-numberify>本地仓库同步<a class="anchor ms-1" href=#本地仓库同步></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>git config receive.denyCurrentBranch ignore
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=c1>#实际.git/config 文件中添加</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1>#[receive]</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1>#    denyCurrentBranch =ignore</span></span></span></code></pre></div><h3 id=git命令自动补全 data-numberify>Git命令自动补全<a class="anchor ms-1" href=#git命令自动补全></a></h3><p>参考：https://www.cnblogs.com/kinwing/p/11670577.html</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln>1</span><span class=cl><span class=c1># 下载配置文件 git clone git://git.kernel.org/pub/scm/git/git.git</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=c1># linux可能自带无需下载，搜索文件 git-completion.bash</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>cp  git/contrib/completion/git-completion.bash  ~/.git-completion.bash
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1># 在.bashrc中添加</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=nb>source</span> ~/.git-completion.bash
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nb>source</span> ~/.bashrc</span></span></code></pre></div><h3 id=gitconfig data-numberify>.gitconfig<a class="anchor ms-1" href=#gitconfig></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl>git config --global core.filemode <span class=nb>false</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>git config --global core.autocrlf <span class=nb>false</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>git config --unset-all core.filemode
</span></span><span class=line><span class=ln> 4</span><span class=cl>git config --global --list
</span></span><span class=line><span class=ln> 5</span><span class=cl>git config --local --list
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1># git config --global alias.gc &#39;auto = 256&#39;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=o>[</span>core<span class=o>]</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=nv>autocrlf</span> <span class=o>=</span> <span class=nb>false</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=nv>filemode</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=nv>preloadindex</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=nv>fscache</span> <span class=o>=</span> <span class=nb>true</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=o>[</span>alias<span class=o>]</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=nv>co</span> <span class=o>=</span> checkout
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=nv>br</span> <span class=o>=</span> branch
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=nv>ci</span> <span class=o>=</span> commit
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=nv>st</span> <span class=o>=</span> status
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=nv>lg</span> <span class=o>=</span> log
</span></span><span class=line><span class=ln>19</span><span class=cl>    <span class=nv>lgn</span> <span class=o>=</span> log --name-status
</span></span><span class=line><span class=ln>20</span><span class=cl>    <span class=nv>lgo</span> <span class=o>=</span> log --name-only
</span></span><span class=line><span class=ln>21</span><span class=cl>    <span class=nv>df</span> <span class=o>=</span> diff
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=nv>dfst</span> <span class=o>=</span> diff --stat
</span></span><span class=line><span class=ln>23</span><span class=cl>    <span class=nv>dfcst</span> <span class=o>=</span> diff --cached --stat
</span></span><span class=line><span class=ln>24</span><span class=cl>    <span class=nv>dfc</span> <span class=o>=</span> diff --cached
</span></span><span class=line><span class=ln>25</span><span class=cl>    <span class=nv>ss</span> <span class=o>=</span> stash
</span></span><span class=line><span class=ln>26</span><span class=cl>    <span class=nv>sl</span> <span class=o>=</span> stash list
</span></span><span class=line><span class=ln>27</span><span class=cl>    <span class=nv>sp</span> <span class=o>=</span> stash pop
</span></span><span class=line><span class=ln>28</span><span class=cl>    <span class=nv>cino</span> <span class=o>=</span> commit --amend --no-edit
</span></span><span class=line><span class=ln>29</span><span class=cl>    <span class=c1># pushx = &#34;!f() { git push \&#34;$@\&#34; &amp;&amp; .git/hooks/post-push; }; f&#34;</span>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=o>[</span>color<span class=o>]</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>    <span class=nv>ui</span> <span class=o>=</span> auto</span></span></code></pre></div><h3 id=sshconfig data-numberify>.ssh/config<a class="anchor ms-1" href=#sshconfig></a></h3><blockquote><p>若是win安装git后不能使用pull，可以先进行如下配置
在秘钥路径中 如 C:\Users\xxx.ssh 添加 config 文件，如下配置</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl>Host xxxx.com
</span></span><span class=line><span class=ln> 2</span><span class=cl>HostkeyAlgorithms +ssh-rsa
</span></span><span class=line><span class=ln> 3</span><span class=cl>PubkeyAcceptedAlgorithms +ssh-rsa
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1># StrictHostKeyChecking no</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=c1># UserKnownHostsFile /dev/null</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=c1># 特定key配置，没有配置默认使用 id_rsa</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>Host xxx1.com
</span></span><span class=line><span class=ln>10</span><span class=cl>    IdentityFile ~/.ssh/id_rsa
</span></span><span class=line><span class=ln>11</span><span class=cl>    IdentityFile ~/.ssh/id_rsa_1
</span></span><span class=line><span class=ln>12</span><span class=cl>Host xxx2.com
</span></span><span class=line><span class=ln>13</span><span class=cl>    IdentityFile ~/.ssh/id_rsa_2</span></span></code></pre></div><h3 id=github多用户 data-numberify>github多用户<a class="anchor ms-1" href=#github多用户></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl><span class=c1># 测试链接</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>ssh -T -vvv git@github.com
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1># 配置 config 文件</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1># 添加 Host github.com IdentityFile ~/.ssh/id_ed25519</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=c1># 测试 git clone 日志debug</span>
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=nv>GIT_SSH_COMMAND</span><span class=o>=</span><span class=s2>&#34;ssh -v&#34;</span> git clone git@github.com:Genymobile/scrcpy.git</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># ~/.ssh/config 文件新增如下内容</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>Host user1.github.com
</span></span><span class=line><span class=ln> 3</span><span class=cl>    HostName github.com
</span></span><span class=line><span class=ln> 4</span><span class=cl>    IdentityFile ~/.ssh/user1_ed25519
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl>Host user2.github.com
</span></span><span class=line><span class=ln> 7</span><span class=cl>    HostName github.com
</span></span><span class=line><span class=ln> 8</span><span class=cl>    IdentityFile ~/.ssh/user2_ed25519
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1># 上面的配置可能由于22断开被封，出现错误：Connection closed by remote host</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1># 参考 https://paugram.com/tech/github-ssh-connection-closed-problem-with-proxy.html</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>Host user1.github.com
</span></span><span class=line><span class=ln>13</span><span class=cl>    HostName ssh.github.com
</span></span><span class=line><span class=ln>14</span><span class=cl>    User git
</span></span><span class=line><span class=ln>15</span><span class=cl>    Port <span class=m>443</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>	PreferredAuthentications publickey
</span></span><span class=line><span class=ln>17</span><span class=cl>    IdentityFile ~/.ssh/user1_ed25519
</span></span><span class=line><span class=ln>18</span><span class=cl>
</span></span><span class=line><span class=ln>19</span><span class=cl>Host user2.github.com
</span></span><span class=line><span class=ln>20</span><span class=cl>    HostName ssh.github.com
</span></span><span class=line><span class=ln>21</span><span class=cl>    User git
</span></span><span class=line><span class=ln>22</span><span class=cl>    Port <span class=m>443</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>	PreferredAuthentications publickey
</span></span><span class=line><span class=ln>24</span><span class=cl>    IdentityFile ~/.ssh/user2_ed25519
</span></span><span class=line><span class=ln>25</span><span class=cl>
</span></span><span class=line><span class=ln>26</span><span class=cl>
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=c1># 用法</span>
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=c1># git clone git@github.com:Genymobile/scrcpy.git 替换为如下即可</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>git clone git@user1.github.com:Genymobile/scrcpy.git
</span></span><span class=line><span class=ln>30</span><span class=cl>
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=c1># 多个用户可能会配置多个用户名和邮箱，在每个仓库单独配置即可</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>git config --local user.name <span class=s2>&#34;your_name&#34;</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>git config --local user.email <span class=s2>&#34;your_eamil&#34;</span></span></span></code></pre></div><h3 id=github查看仓库大小 data-numberify>github查看仓库大小<a class="anchor ms-1" href=#github查看仓库大小></a></h3><p>直达链接：https://github.com/settings/repositories</p><h3 id=修改分支名 data-numberify>修改分支名<a class="anchor ms-1" href=#修改分支名></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 先切换所在分支</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>git checkout -b oldname origin/oldname
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1># 修改分支名</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>git branch -m newname
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1># 删除远程分支</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>git push origin --delete oldname
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1># 推送新分支，如果不进行这一步，相当于删除远程分支</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>git push origin newname
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1># 强制更新修改网页提交记录</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1># 本地修改 git log 之后，git push -f origin master</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=c1># 主线master直接提交feature分支</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>git push origin dev:feature
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1># 提交MR之后，在master分支 git pull --rebase 即可，偷懒一直在主线开发 </span></span></span></code></pre></div><h3 id=git-log data-numberify>git log<a class="anchor ms-1" href=#git-log></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl>git log --grep<span class=o>=</span><span class=s2>&#34;xxx&#34;</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1># 搜索特定作者</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>git log --author<span class=o>=</span><span class=s2>&#34;作者名字&#34;</span> --grep<span class=o>=</span><span class=s2>&#34;关键字&#34;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1># 限定时间段</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>git log --after<span class=o>=</span><span class=s2>&#34;YYYY-MM-DD&#34;</span> --before<span class=o>=</span><span class=s2>&#34;YYYY-MM-DD&#34;</span> --grep<span class=o>=</span><span class=s2>&#34;关键字&#34;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1># 查看对应的文件变化</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>git show commitId
</span></span><span class=line><span class=ln> 9</span><span class=cl>git whatchanged commitId
</span></span><span class=line><span class=ln>10</span><span class=cl>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1># 切换到某次 commitId</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>git checkout commitId
</span></span><span class=line><span class=ln>13</span><span class=cl>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=c1># 根据 commitId 定位前后的提交记录，  --oneline 简短显示log</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1># 前面的一次记录</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>git log -1 commitId
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=c1># 后面一次的提交记录</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>git log --reverse --oneline commitId..HEAD <span class=p>|</span> head -n <span class=m>1</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=c1># 查看HEAD</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>git rev-parse HEAD <span class=c1># HEAD~1 HEAD~n  HEAD^n</span></span></span></code></pre></div><h2 id=vscode data-numberify>vscode<a class="anchor ms-1" href=#vscode></a></h2><p><a href=https://code.visualstudio.com/api/references/contribution-points target=_blank rel="noopener noreferrer">https://code.visualstudio.com/api/references/contribution-points<i class="fas fa-external-link-square-alt ms-1"></i></a><br>gtags -i 搜索索引</p><h3 id=tab四个空格 data-numberify>tab四个空格<a class="anchor ms-1" href=#tab四个空格></a></h3><p>code->首选项-> 设置。<br>搜索 tab size&rsquo;即将值改为「4」<br><strong>注意：</strong><br>将 Detect Indentation 设置去掉，否则 vscode 会跟进文件内容自动推测tab 的空格数。就是说计算结果可能不是你设置的值。</p><h3 id=tab与空格相互转换 data-numberify>tab与空格相互转换<a class="anchor ms-1" href=#tab与空格相互转换></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln>1</span><span class=cl>ctrl+shift+p 输入：
</span></span><span class=line><span class=ln>2</span><span class=cl>    convert indentation to spaces  tab转空格
</span></span><span class=line><span class=ln>3</span><span class=cl>    convert indentation to tab       空格转tab</span></span></code></pre></div><h3 id=文本换行 data-numberify>文本换行<a class="anchor ms-1" href=#文本换行></a></h3><p>Ctrl+Shift+P 输入：Toggle World Wrap, 可配置快捷键</p><h3 id=代码折叠 data-numberify>代码折叠<a class="anchor ms-1" href=#代码折叠></a></h3><ul><li><p>要操作光标所在文件中的所有代码块：</p><ul><li>折叠所有 Ctrl+K+0</li><li>展开所有 Ctrl+K+J</li></ul></li><li><p>仅仅操作光标所处代码块内的代码：</p><ul><li>折叠 Ctrl+Shift+[</li><li>展开 Ctrl+Shift+]</li></ul><p>更多操作：Ctrl+Shift+P搜索fold和unfold</p></li></ul><h3 id=vscode-的-ifdef-区域变灰 data-numberify>VSCode 的 #ifdef 区域变灰<a class="anchor ms-1" href=#vscode-的-ifdef-区域变灰></a></h3><p>ctrl+, 搜索 <code>C_Cpp.dimInactiveRegions</code> 勾选即可
或者 setting 中添加：&ldquo;C_Cpp.dimInactiveRegions&rdquo;: true</p><h3 id=settingsjson data-numberify>settings.json<a class="anchor ms-1" href=#settingsjson></a></h3><blockquote><p>/home/bob/.vscode-server/data/Machine/settings.json</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=nt>&#34;C_Cpp.intelliSenseCacheSize&#34;</span><span class=p>:</span> <span class=mi>512</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=nt>&#34;C_Cpp.intelliSenseMemoryLimit&#34;</span><span class=p>:</span> <span class=mi>512</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=nt>&#34;C_Cpp.files.exclude&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>        <span class=nt>&#34;**/build&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>    <span class=nt>&#34;debug.allowBreakpointsEverywhere&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=nt>&#34;git.ignoredRepositories&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>        <span class=s2>&#34;/home/xxx/&#34;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=nt>&#34;git.scanRepositories&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=nt>&#34;todo-tree.filtering.excludeGlobs&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=nt>&#34;python.analysis.exclude&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=p>}</span></span></span></code></pre></div><blockquote><p>.vscode/settings.json</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=nt>&#34;files.associations&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>        <span class=nt>&#34;CMakeLists.txt&#34;</span><span class=p>:</span> <span class=s2>&#34;cmake&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nt>&#34;files.exclude&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>        <span class=nt>&#34;**/.cache&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=nt>&#34;search.exclude&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=nt>&#34;**/build/*&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=c1>// &#34;C_Cpp.intelliSenseEngine&#34;: &#34;disabled&#34;,
</span></span></span><span class=line><span class=ln>14</span><span class=cl><span class=c1></span>    <span class=nt>&#34;C_Cpp.intelliSenseCacheSize&#34;</span><span class=p>:</span> <span class=mi>512</span><span class=p>,</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>    <span class=nt>&#34;C_Cpp.intelliSenseMemoryLimit&#34;</span><span class=p>:</span> <span class=mi>512</span><span class=p>,</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=c1>// &#34;C_Cpp.workspaceSymbols&#34;: &#34;Just My Code&#34;,
</span></span></span><span class=line><span class=ln>17</span><span class=cl><span class=c1></span>    <span class=nt>&#34;search.followSymlinks&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=nt>&#34;C_Cpp.errorSquiggles&#34;</span><span class=p>:</span> <span class=s2>&#34;disabled&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=p>}</span></span></span></code></pre></div><h3 id=c_cpp_propertiesjson data-numberify>c_cpp_properties.json<a class="anchor ms-1" href=#c_cpp_propertiesjson></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Win32&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>            <span class=nt>&#34;includePath&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>                <span class=s2>&#34;${workspaceFolder}/xx/**&#34;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>            <span class=nt>&#34;defines&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>                <span class=s2>&#34;TEST_MARCO=1&#34;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>            <span class=nt>&#34;compilerPath&#34;</span><span class=p>:</span> <span class=s2>&#34;C:\\MinGW\\bin\\gcc.exe&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>            <span class=nt>&#34;cStandard&#34;</span><span class=p>:</span> <span class=s2>&#34;gnu17&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>            <span class=nt>&#34;cppStandard&#34;</span><span class=p>:</span> <span class=s2>&#34;gnu++14&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>            <span class=nt>&#34;intelliSenseMode&#34;</span><span class=p>:</span> <span class=s2>&#34;windows-gcc-x86&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>            <span class=nt>&#34;configurationProvider&#34;</span><span class=p>:</span> <span class=s2>&#34;ms-vscode.makefile-tools&#34;</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>    <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Linux&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>            <span class=nt>&#34;includePath&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>                <span class=s2>&#34;${workspaceFolder}/**&#34;</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>            <span class=nt>&#34;defines&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>                <span class=s2>&#34;TEST_MARCO=1&#34;</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>            <span class=nt>&#34;compilerPath&#34;</span><span class=p>:</span> <span class=s2>&#34;/usr/bin/gcc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>            <span class=nt>&#34;cStandard&#34;</span><span class=p>:</span> <span class=s2>&#34;gnu11&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>            <span class=nt>&#34;cppStandard&#34;</span><span class=p>:</span> <span class=s2>&#34;c++17&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>            <span class=nt>&#34;intelliSenseMode&#34;</span><span class=p>:</span> <span class=s2>&#34;gcc-x64&#34;</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=p>}</span></span></span></code></pre></div><h3 id=tasksjson data-numberify>tasks.json<a class="anchor ms-1" href=#tasksjson></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=c1>// See https://go.microsoft.com/fwlink/?LinkId=733558
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1></span>    <span class=c1>// for the documentation about the tasks.json format
</span></span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1></span>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;2.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=nt>&#34;tasks&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>            <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;shell&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>            <span class=nt>&#34;isBackground&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>            <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceFolder}/xxx/test.sh test1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>            <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>            <span class=nt>&#34;problemMatcher&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>                    <span class=nt>&#34;pattern&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>                        <span class=p>{</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>                            <span class=nt>&#34;regexp&#34;</span><span class=p>:</span> <span class=s2>&#34;.&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>                            <span class=nt>&#34;file&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>                            <span class=nt>&#34;location&#34;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>                            <span class=nt>&#34;message&#34;</span><span class=p>:</span> <span class=mi>3</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>                        <span class=p>}</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>                    <span class=p>],</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>                    <span class=nt>&#34;background&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>                        <span class=c1>// &#34;activeOnStart&#34;: false,
</span></span></span><span class=line><span class=ln>24</span><span class=cl><span class=c1></span>                        <span class=nt>&#34;beginsPattern&#34;</span><span class=p>:</span> <span class=s2>&#34;.*start qemu debug.*&#34;</span><span class=p>,</span>  <span class=c1>// 要对应编译成功后,一句echo的内容. 此处对应 Makefile Line:170   https://zhuanlan.zhihu.com/p/501901665
</span></span></span><span class=line><span class=ln>25</span><span class=cl><span class=c1></span>                        <span class=nt>&#34;endsPattern&#34;</span><span class=p>:</span> <span class=s2>&#34;build debug elf done.&#34;</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>            <span class=nt>&#34;presentation&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>                <span class=c1>// &#34;echo&#34;: true,
</span></span></span><span class=line><span class=ln>31</span><span class=cl><span class=c1></span>                <span class=c1>// &#34;showReuseMessage&#34;: false,
</span></span></span><span class=line><span class=ln>32</span><span class=cl><span class=c1></span>                <span class=c1>// &#34;clear&#34;: true,
</span></span></span><span class=line><span class=ln>33</span><span class=cl><span class=c1></span>                <span class=nt>&#34;close&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>                <span class=c1>// &#34;group&#34;: &#34;vm&#34;
</span></span></span><span class=line><span class=ln>35</span><span class=cl><span class=c1></span>            <span class=p>},</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln>38</span><span class=cl>            <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;test&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;shell&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>            <span class=c1>// &#34;dependsOn&#34;: &#34;autosar64build&#34;,
</span></span></span><span class=line><span class=ln>41</span><span class=cl><span class=c1></span>            <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;qemu-system-aarch64 -m 1024 -machine virt,gic-version=2,virtualization=on -cpu cortex-a53 -smp 2 -nographic -kernel ${workspaceFolder}/test -S -s -gdb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>            <span class=nt>&#34;args&#34;</span><span class=p>:[],</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>            <span class=nt>&#34;isBackground&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln>44</span><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=ln>45</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln>46</span><span class=cl>            <span class=nt>&#34;label&#34;</span><span class=p>:</span> <span class=s2>&#34;singlebuild&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;shell&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>48</span><span class=cl>            <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;gcc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>49</span><span class=cl>            <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&#34;-g&#34;</span><span class=p>,</span> <span class=s2>&#34;${fileDirname}/${fileBasename}&#34;</span><span class=p>,</span> <span class=s2>&#34;-o&#34;</span><span class=p>,</span> <span class=s2>&#34;${fileDirname}/${fileBasenameNoExtension}&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>50</span><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=ln>52</span><span class=cl><span class=p>}</span></span></span></code></pre></div><h3 id=launchjson data-numberify>launch.json<a class="anchor ms-1" href=#launchjson></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>    <span class=c1>// 使用 IntelliSense 了解相关属性。 
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1></span>    <span class=c1>// 悬停以查看现有属性的描述。
</span></span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1></span>    <span class=c1>// 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1></span>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>    <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;debug_1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>            <span class=c1>//&#34;preLaunchTask&#34;: &#34;build&#34;,
</span></span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1></span>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;cppdbg&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>            <span class=nt>&#34;request&#34;</span><span class=p>:</span> <span class=s2>&#34;launch&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>            <span class=c1>//&#34;miDebuggerServerAddress&#34;: &#34;127.0.0.1&#34;,
</span></span></span><span class=line><span class=ln>13</span><span class=cl><span class=c1></span>            <span class=nt>&#34;program&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceFolder}/test.elf&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>            <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>            <span class=nt>&#34;stopAtEntry&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>            <span class=nt>&#34;cwd&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceFolder}/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>            <span class=nt>&#34;environment&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>            <span class=nt>&#34;externalConsole&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>            <span class=nt>&#34;logging&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>                <span class=nt>&#34;engineLogging&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>            <span class=nt>&#34;MIMode&#34;</span><span class=p>:</span> <span class=s2>&#34;gdb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>            <span class=nt>&#34;miDebuggerPath&#34;</span><span class=p>:</span> <span class=s2>&#34;aarch64-none-elf-gdb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>            <span class=nt>&#34;setupCommands&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=c1>//为了安装基础调试程序而执行的一个或多个GDB/LLDB命令
</span></span></span><span class=line><span class=ln>25</span><span class=cl><span class=c1></span>                <span class=p>{</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>                    <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;Enable pretty-printing for gdb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>27</span><span class=cl>                    <span class=nt>&#34;text&#34;</span><span class=p>:</span> <span class=s2>&#34;-enable-pretty-printing&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>                    <span class=nt>&#34;ignoreFailures&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln>29</span><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>                <span class=p>{</span> <span class=nt>&#34;text&#34;</span><span class=p>:</span> <span class=s2>&#34;set output-radix 16&#34;</span> <span class=p>}</span> <span class=c1>// 16进制显示变量
</span></span></span><span class=line><span class=ln>31</span><span class=cl><span class=c1></span>            <span class=p>]</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;c-debug&#34;</span><span class=p>,</span> <span class=c1>//配置名称，显示在配置下拉菜单中
</span></span></span><span class=line><span class=ln>35</span><span class=cl><span class=c1></span>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;cppdbg&#34;</span><span class=p>,</span> <span class=c1>//配置类型
</span></span></span><span class=line><span class=ln>36</span><span class=cl><span class=c1></span>            <span class=nt>&#34;request&#34;</span><span class=p>:</span> <span class=s2>&#34;launch&#34;</span><span class=p>,</span> <span class=c1>//请求配置类型，可以是启动或者是附加
</span></span></span><span class=line><span class=ln>37</span><span class=cl><span class=c1></span>            <span class=nt>&#34;program&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceFolder}/test&#34;</span><span class=p>,</span> <span class=c1>//程序可执行文件的完整路径，${workspaceFolder}表示远程连接的初始路径
</span></span></span><span class=line><span class=ln>38</span><span class=cl><span class=c1></span>            <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[],</span> <span class=c1>//传递给程序的命令行参数
</span></span></span><span class=line><span class=ln>39</span><span class=cl><span class=c1></span>            <span class=nt>&#34;stopAtEntry&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span><span class=c1>//可选参数，如果为true,调试程序应该在入口（main）处停止
</span></span></span><span class=line><span class=ln>40</span><span class=cl><span class=c1></span>            <span class=nt>&#34;cwd&#34;</span><span class=p>:</span> <span class=s2>&#34;${workspaceFolder}/&#34;</span><span class=p>,</span> <span class=c1>//目标的工作目录
</span></span></span><span class=line><span class=ln>41</span><span class=cl><span class=c1></span>            <span class=nt>&#34;environment&#34;</span><span class=p>:</span> <span class=p>[],</span> <span class=c1>//表示要预设的环境变量
</span></span></span><span class=line><span class=ln>42</span><span class=cl><span class=c1></span>            <span class=nt>&#34;externalConsole&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span><span class=c1>//如果为true，则为调试对象启动控制台
</span></span></span><span class=line><span class=ln>43</span><span class=cl><span class=c1></span>            <span class=nt>&#34;MIMode&#34;</span><span class=p>:</span> <span class=s2>&#34;gdb&#34;</span><span class=p>,</span><span class=c1>//要连接到的控制台启动程序
</span></span></span><span class=line><span class=ln>44</span><span class=cl><span class=c1></span>            <span class=nt>&#34;setupCommands&#34;</span><span class=p>:</span> <span class=p>[</span> <span class=c1>//为了安装基础调试程序而执行的一个或多个GDB/LLDB命令
</span></span></span><span class=line><span class=ln>45</span><span class=cl><span class=c1></span>                <span class=p>{</span>
</span></span><span class=line><span class=ln>46</span><span class=cl>                    <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;为 gdb 启用整齐打印&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>                    <span class=nt>&#34;text&#34;</span><span class=p>:</span> <span class=s2>&#34;-enable-pretty-printing&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>48</span><span class=cl>                    <span class=nt>&#34;ignoreFailures&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=ln>49</span><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=ln>50</span><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>52</span><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=ln>53</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln>54</span><span class=cl>
</span></span><span class=line><span class=ln>55</span><span class=cl><span class=c1>// ${workspaceFolder} - 当前工作目录(根目录)
</span></span></span><span class=line><span class=ln>56</span><span class=cl><span class=c1>// ${workspaceFolderBasename} - 当前文件的父目录
</span></span></span><span class=line><span class=ln>57</span><span class=cl><span class=c1>// ${file} - 当前打开的文件名(完整路径)
</span></span></span><span class=line><span class=ln>58</span><span class=cl><span class=c1>// ${relativeFile} - 当前根目录到当前打开文件的相对路径(包括文件名)
</span></span></span><span class=line><span class=ln>59</span><span class=cl><span class=c1>// ${relativeFileDirname} - 当前根目录到当前打开文件的相对路径(不包括文件名)
</span></span></span><span class=line><span class=ln>60</span><span class=cl><span class=c1>// ${fileBasename} - 当前打开的文件名(包括扩展名)
</span></span></span><span class=line><span class=ln>61</span><span class=cl><span class=c1>// ${fileBasenameNoExtension} - 当前打开的文件名(不包括扩展名)
</span></span></span><span class=line><span class=ln>62</span><span class=cl><span class=c1>// ${fileDirname} - 当前打开文件的目录
</span></span></span><span class=line><span class=ln>63</span><span class=cl><span class=c1>// ${fileExtname} - 当前打开文件的扩展名
</span></span></span><span class=line><span class=ln>64</span><span class=cl><span class=c1>// ${cwd} - 启动时task工作的目录 Current Working Directory
</span></span></span><span class=line><span class=ln>65</span><span class=cl><span class=c1>// ${lineNumber} - 当前激活文件所选行
</span></span></span><span class=line><span class=ln>66</span><span class=cl><span class=c1>// ${selectedText} - 当前激活文件中所选择的文本
</span></span></span><span class=line><span class=ln>67</span><span class=cl><span class=c1>// ${execPath} - vscode执行文件所在的目录
</span></span></span><span class=line><span class=ln>68</span><span class=cl><span class=c1></span><span class=err>//</span> <span class=err>$</span><span class=p>{</span><span class=err>defaultBuildTask</span><span class=p>}</span> <span class=err>-</span> <span class=err>默认编译任务(build</span> <span class=err>task)的名字</span></span></span></code></pre></div><h3 id=服务器连接异常 data-numberify>服务器连接异常<a class="anchor ms-1" href=#服务器连接异常></a></h3><p>可能是更新vscode 需要安装新的vscode-server，ps-ef | grep wget 抓取，或者下面的方法下载
help->about 中可查看 commit号</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln>1</span><span class=cl><span class=err>wget</span> <span class=err>--tries=</span><span class=mi>1</span> <span class=err>--connect-timeout=</span><span class=mi>7</span> <span class=err>--dns-timeout=</span><span class=mi>7</span> <span class=err>-O</span> <span class=err>vscode-server.tar.gz</span> <span class=err>https://update.code.visualstudio.com/commit:</span><span class=mi>0</span><span class=err>ee</span><span class=mi>08</span><span class=err>df</span><span class=mi>0</span><span class=err>cf</span><span class=mf>4527e40</span><span class=err>edc</span><span class=mi>9</span><span class=err>aa</span><span class=mi>28</span><span class=err>f</span><span class=mi>4</span><span class=err>b</span><span class=mi>5</span><span class=err>bd</span><span class=mi>38</span><span class=err>bbff</span><span class=mi>2</span><span class=err>b</span><span class=mi>2</span><span class=err>/server-linux-x</span><span class=mi>64</span><span class=err>/stable</span></span></span></code></pre></div><blockquote><p>vscode-server手动</p></blockquote><blockquote><p>替换需要的 commitID
<a href=https://vscode.download.prss.microsoft.com/dbazure/download/stable/$%7bcommitID%7d/vscode-server-linux-x64.tar.gz target=_blank rel="noopener noreferrer">https://vscode.download.prss.microsoft.com/dbazure/download/stable/${commitID}/vscode-server-linux-x64.tar.gz<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p>解压到的路径
${HOME}/.vscode-server/cli/servers/Stable-${commitID}/server</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl><span class=si>${</span><span class=nv>HOME</span><span class=si>}</span>/.vscode-server/cli/servers/Stable-384ff7382de624fb94dbaf6da11977bba1ecd427/server
</span></span><span class=line><span class=ln>2</span><span class=cl>├── bin
</span></span><span class=line><span class=ln>3</span><span class=cl>├── extensions
</span></span><span class=line><span class=ln>4</span><span class=cl>├── LICENSE
</span></span><span class=line><span class=ln>5</span><span class=cl>├── node
</span></span><span class=line><span class=ln>6</span><span class=cl>├── node_modules
</span></span><span class=line><span class=ln>7</span><span class=cl>├── out
</span></span><span class=line><span class=ln>8</span><span class=cl>├── package.json
</span></span><span class=line><span class=ln>9</span><span class=cl>└── product.json</span></span></code></pre></div><h3 id=gtags-查找跳转 data-numberify>gtags 查找跳转<a class="anchor ms-1" href=#gtags-查找跳转></a></h3><p>参考：https://blog.japinli.top/2021/06/gtags-exclude-some-directories/</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl>default:<span class=se>\
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=se></span>	:tc<span class=o>=</span>gtags:tc<span class=o>=</span>htags:
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl>common:<span class=se>\
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=se></span>    :skip<span class=o>=</span>GPATH,GTAGS,GRTAGS,dir1/:
</span></span><span class=line><span class=ln> 6</span><span class=cl>gtags:<span class=se>\
</span></span></span><span class=line><span class=ln> 7</span><span class=cl><span class=se></span>    :tc<span class=o>=</span>common:<span class=se>\
</span></span></span><span class=line><span class=ln> 8</span><span class=cl><span class=se></span>    :langmap<span class=o>=</span>c<span class=se>\:</span>.c.h,yacc<span class=se>\:</span>.y,asm<span class=se>\:</span>.s.S,java<span class=se>\:</span>.java,cpp<span class=se>\:</span>.c++.cc.cpp.cxx.hxx.hpp.C.H,php<span class=se>\:</span>.php.php3.phtml:
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl>htags:<span class=se>\
</span></span></span><span class=line><span class=ln>11</span><span class=cl><span class=se></span>	:body_begin<span class=o>=</span>&lt;body <span class=nv>text</span><span class=o>=</span><span class=s1>&#39;#191970&#39;</span> <span class=nv>bgcolor</span><span class=o>=</span><span class=s1>&#39;#f5f5dc&#39;</span> <span class=nv>vlink</span><span class=o>=</span><span class=s1>&#39;gray&#39;</span>&gt;:body_end<span class=o>=</span>&lt;/body&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>12</span><span class=cl><span class=se></span>	:table_begin<span class=o>=</span>&lt;table&gt;:table_end<span class=o>=</span>&lt;/table&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>13</span><span class=cl><span class=se></span>	:title_begin<span class=o>=</span>&lt;h1&gt;&lt;font <span class=nv>color</span><span class=o>=</span><span class=s1>&#39;#cc0000&#39;</span>&gt;:title_end<span class=o>=</span>&lt;/font&gt;&lt;/h1&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>14</span><span class=cl><span class=se></span>	:comment_begin<span class=o>=</span>&lt;i&gt;&lt;font <span class=nv>color</span><span class=o>=</span><span class=s1>&#39;green&#39;</span>&gt;:comment_end<span class=o>=</span>&lt;/font&gt;&lt;/i&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>15</span><span class=cl><span class=se></span>	:sharp_begin<span class=o>=</span>&lt;font <span class=nv>color</span><span class=o>=</span><span class=s1>&#39;darkred&#39;</span>&gt;:sharp_end<span class=o>=</span>&lt;/font&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>16</span><span class=cl><span class=se></span>	:brace_begin<span class=o>=</span>&lt;font <span class=nv>color</span><span class=o>=</span><span class=s1>&#39;red&#39;</span>&gt;:brace_end<span class=o>=</span>&lt;/font&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>17</span><span class=cl><span class=se></span>	:warned_line_begin<span class=o>=</span>&lt;span <span class=nv>style</span><span class=o>=</span><span class=s1>&#39;background-color\:yellow&#39;</span>&gt;:warned_line_end<span class=o>=</span>&lt;/span&gt;:<span class=se>\
</span></span></span><span class=line><span class=ln>18</span><span class=cl><span class=se></span>	:reserved_begin<span class=o>=</span>&lt;b&gt;:reserved_end<span class=o>=</span>&lt;/b&gt;:script_alias<span class=o>=</span>/cgi-bin/:<span class=se>\
</span></span></span><span class=line><span class=ln>19</span><span class=cl><span class=se></span>	:ncol#4:tabs#8:normal_suffix<span class=o>=</span>html:gzipped_suffix<span class=o>=</span>ghtml:<span class=se>\
</span></span></span><span class=line><span class=ln>20</span><span class=cl><span class=se></span>	:definition_header<span class=o>=</span>no:
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl>// .globalrc_cfg
</span></span><span class=line><span class=ln>23</span><span class=cl>GPATH
</span></span><span class=line><span class=ln>24</span><span class=cl>GTAGS
</span></span><span class=line><span class=ln>25</span><span class=cl>GRTAGS
</span></span><span class=line><span class=ln>26</span><span class=cl>dir/
</span></span><span class=line><span class=ln>27</span><span class=cl>*/dir2/
</span></span><span class=line><span class=ln>28</span><span class=cl>
</span></span><span class=line><span class=ln>29</span><span class=cl>// 使用：
</span></span><span class=line><span class=ln>30</span><span class=cl>        <span class=k>if</span> <span class=o>[</span> -f <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/.globalrc <span class=o>]</span><span class=p>;</span><span class=k>then</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>            <span class=c1>#</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>            readarray -t lines &lt; <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/.globalrc_cfg
</span></span><span class=line><span class=ln>33</span><span class=cl>            <span class=nv>skip</span><span class=o>=</span><span class=s2>&#34;    :skip=</span><span class=k>$(</span><span class=nv>IFS</span><span class=o>=</span>,<span class=p>;</span> <span class=nb>echo</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>lines</span><span class=p>[*]</span><span class=si>}</span><span class=s2>&#34;</span><span class=k>)</span><span class=s2>:&#34;</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>            sed -i <span class=s2>&#34;5s|.*|</span><span class=si>${</span><span class=nv>skip</span><span class=si>}</span><span class=s2>|&#34;</span> <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/.globalrc
</span></span><span class=line><span class=ln>35</span><span class=cl>
</span></span><span class=line><span class=ln>36</span><span class=cl>            <span class=c1>#</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>            rm GPATH   GRTAGS  GTAGS
</span></span><span class=line><span class=ln>38</span><span class=cl>            <span class=nb>echo</span> <span class=s2>&#34; </span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span><span class=s2>/.globalrc &#34;</span>
</span></span><span class=line><span class=ln>39</span><span class=cl>            <span class=nb>export</span> <span class=nv>GTAGSCONF</span><span class=o>=</span><span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/.globalrc
</span></span><span class=line><span class=ln>40</span><span class=cl>            gtags -v <span class=p>&amp;</span>&gt; .globalrc_txt
</span></span><span class=line><span class=ln>41</span><span class=cl>        <span class=k>fi</span></span></span></code></pre></div><blockquote><p>异常：C++ Intellisense 升级到 C/C++，而两个同时安装，所以点击的时候有个相同的跳转地址</p></blockquote><h3 id=快捷键 data-numberify>快捷键<a class="anchor ms-1" href=#快捷键></a></h3><ol><li>聚焦窗口 ctrl 0，ctrl 9，alt 0, ctrl alt p</li><li>删除一行 ctrl shift k</li><li>选中一行 ctrl l</li><li>替换小窗口ctrl h</li><li>快捷键 ctrl k ctrl s</li><li>删除前后 ctrl back ，ctrl del</li></ol><h3 id=插件同步 data-numberify>插件同步<a class="anchor ms-1" href=#插件同步></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln>1</span><span class=cl>找到当前server中的 ~/.vscode-server/extensions/extensions.json 记录  &#34;id&#34;:&#34;twxs.cmake&#34; , 找到需要的插件的id
</span></span><span class=line><span class=ln>2</span><span class=cl>vscode 的终端中 whereis code
</span></span><span class=line><span class=ln>3</span><span class=cl>code --install-extension twxs.cmake
</span></span><span class=line><span class=ln>4</span><span class=cl>下载想要同步的插件</span></span></code></pre></div><h3 id=连接私钥配置 data-numberify>连接私钥配置<a class="anchor ms-1" href=#连接私钥配置></a></h3><ol><li>C:\Users\bob.ssh\config_vscode 是vscode链接服务器的配置文件,内容如下</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>Host <span class=nb>test</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>    HostName 192.168.68.2
</span></span><span class=line><span class=ln>3</span><span class=cl>    User <span class=nb>test</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>    Port <span class=m>22</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>    IdentityFile D:<span class=se>\d</span>ir1<span class=se>\d</span>ir2<span class=se>\i</span>d_rsa</span></span></code></pre></div><ol start=2><li>关键需要设置D:\dir1\dir2\id_rsa文件的属性（私钥id_rsa 不在 C:\Users\bob.ssh）</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln>1</span><span class=cl>1. 右键属性-&gt;安全-&gt;编辑-&gt;能删除的直接删除其他所有用户，只保留自己的用户名
</span></span><span class=line><span class=ln>2</span><span class=cl>2. 如果不能编辑的-&gt;高级-&gt;禁用继承-&gt;从此对象删除所有已继承的权限-&gt;确定-&gt;编辑-&gt;添加-&gt;高级-&gt;立即查找-&gt;找到自己的用户名双击-&gt;然后确定返回即可
</span></span><span class=line><span class=ln>3</span><span class=cl>3. 就能用vscode访问远程的服务器了</span></span></code></pre></div><ol start=3><li>方案二：</li></ol><blockquote><p>如下管理员权限建立软连接，即可
mklink /D C:\Users\bob.ssh\config_vscode E:\xxxx\myconfig</p></blockquote><h3 id=汇编调试断点 data-numberify>汇编调试断点<a class="anchor ms-1" href=#汇编调试断点></a></h3><p>设置里面勾选
&ldquo;debug.allowBreakpointsEverywhere&rdquo;: true , 前提是编译的时候加入 <code>-g</code> 调试信息</p><h3 id=文件窗口查找 data-numberify>文件窗口查找<a class="anchor ms-1" href=#文件窗口查找></a></h3><p>快捷键：<code>Ctrl+Alt+F</code> ，<a href=https://code.visualstudio.com/docs/getstarted/userinterface#_advanced-tree-navigation target=_blank rel="noopener noreferrer">定位查找文件<i class="fas fa-external-link-square-alt ms-1"></i></a>
<picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/2025-07-17-19-04-27.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=400 height=332></picture></p><h3 id=面包屑导航 data-numberify>面包屑导航<a class="anchor ms-1" href=#面包屑导航></a></h3><blockquote><p>&ldquo;breadcrumbs.enabled&rdquo;: true</p></blockquote><p><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/2025-07-17-19-47-30.gif?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=1209 height=591></picture></p><h2 id=vim data-numberify>vim<a class="anchor ms-1" href=#vim></a></h2><h3 id=选择复制 data-numberify>选择复制<a class="anchor ms-1" href=#选择复制></a></h3><p>进入字符模式<br>  按 v (小写)键进入字符模式，可以<strong>逐字</strong>符地选择文本
进入行模式<br>  按 V (大写) 键进入行模式，可以<strong>逐行</strong>地选择文本。<br>进入块模式<br>  按 Ctrl + v 进入块模式，可以选择一个<strong>矩形区域</strong>。<br>复制选中的文本<br>  选择文本后，按 y 键（表示 &ldquo;yank&rdquo;）将选中的文本<strong>复制</strong>到剪贴板。<br>粘贴文本<br>  可以在所需位置按 p 键（小写 p）粘贴文本。如果想<strong>粘贴</strong>在光标之前，可以按 P 键（大写 P）。</p><h3 id=插入 data-numberify>插入<a class="anchor ms-1" href=#插入></a></h3><p>光标之前：i<br>光标之后：a<br>下一行插入：o<br>上一行插入：shift + o</p><h2 id=docker data-numberify>docker<a class="anchor ms-1" href=#docker></a></h2><h3 id=安装使用 data-numberify>安装使用<a class="anchor ms-1" href=#安装使用></a></h3><p>docker 获取镜像，创建容器，配合shell章节的自动补全，环境配置好只需要使用就行了，无感操作
详细可参考：https://www.runoob.com/docker/docker-container-usage.html</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 安装docker，终端输入 docker，ubuntu24.04会提示安装命令</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>sudo apt install docker.io
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1># 安装完成之后 docker 执行需要root权限， 把需要操作的用户加入docker即可</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>sudo usermod -aG docker bob <span class=c1># 重启即可生效，其他方式如果ssh链接的，断开重连也会生效</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1># 会显示用户在docker组</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>id bob
</span></span><span class=line><span class=ln> 7</span><span class=cl>groups bob
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1># 获取镜像</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>docker pull ubuntu
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=c1># 查看镜像</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>docker images
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=c1># 启动一个容器，镜像可以理解模版，容器是配置的不同的环境，可以一个镜像启动多个容器</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1># 可以先用起来，一些概念用着用着就熟悉了解了</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>docker run --privileged -it -d -v /home/bob:/home/bob --name my_nodejs ubuntu /bin/bash
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=c1># 这里启动一个my_nodejs的容器（里面用户和主机用户一样，方便后续操作，默认用root用户进入，然后创建和主机一样的用户）</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=c1># 前期可以直接 docker run --privileged -it -d --name my_nodejs ubuntu /bin/bash，直接用root操作</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>docker <span class=nb>exec</span> -it my_nodejs /bin/bash
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=c1># 如果主机 id bob 为 1000，进入docker cat /etc/passwd，如果有1000的用户，直接修改用户名</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=c1># usermod -l bob -d /home/bob -m ubuntu</span>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=c1># groupadd bob</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=c1># usermod -g bob -G bob bob</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=c1># 启动容器</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>docker start my_nodejs
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=c1># 关闭容器</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>docker stop my_nodejs
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=c1># 进入容器</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>docker <span class=nb>exec</span> -it -u bob -w /home/bob my_nodejs /bin/bash</span></span></code></pre></div><h3 id=动态添加端口 data-numberify>动态添加端口<a class="anchor ms-1" href=#动态添加端口></a></h3><p><a href=https://blog.csdn.net/weixin_41148525/article/details/135675015 target=_blank rel="noopener noreferrer">https://blog.csdn.net/weixin_41148525/article/details/135675015<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://www.baeldung.com/ops/assign-port-docker-container target=_blank rel="noopener noreferrer">https://www.baeldung.com/ops/assign-port-docker-container<i class="fas fa-external-link-square-alt ms-1"></i></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>systemctl stop docker
</span></span><span class=line><span class=ln>2</span><span class=cl>docker info <span class=p>|</span> grep Root
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1># dir</span>
</span></span><span class=line><span class=ln>4</span><span class=cl>docker inspect xxx <span class=p>|</span> grep Id
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=c1># idxxxxxxxx</span>
</span></span><span class=line><span class=ln>6</span><span class=cl><span class=nb>cd</span> /dir/idxxxxxxxx
</span></span><span class=line><span class=ln>7</span><span class=cl><span class=c1># 修改如下</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=ln> 1</span><span class=cl><span class=p>{</span> <span class=c1>// hostconfig.json
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1></span>  <span class=err>...</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>  <span class=nt>&#34;PortBindings&#34;</span><span class=p>:</span> <span class=p>{</span><span class=nt>&#34;80/tcp&#34;</span><span class=p>:[{</span><span class=nt>&#34;HostIp&#34;</span><span class=p>:</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=nt>&#34;HostPort&#34;</span><span class=p>:</span><span class=s2>&#34;20082&#34;</span><span class=p>}]},</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>  <span class=err>...</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=p>{</span> <span class=c1>// config.v2.json
</span></span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1></span>  <span class=nt>&#34;Config&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=err>...</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=nt>&#34;ExposedPorts&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>      <span class=nt>&#34;80/tcp&#34;</span><span class=p>:{}</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=err>...</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=p>}</span></span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>systemctl start docker
</span></span><span class=line><span class=ln>2</span><span class=cl>docker start xxxx
</span></span><span class=line><span class=ln>3</span><span class=cl>docker port xxxx
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1># 80/tcp -&gt; 0.0.0.0:20082</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=c1># 80/tcp -&gt; [::]:20082</span></span></span></code></pre></div><h2 id=ubuntu软件安装 data-numberify>ubuntu软件安装<a class="anchor ms-1" href=#ubuntu软件安装></a></h2><h3 id=tmux分屏 data-numberify>tmux分屏<a class="anchor ms-1" href=#tmux分屏></a></h3><p><a href=https://zhuanlan.zhihu.com/p/58668651 target=_blank rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/58668651<i class="fas fa-external-link-square-alt ms-1"></i></a><br>export TMUX_TMPDIR=~/.tmux/tmp</p><h3 id=应用修改图标 data-numberify>应用修改图标<a class="anchor ms-1" href=#应用修改图标></a></h3><blockquote><p>cd /usr/share/applications
vi xxx 中的 icon = xx.icon</p></blockquote><h3 id=chrome谷歌浏览器 data-numberify>chrome谷歌浏览器<a class="anchor ms-1" href=#chrome谷歌浏览器></a></h3><blockquote><p>wget &ndash;no-check-certificate <a href=https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb target=_blank rel="noopener noreferrer">https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><h3 id=vscode-1 data-numberify>vscode<a class="anchor ms-1" href=#vscode-1></a></h3><blockquote><p>wget &ndash;no-check-certificate <a href="https://code.visualstudio.com/sha/download?build=stable&amp;os=linux-deb-x64" target=_blank rel="noopener noreferrer">https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><h3 id=sougou data-numberify>sougou<a class="anchor ms-1" href=#sougou></a></h3><blockquote><p>下载页面：https://shurufa.sogou.com/linux
安装指导：https://shurufa.sogou.com/linux/guide</p><p>sudo apt -f install
系统设置->区域和语言->管理已安装的语言->在“语言”tab下->点击“添加或删除语言” -> fcitx
设置fcitx开机自启动
sudo cp /usr/share/applications/fcitx.desktop /etc/xdg/autostart/
卸载系统ibus输入法框架
sudo apt purge ibus</p></blockquote><ul><li>关闭繁简切换：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>vi ~/.config/sogoupinyin/conf/env.ini 
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=nv>ShortCutFanJian</span><span class=o>=</span><span class=m>1</span> <span class=c1># 修改为 0</span>
</span></span><span class=line><span class=ln>3</span><span class=cl>vi ~/.config/fcitx/conf/fcitx-chttrans.config
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1>#Hotkey=CTRL_SHIFT_F  # 修改为 Hotkey=CTRL_SHIFT_]</span></span></span></code></pre></div><ul><li>皮肤位置</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>/opt/sogoupinyin/files/share/resources/skin/</span></span></code></pre></div><h3 id=nas挂载 data-numberify>nas挂载<a class="anchor ms-1" href=#nas挂载></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl>sudo apt-get install cifs-utils
</span></span><span class=line><span class=ln>2</span><span class=cl>sudo mount -t cifs //192.168.1.1/share  /home/bob/mydir -o <span class=nv>username</span><span class=o>=</span>bob,password<span class=o>=</span>bob,iocharset<span class=o>=</span>utf8
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1># sudo mount -t cifs //192.168.1.1/share /home/bob/mydir -o username=bob,password=bob,iocharset=utf8,uid=1000,gid=1000,file_mode=0777,dir_mode=0777</span></span></span></code></pre></div><h3 id=截图工具 data-numberify>截图工具<a class="anchor ms-1" href=#截图工具></a></h3><ul><li>Snipaste : Snipaste-2.9.2-Beta-x86_64 电脑重启登录的时候，右下角设置图标选择 ubuntu on Xorg</li><li>PixPin 功能更丰富，暂不支持linux, 通过wine曲线救国</li></ul><h3 id=鼠标手势 data-numberify>鼠标手势<a class="anchor ms-1" href=#鼠标手势></a></h3><blockquote><p>easystroke：功能上和windows上的 WGestures，还是差不少
手势设置：https://tianws.github.io/skill/2019/10/31/short-cut-ubuntu/</p></blockquote><h3 id=pdf阅读器 data-numberify>pdf阅读器<a class="anchor ms-1" href=#pdf阅读器></a></h3><blockquote><p>Okular：主要为了配置 back forward 快捷键 alt+left，alt+right
Settings->Configure Okular->General->Program Features->Open new files in tabs</p></blockquote><h3 id=gedit自定义快捷键 data-numberify>gedit自定义快捷键<a class="anchor ms-1" href=#gedit自定义快捷键></a></h3><blockquote><p><a href=https://github.com/foolo/gedit_custom_keys/ target=_blank rel="noopener noreferrer">https://github.com/foolo/gedit_custom_keys/<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p>设置 gedit -> Preferences-> Plugins -> Custom Keyboard Shortcuts</p></blockquote><h3 id=日历 data-numberify>日历<a class="anchor ms-1" href=#日历></a></h3><blockquote><p>显示周数<br>gsettings set org.gnome.desktop.calendar show-weekdate true<br>显示农历<br><a href=https://extensions.gnome.org/extension/675/lunar-calendar/ target=_blank rel="noopener noreferrer">https://extensions.gnome.org/extension/675/lunar-calendar/<i class="fas fa-external-link-square-alt ms-1"></i></a><br>安装扩展，chrome扩展配置，apt 连接器</p></blockquote><h3 id=触摸板 data-numberify>触摸板<a class="anchor ms-1" href=#触摸板></a></h3><blockquote><p><a href=https://extensions.gnome.org/extension/4033/x11-gestures/ target=_blank rel="noopener noreferrer">https://extensions.gnome.org/extension/4033/x11-gestures/<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/JoseExposito/touchegg target=_blank rel="noopener noreferrer">https://github.com/JoseExposito/touchegg<i class="fas fa-external-link-square-alt ms-1"></i></a><br>支持自定义手势<br>sudo apt install touchegg flatpak<br>flatpak install flathub com.github.joseexposito.touche</p></blockquote><h3 id=wine data-numberify>Wine<a class="anchor ms-1" href=#wine></a></h3><blockquote><p>管理安装配置 wine
sudo apt install winetricks</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln> 1</span><span class=cl><span class=c1># 下载：https://wiki.winehq.org/Download_zhcn</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1># 安装 VeryCapture：https://verycapture.com/download.html</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=c1># 安装快捷键转发</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>sudo apt install xdotool
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=c1># 配置</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1>#!/bin/bash</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>1</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;PixPin&#34;</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    xdotool key --window <span class=k>$(</span> xdotool search --limit <span class=m>1</span> --all --pid <span class=k>$(</span> pgrep PixPin.exe <span class=k>)</span> --name PixPin <span class=k>)</span> <span class=s2>&#34;F1&#34;</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=si>${</span><span class=nv>1</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;VeryCapture&#34;</span> <span class=o>]</span><span class=p>;</span><span class=k>then</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    xdotool key --window <span class=k>$(</span> xdotool search --limit <span class=m>1</span> --all --pid <span class=k>$(</span> pgrep VeryCapture.exe <span class=k>)</span> --name VeryCapture <span class=k>)</span> <span class=s2>&#34;shift+F1&#34;</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1># settings-&gt; Keyboard -&gt; Keyboard Shortcuts -&gt; View and Customize Shortcuts -&gt; Custom Shortcuts</span></span></span></code></pre></div><blockquote><p>安装 pixpin，需要下面两个运行库
winetricks vcrun2015
winetricks vcrun2017</p></blockquote><h3 id=python data-numberify>python<a class="anchor ms-1" href=#python></a></h3><blockquote><p>pip安装</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln>1</span><span class=cl><span class=c1># python3</span>
</span></span><span class=line><span class=ln>2</span><span class=cl><span class=n>curl</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>bootstrap</span><span class=o>.</span><span class=n>pypa</span><span class=o>.</span><span class=n>io</span><span class=o>/</span><span class=n>get</span><span class=o>-</span><span class=n>pip</span><span class=o>.</span><span class=n>py</span> <span class=o>-</span><span class=n>o</span> <span class=n>get</span><span class=o>-</span><span class=n>pip</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=ln>3</span><span class=cl><span class=c1># python2</span>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>bootstrap</span><span class=o>.</span><span class=n>pypa</span><span class=o>.</span><span class=n>io</span><span class=o>/</span><span class=n>pip</span><span class=o>/</span><span class=mf>2.7</span><span class=o>/</span><span class=n>get</span><span class=o>-</span><span class=n>pip</span><span class=o>.</span><span class=n>py</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=n>python</span> <span class=n>get</span><span class=o>-</span><span class=n>pip</span><span class=o>.</span><span class=n>py</span></span></span></code></pre></div><blockquote><p>pip配置：</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln> 1</span><span class=cl>python3 -m pip install pyelftools
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=c1># http://mirrors.aliyun.com/pypi/simple/</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=c1># python3 -m pip install -i https://pypi.tuna.tsinghua.edu.cn/simple pyelftools</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=c1># 永久配置 ~/.pip/pip.conf</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=o>[</span>global<span class=o>]</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>index-url <span class=o>=</span> https://pypi.tuna.tsinghua.edu.cn/simple
</span></span><span class=line><span class=ln> 8</span><span class=cl>trusted-host <span class=o>=</span> pypi.tuna.tsinghua.edu.cn  <span class=c1># 可信主机，要不然可能报错</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>disable-pip-version-check <span class=o>=</span> <span class=nb>true</span>          <span class=c1># 取消pip版本检查，排除每次都报最新的pip</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=nv>timeout</span> <span class=o>=</span> <span class=m>120</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=c1># ignore-installed = true 				  # 忽略任何已经安装的系统包，强制安装指定的包，即使它可能与系统包冲突</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=c1># ➡️ pyenv 进行多版本的python管理</span></span></span></code></pre></div><blockquote><p>pip下载模块：</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=ln>1</span><span class=cl><span class=c1># 自动下载其他的依赖模块</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>python3 -m pip download pyelftools
</span></span><span class=line><span class=ln>3</span><span class=cl>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1># requirements.txt</span>
</span></span><span class=line><span class=ln>5</span><span class=cl><span class=c1># ./pyelftools-0.32-py3-none-any.whl</span>
</span></span><span class=line><span class=ln>6</span><span class=cl>
</span></span><span class=line><span class=ln>7</span><span class=cl>pip install -r requirements.txt
</span></span><span class=line><span class=ln>8</span><span class=cl><span class=c1># </span></span></span></code></pre></div><h3 id=pm2 data-numberify>pm2<a class="anchor ms-1" href=#pm2></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln> 1</span><span class=cl>npm install -g pm2
</span></span><span class=line><span class=ln> 2</span><span class=cl>    npm root -g 全局安装的 npm 包所在目录
</span></span><span class=line><span class=ln> 3</span><span class=cl>pm2 list
</span></span><span class=line><span class=ln> 4</span><span class=cl>pm2 monit
</span></span><span class=line><span class=ln> 5</span><span class=cl>pm2 show appx
</span></span><span class=line><span class=ln> 6</span><span class=cl>pm2 logs appx
</span></span><span class=line><span class=ln> 7</span><span class=cl>pm2 start
</span></span><span class=line><span class=ln> 8</span><span class=cl>pm2 stop/delete appx / all
</span></span><span class=line><span class=ln> 9</span><span class=cl>pm2 kill 杀死 PM2 守护进程
</span></span><span class=line><span class=ln>10</span><span class=cl>pm2 logs        cat ~/.pm2/logs/
</span></span><span class=line><span class=ln>11</span><span class=cl>pm2 logs appx
</span></span><span class=line><span class=ln>12</span><span class=cl>pm2 start app.js --name miGpt -- --env-file=.env
</span></span><span class=line><span class=ln>13</span><span class=cl>pm2 start app.py --name wechat --interpreter python3
</span></span><span class=line><span class=ln>14</span><span class=cl>pm2 save
</span></span><span class=line><span class=ln>15</span><span class=cl>pm2 startup</span></span></code></pre></div><h2 id=windows软件配置 data-numberify>windows软件配置<a class="anchor ms-1" href=#windows软件配置></a></h2><h3 id=chrome浏览器离线安装包 data-numberify>chrome浏览器离线安装包<a class="anchor ms-1" href=#chrome浏览器离线安装包></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln>1</span><span class=cl>https://www.google.com/intl/zh-CN/chrome/next-steps.html?platform=win64&amp;standalone=1&amp;statcb=0&amp;installdataindex=empty&amp;defaultbrowser=0
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl>https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BBD6E01DD-2315-DD04-9D6B-5A409199B5FF%7D%26lang%3Dzh-CN%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dprefers%26ap%3Dx64-stable-statsdef_1%26installdataindex%3Dempty/chrome/install/ChromeStandaloneSetup64.exe</span></span></code></pre></div><h3 id=mychromeexe data-numberify>MyChrome.exe<a class="anchor ms-1" href=#mychromeexe></a></h3><p><a href=https://github.com/cnjackchen/my-chrome target=_blank rel="noopener noreferrer">Portable version of Google Chrome<i class="fas fa-external-link-square-alt ms-1"></i></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=ln> 1</span><span class=cl><span class=k>[Settings]</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=na>AppVersion</span><span class=o>=</span><span class=s>3.8.1</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=na>Language</span><span class=o>=</span><span class=s>Auto</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=na>ChromePath</span><span class=o>=</span><span class=s>.\chrome.exe</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=na>UserDataDir</span><span class=o>=</span><span class=s>.\mydata</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=na>CacheDir</span><span class=o>=</span><span class=s>.\mycache</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=na>CacheSize</span><span class=o>=</span><span class=s>838860800</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=na>Channel</span><span class=o>=</span><span class=s>Stable</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl><span class=na>x86</span><span class=o>=</span><span class=s>0</span>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=na>ChromeSource</span><span class=o>=</span><span class=s>Google</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=na>LastCheckUpdate</span><span class=o>=</span><span class=s>2016/05/01 00:00:00</span>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=na>UpdateInterval</span><span class=o>=</span><span class=s>-1</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=na>ProxyType</span><span class=o>=</span><span class=s>SYSTEM</span>
</span></span><span class=line><span class=ln>14</span><span class=cl><span class=na>UpdateProxy</span><span class=o>=</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=na>UpdatePort</span><span class=o>=</span>
</span></span><span class=line><span class=ln>16</span><span class=cl><span class=na>DownloadThreads</span><span class=o>=</span><span class=s>3</span>
</span></span><span class=line><span class=ln>17</span><span class=cl><span class=na>Params</span><span class=o>=</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=na>RunInBackground</span><span class=o>=</span><span class=s>0</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=na>AppUpdate</span><span class=o>=</span><span class=s>0</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=na>AppUpdateLastCheck</span><span class=o>=</span><span class=s>2023/07/24 18:23:26</span>
</span></span><span class=line><span class=ln>21</span><span class=cl><span class=na>CheckDefaultBrowser</span><span class=o>=</span><span class=s>1</span>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=na>ExApp</span><span class=o>=</span>
</span></span><span class=line><span class=ln>23</span><span class=cl><span class=na>ExAppAutoExit</span><span class=o>=</span><span class=s>1</span>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=na>ExApp2</span><span class=o>=</span>
</span></span><span class=line><span class=ln>25</span><span class=cl><span class=na>Bosskey</span><span class=o>=</span><span class=s>!x</span>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=na>BosskeyM</span><span class=o>=</span>
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=na>Hide2Tray</span><span class=o>=</span><span class=s>0</span>
</span></span><span class=line><span class=ln>28</span><span class=cl><span class=na>MouseClick2CloseTab</span><span class=o>=</span><span class=s>7684</span>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=na>Mouse2SwitchTab</span><span class=o>=</span><span class=s>8964|8962</span>
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=na>KeepLastTab</span><span class=o>=</span><span class=s>0</span></span></span></code></pre></div><h3 id=beyond-compare魔法 data-numberify>Beyond Compare魔法<a class="anchor ms-1" href=#beyond-compare魔法></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl>reg delete <span class=s2>&#34;HKEY_CURRENT_USER\Software\Scooter Software\Beyond Compare 4&#34;</span>  /v CacheID /f</span></span></code></pre></div><h3 id=关闭自启动 data-numberify>关闭自启动<a class="anchor ms-1" href=#关闭自启动></a></h3><ol><li>关闭应用自动启动</li><li>关闭<em><strong>任务计划程序</strong></em>无用的启动配置</li></ol><h3 id=关闭windows-defender实时保护 data-numberify>关闭windows defender实时保护<a class="anchor ms-1" href=#关闭windows-defender实时保护></a></h3><ol><li>关闭实时保护(通过策略组修改关闭）</li></ol><blockquote><p>1.按win+R，输入gpedit.msc -> 2.选择计算机配置–>管理模板–>Windows组件–>Microsoft Defender防病毒–>实时保护 -> 3.双击关闭实时保护，选择已启用
1.进入“Window安全中心” ->2. 进入“病毒和威胁防护” ->3. 进入“管理设置” -> 4.点击关闭即可</p></blockquote><ol start=3><li>关闭自动提交样本</li><li>关闭篡改防护</li></ol><blockquote><p><a href=https://blog.csdn.net/azxc98765/article/details/120094030 target=_blank rel="noopener noreferrer">https://blog.csdn.net/azxc98765/article/details/120094030<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><h3 id=ssh-server data-numberify>ssh server<a class="anchor ms-1" href=#ssh-server></a></h3><blockquote><p>设置中可选功能可安装openssh server</p></blockquote><blockquote><p><a href=https://github.com/PowerShell/Win32-OpenSSH/releases target=_blank rel="noopener noreferrer">https://github.com/PowerShell/Win32-OpenSSH/releases<i class="fas fa-external-link-square-alt ms-1"></i></a>
下载安装OpenSSH-Win64-v9.5.0.0.msi</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>:</span><span class=c1>: 测试系统目录结构</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>ssh bob@10.1.1.100 <span class=s2>&#34;pwd&#34;</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>ssh bob@10.1.1.100 <span class=s2>&#34;dir&#34;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=p>:</span><span class=c1>: 进入执行bash</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=p>:</span><span class=c1>: ssh bob@10.1.1.100 &#34;/cygdrive/c/Program\ Files/Git/bin/bash.exe -i&#34;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>ssh -t bob@10.1.1.100 <span class=s2>&#34;C:/Progra~1/Git/bin/bash.exe&#34;</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>ssh -t bob@10.1.1.100 <span class=s2>&#34;\&#34;</span>C:/Program Files/Git/bin/bash.exe\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>ssh bob@10.1.1.100 <span class=s2>&#34;\&#34;</span>C:/Progra~1/Git/bin/bash.exe\<span class=s2>&#34;      -c \&#34;</span>cd /d/mytest <span class=p>&amp;&amp;</span> git st <span class=p>&amp;&amp;</span> git gr <span class=p>&amp;&amp;</span> git lg -1\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>ssh bob@10.1.1.100 <span class=s2>&#34;\&#34;</span>C:/Program Files/Git/bin/bash.exe\<span class=s2>&#34; -c \&#34;</span>cd /d/mytest <span class=p>&amp;&amp;</span> git st <span class=p>&amp;&amp;</span> git gr <span class=p>&amp;&amp;</span> git lg -1\<span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=p>:</span><span class=c1>: 文件复制</span>
</span></span><span class=line><span class=ln>13</span><span class=cl><span class=p>:</span><span class=c1>: scp test.txt bob@10.1.1.100:/cygdrive/d/mytest/</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>scp &#39;bob@10.1.1.100:D:/mytest/test.txt&#39; .
</span></span><span class=line><span class=ln>15</span><span class=cl>scp test.txt &#39;bob@10.1.1.100:D:/mytest/test.txt&#39;</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl>sshpass -p password ssh name@ip  # <span class=s2>&#34;set path=C:\Program Files\Git\bin;</span><span class=nv>%path%</span><span class=s2> &amp;&amp; bash.exe -i&#34;</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>
</span></span><span class=line><span class=ln>3</span><span class=cl>sc stop sshd
</span></span><span class=line><span class=ln>4</span><span class=cl>sc start sshd</span></span></code></pre></div><h3 id=win获取ip地址 data-numberify>win获取ip地址<a class="anchor ms-1" href=#win获取ip地址></a></h3><p><a href=https://www.zhouchunyu.com/342.html target=_blank rel="noopener noreferrer">Python获取本机 IP/MAC（多网卡） – 二进制<i class="fas fa-external-link-square-alt ms-1"></i></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=kn>import</span> <span class=nn>psutil</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=k>def</span> <span class=nf>GetLocalIP</span><span class=p>(</span><span class=n>t</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=n>ips</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=n>iptype</span> <span class=o>=</span> <span class=s2>&#34;AF_INET&#34;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=k>if</span> <span class=n>t</span> <span class=o>==</span> <span class=mi>6</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>        <span class=n>iptype</span> <span class=o>=</span> <span class=s2>&#34;AF_INET6&#34;</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=n>dic</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>net_if_addrs</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=k>for</span> <span class=n>adapter</span> <span class=ow>in</span> <span class=n>dic</span><span class=p>:</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=n>snicList</span> <span class=o>=</span> <span class=n>dic</span><span class=p>[</span><span class=n>adapter</span><span class=p>]</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=k>for</span> <span class=n>snic</span> <span class=ow>in</span> <span class=n>snicList</span><span class=p>:</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>            <span class=k>if</span> <span class=n>iptype</span> <span class=ow>in</span> <span class=n>snic</span><span class=o>.</span><span class=n>family</span><span class=o>.</span><span class=n>name</span><span class=p>:</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>                <span class=k>if</span> <span class=n>t</span> <span class=o>==</span> <span class=mi>4</span> <span class=ow>and</span>  <span class=s2>&#34;:&#34;</span> <span class=ow>in</span> <span class=n>snic</span><span class=o>.</span><span class=n>address</span><span class=p>:</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>                    <span class=k>continue</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>                <span class=n>ips</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>snic</span><span class=o>.</span><span class=n>address</span><span class=p>)</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=k>return</span> <span class=n>ips</span> </span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=k>def</span> <span class=nf>GetLocalIP</span><span class=p>(</span><span class=n>t</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl>    <span class=n>ips</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl>    <span class=n>addrs</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>getaddrinfo</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>gethostname</span><span class=p>(),</span><span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl>    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>addrs</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>        <span class=k>if</span> <span class=n>t</span> <span class=o>==</span> <span class=mi>4</span> <span class=ow>and</span> <span class=s1>&#39;:&#39;</span> <span class=ow>in</span> <span class=n>item</span><span class=p>[</span><span class=mi>4</span><span class=p>][</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>        <span class=k>if</span> <span class=n>t</span> <span class=o>==</span> <span class=mi>6</span> <span class=ow>and</span> <span class=s1>&#39;:&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>item</span><span class=p>[</span><span class=mi>4</span><span class=p>][</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>        <span class=n>ips</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>[</span><span class=mi>4</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=k>return</span> <span class=n>ips</span>  </span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=kn>import</span> <span class=nn>json</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl><span class=kn>import</span> <span class=nn>requests</span>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=kn>import</span> <span class=nn>socket</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=kn>import</span> <span class=nn>schedule</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=kn>import</span> <span class=nn>datetime</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=kn>import</span> <span class=nn>jenkins</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=kn>import</span> <span class=nn>psutil</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=n>KEYSMILE</span><span class=o>=</span><span class=s1>&#39;.&#39;</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=k>def</span> <span class=nf>get_nodes_summary</span><span class=p>(</span><span class=n>username</span><span class=p>,</span> <span class=n>password</span><span class=p>):</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=c1># https://blog.csdn.net/Sudley/article/details/103848127</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=c1>#获取nodes节点的name、label、ip、status（连接状态）</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>        <span class=n>server</span> <span class=o>=</span> <span class=n>jenkins</span><span class=o>.</span><span class=n>Jenkins</span><span class=p>(</span><span class=s1>&#39;http://</span><span class=si>%s</span><span class=s1>:</span><span class=si>%s</span><span class=s1>@xxxx:8080&#39;</span><span class=p>,</span> <span class=n>username</span><span class=p>,</span> <span class=n>password</span><span class=p>)</span>
</span></span><span class=line><span class=ln>18</span><span class=cl>
</span></span><span class=line><span class=ln>19</span><span class=cl>        <span class=n>nodes</span> <span class=o>=</span> <span class=n>server</span><span class=o>.</span><span class=n>get_nodes</span><span class=p>()</span>
</span></span><span class=line><span class=ln>20</span><span class=cl>
</span></span><span class=line><span class=ln>21</span><span class=cl>        <span class=n>win_slave</span> <span class=o>=</span> <span class=p>[</span><span class=n>x</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=n>nodes</span> <span class=k>if</span> <span class=n>x</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;win_Slave&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>22</span><span class=cl>        <span class=c1># node_name = win_slave[0][&#39;name&#39;]</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>        <span class=n>isonline</span> <span class=o>=</span> <span class=ow>not</span> <span class=n>win_slave</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=s1>&#39;offline&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=ln>24</span><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>        <span class=n>isonline</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=ln>26</span><span class=cl>
</span></span><span class=line><span class=ln>27</span><span class=cl>    <span class=k>return</span> <span class=n>isonline</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=k>def</span> <span class=nf>GetLocalIPNew</span><span class=p>(</span><span class=n>t</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=ln>30</span><span class=cl>    <span class=n>unwanted_interface</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Eth_eth0&#39;</span><span class=p>,</span> <span class=s1>&#39;Loopback Pseudo-Interface 1&#39;</span><span class=p>]</span>  <span class=c1># 不想要的网卡名</span>
</span></span><span class=line><span class=ln>31</span><span class=cl>    <span class=n>ips</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln>32</span><span class=cl>    <span class=n>interfaces</span> <span class=o>=</span> <span class=n>psutil</span><span class=o>.</span><span class=n>net_if_addrs</span><span class=p>()</span>
</span></span><span class=line><span class=ln>33</span><span class=cl>    <span class=k>for</span> <span class=n>name</span><span class=p>,</span> <span class=n>net_addresses</span> <span class=ow>in</span> <span class=n>interfaces</span><span class=o>.</span><span class=n>items</span><span class=p>():</span>
</span></span><span class=line><span class=ln>34</span><span class=cl>        <span class=k>for</span> <span class=n>net_address</span> <span class=ow>in</span> <span class=n>net_addresses</span><span class=p>:</span>
</span></span><span class=line><span class=ln>35</span><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>net_address</span><span class=o>.</span><span class=n>family</span> <span class=o>==</span> <span class=n>socket</span><span class=o>.</span><span class=n>AF_INET</span> <span class=ow>or</span> <span class=n>net_address</span><span class=o>.</span><span class=n>family</span> <span class=o>==</span> <span class=n>socket</span><span class=o>.</span><span class=n>AF_INET6</span><span class=p>)</span> <span class=ow>and</span> <span class=n>name</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>unwanted_interface</span><span class=p>:</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>                <span class=n>ips</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>net_address</span><span class=o>.</span><span class=n>address</span><span class=p>)</span>
</span></span><span class=line><span class=ln>37</span><span class=cl>    <span class=k>return</span> <span class=n>ips</span>
</span></span><span class=line><span class=ln>38</span><span class=cl>
</span></span><span class=line><span class=ln>39</span><span class=cl><span class=k>def</span> <span class=nf>GetLocalIP</span><span class=p>(</span><span class=n>t</span><span class=o>=</span><span class=kc>None</span><span class=p>):</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>    <span class=n>ips</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln>41</span><span class=cl>    <span class=n>addrs</span> <span class=o>=</span> <span class=n>socket</span><span class=o>.</span><span class=n>getaddrinfo</span><span class=p>(</span><span class=n>socket</span><span class=o>.</span><span class=n>gethostname</span><span class=p>(),</span><span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=ln>42</span><span class=cl>    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>addrs</span><span class=p>:</span>
</span></span><span class=line><span class=ln>43</span><span class=cl>        <span class=k>if</span> <span class=n>t</span> <span class=o>==</span> <span class=mi>4</span> <span class=ow>and</span> <span class=s1>&#39;:&#39;</span> <span class=ow>in</span> <span class=n>item</span><span class=p>[</span><span class=mi>4</span><span class=p>][</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=ln>44</span><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=ln>45</span><span class=cl>        <span class=k>if</span> <span class=n>t</span> <span class=o>==</span> <span class=mi>6</span> <span class=ow>and</span> <span class=s1>&#39;:&#39;</span> <span class=ow>not</span> <span class=ow>in</span> <span class=n>item</span><span class=p>[</span><span class=mi>4</span><span class=p>][</span><span class=mi>0</span><span class=p>]:</span>
</span></span><span class=line><span class=ln>46</span><span class=cl>            <span class=k>continue</span>
</span></span><span class=line><span class=ln>47</span><span class=cl>        <span class=n>ips</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>item</span><span class=p>[</span><span class=mi>4</span><span class=p>][</span><span class=mi>0</span><span class=p>])</span>
</span></span><span class=line><span class=ln>48</span><span class=cl>    <span class=k>return</span> <span class=n>ips</span>
</span></span><span class=line><span class=ln>49</span><span class=cl>
</span></span><span class=line><span class=ln>50</span><span class=cl><span class=k>def</span> <span class=nf>SendMessage</span><span class=p>(</span><span class=n>keyword</span><span class=p>,</span> <span class=n>msg</span><span class=p>):</span>
</span></span><span class=line><span class=ln>51</span><span class=cl>    <span class=n>url</span> <span class=o>=</span> <span class=s1>&#39;bark.com&#39;</span>
</span></span><span class=line><span class=ln>52</span><span class=cl>    <span class=n>HEADERS</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>53</span><span class=cl>        <span class=s2>&#34;Content-Type&#34;</span><span class=p>:</span> <span class=s2>&#34;application/json; charset=utf-8&#34;</span>
</span></span><span class=line><span class=ln>54</span><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=ln>55</span><span class=cl>
</span></span><span class=line><span class=ln>56</span><span class=cl>    <span class=n>isonline</span> <span class=o>=</span> <span class=n>get_nodes_summary</span><span class=p>(</span><span class=s1>&#39;user&#39;</span><span class=p>,</span> <span class=s1>&#39;test123&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>57</span><span class=cl>    <span class=k>if</span> <span class=n>isonline</span> <span class=ow>is</span> <span class=kc>False</span><span class=p>:</span>
</span></span><span class=line><span class=ln>58</span><span class=cl>        <span class=n>msg</span> <span class=o>+=</span> <span class=s2>&#34; , offine ~~~&#34;</span>
</span></span><span class=line><span class=ln>59</span><span class=cl>
</span></span><span class=line><span class=ln>60</span><span class=cl>    <span class=n>sendMsg</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>61</span><span class=cl>        <span class=s2>&#34;msgtype&#34;</span><span class=p>:</span> <span class=s2>&#34;text&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=ln>62</span><span class=cl>        <span class=s2>&#34;text&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=ln>63</span><span class=cl>            <span class=s2>&#34;content&#34;</span><span class=p>:</span> <span class=n>keyword</span> <span class=o>+</span> <span class=s1>&#39; &#39;</span> <span class=o>+</span> <span class=n>msg</span>
</span></span><span class=line><span class=ln>64</span><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=ln>65</span><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=ln>66</span><span class=cl>
</span></span><span class=line><span class=ln>67</span><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=ln>68</span><span class=cl>        <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span><span class=n>url</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=n>json</span><span class=o>.</span><span class=n>dumps</span><span class=p>(</span><span class=n>sendMsg</span><span class=p>),</span> <span class=n>headers</span><span class=o>=</span><span class=n>HEADERS</span><span class=p>)</span>
</span></span><span class=line><span class=ln>69</span><span class=cl>        <span class=n>ret</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=ln>70</span><span class=cl>    <span class=k>except</span> <span class=ne>Exception</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=ln>71</span><span class=cl>        <span class=n>ret</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=ln>72</span><span class=cl>
</span></span><span class=line><span class=ln>73</span><span class=cl>    <span class=k>return</span> <span class=n>ret</span>
</span></span><span class=line><span class=ln>74</span><span class=cl>
</span></span><span class=line><span class=ln>75</span><span class=cl><span class=k>def</span> <span class=nf>job</span><span class=p>():</span>
</span></span><span class=line><span class=ln>76</span><span class=cl>    <span class=n>SendMessage</span><span class=p>(</span><span class=n>KEYSMILE</span><span class=p>,</span> <span class=s2>&#34;Good Morning&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>77</span><span class=cl>
</span></span><span class=line><span class=ln>78</span><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=ln>79</span><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(),</span> <span class=s2>&#34;start run now ...&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>80</span><span class=cl>    <span class=n>schedule</span><span class=o>.</span><span class=n>every</span><span class=p>()</span><span class=o>.</span><span class=n>day</span><span class=o>.</span><span class=n>at</span><span class=p>(</span><span class=s2>&#34;00:00&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>do</span><span class=p>(</span><span class=n>job</span><span class=p>)</span>
</span></span><span class=line><span class=ln>81</span><span class=cl>
</span></span><span class=line><span class=ln>82</span><span class=cl>    <span class=n>ips</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln>83</span><span class=cl>    <span class=n>ipchanged</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=ln>84</span><span class=cl>
</span></span><span class=line><span class=ln>85</span><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=ln>86</span><span class=cl>        <span class=n>schedule</span><span class=o>.</span><span class=n>run_pending</span><span class=p>()</span>
</span></span><span class=line><span class=ln>87</span><span class=cl>        <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span>
</span></span><span class=line><span class=ln>88</span><span class=cl>
</span></span><span class=line><span class=ln>89</span><span class=cl>        <span class=k>if</span> <span class=n>ips</span> <span class=o>!=</span> <span class=n>GetLocalIPNew</span><span class=p>():</span>
</span></span><span class=line><span class=ln>90</span><span class=cl>            <span class=n>ipchanged</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=ln>91</span><span class=cl>            <span class=n>ips</span> <span class=o>=</span> <span class=n>GetLocalIPNew</span><span class=p>()</span>
</span></span><span class=line><span class=ln>92</span><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=o>.</span><span class=n>now</span><span class=p>(),</span> <span class=s2>&#34;warning ip changed: &#34;</span><span class=p>,</span> <span class=n>ips</span><span class=p>)</span>
</span></span><span class=line><span class=ln>93</span><span class=cl>        <span class=k>if</span>  <span class=n>ipchanged</span> <span class=o>==</span> <span class=kc>True</span> <span class=ow>and</span> \
</span></span><span class=line><span class=ln>94</span><span class=cl>            <span class=n>SendMessage</span><span class=p>(</span><span class=n>KEYSMILE</span><span class=p>,</span> <span class=s1>&#39;, &#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>ips</span><span class=p>))</span> <span class=o>==</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=ln>95</span><span class=cl>            <span class=n>ipchanged</span> <span class=o>=</span> <span class=kc>False</span></span></span></code></pre></div><h3 id=jlink下载 data-numberify>jlink下载<a class="anchor ms-1" href=#jlink下载></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln> 1</span><span class=cl><span class=p>@</span><span class=k>echo</span> off
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=p>:</span><span class=c1>: Calculate the number of parameters</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=k>set</span> <span class=nv>argC</span><span class=p>=</span>0
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=k>for</span> <span class=se>%%</span>x <span class=k>in</span> <span class=p>(</span><span class=nv>%*</span><span class=p>)</span> <span class=k>do</span> <span class=k>Set</span> <span class=k>/A</span> <span class=nv>argC</span><span class=o>+=</span><span class=mi>1</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=k>if</span> <span class=nv>%argC%</span> <span class=ow>geq</span> 3 <span class=p>(</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl>    <span class=k>echo</span> error, too many parameters
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=k>echo</span> one param: <span class=nv>%0</span> test1
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=k>echo</span> two param: <span class=nv>%0</span> [jlink.exe]_path test1
</span></span><span class=line><span class=ln>11</span><span class=cl>    <span class=k>exit</span> /b 1
</span></span><span class=line><span class=ln>12</span><span class=cl><span class=p>)</span> <span class=k>else</span> <span class=k>if</span> <span class=nv>%argC%</span> <span class=o>==</span> 2 <span class=p>(</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=k>set</span> <span class=nv>jlinkpath</span><span class=p>=</span><span class=nv>%1</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=k>set</span> <span class=nv>project</span><span class=p>=</span><span class=nv>%2</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=p>)</span> <span class=k>else</span> <span class=p>(</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>    <span class=k>set</span> <span class=nv>jlinkpath</span><span class=p>=</span><span class=s2>&#34;C:\Program Files\SEGGER\JLink\JLink.exe&#34;</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>    <span class=k>set</span> <span class=nv>project</span><span class=p>=</span><span class=nv>%1</span>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>19</span><span class=cl>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=k>if</span> [<span class=nv>%project%</span>] <span class=o>==</span> [] <span class=p>(</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>    <span class=k>set</span> <span class=nv>project</span><span class=p>=</span>test1
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=ln>23</span><span class=cl>
</span></span><span class=line><span class=ln>24</span><span class=cl><span class=k>for</span> /R <span class=s2>&#34;.\build\</span><span class=nv>%project%</span><span class=s2>\obj\bin\&#34;</span> <span class=se>%%</span>F <span class=k>in</span> <span class=p>(</span>*.hex<span class=p>)</span> <span class=k>do</span> <span class=k>set</span> <span class=s2>&#34;hexfile=.\build\</span><span class=nv>%project%</span><span class=s2>\obj\bin\</span><span class=se>%%</span><span class=s2>~nxF&#34;</span>
</span></span><span class=line><span class=ln>25</span><span class=cl>
</span></span><span class=line><span class=ln>26</span><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=nv>%jlinkpath%</span> <span class=p>(</span> <span class=k>echo</span> jlinkpath error : <span class=nv>%jlinkpath%</span> <span class=p>&amp;</span> <span class=k>exit</span> /b 2 <span class=p>)</span>
</span></span><span class=line><span class=ln>27</span><span class=cl><span class=k>if</span> <span class=k>not</span> <span class=k>exist</span> <span class=nv>%hexfile%</span> <span class=p>(</span> <span class=k>echo</span> project error : <span class=nv>%project%</span> <span class=p>&amp;</span> <span class=k>exit</span> /b 2 <span class=p>)</span>
</span></span><span class=line><span class=ln>28</span><span class=cl>
</span></span><span class=line><span class=ln>29</span><span class=cl><span class=k>set</span> <span class=nv>commandfile</span><span class=p>=</span>jinkConfig.txt
</span></span><span class=line><span class=ln>30</span><span class=cl><span class=p>@</span><span class=k>echo</span> speed 4000 <span class=p>&gt;</span> <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>31</span><span class=cl><span class=p>@</span><span class=k>echo</span> r <span class=p>&gt;&gt;</span> <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>32</span><span class=cl><span class=p>@</span><span class=k>echo</span> h <span class=p>&gt;&gt;</span> <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>33</span><span class=cl><span class=p>@</span><span class=k>echo</span> erase <span class=p>&gt;&gt;</span> <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>34</span><span class=cl><span class=p>@</span><span class=k>echo</span> loadfile <span class=nv>%hexfile%</span> <span class=p>&gt;&gt;</span> <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>35</span><span class=cl><span class=p>@</span><span class=k>echo</span> q <span class=p>&gt;&gt;</span> <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>36</span><span class=cl>
</span></span><span class=line><span class=ln>37</span><span class=cl><span class=nv>%jlinkpath%</span> -device STM32H743II -si swd -autoconnect 1 -nogui 1 -exitonerror 1 -commandfile <span class=nv>%commandfile%</span>
</span></span><span class=line><span class=ln>38</span><span class=cl><span class=k>set</span> <span class=nv>err</span><span class=p>=</span><span class=nv>%errorlevel%</span>
</span></span><span class=line><span class=ln>39</span><span class=cl><span class=k>if</span> <span class=k>exist</span> <span class=nv>%commandfile%</span> <span class=p>(</span> <span class=k>del</span> <span class=nv>%commandfile%</span> <span class=p>)</span>
</span></span><span class=line><span class=ln>40</span><span class=cl>
</span></span><span class=line><span class=ln>41</span><span class=cl><span class=k>if</span> <span class=nv>%err%</span> <span class=ow>neq</span> 0 <span class=p>(</span> <span class=k>echo</span> download error : <span class=nv>%project%</span> <span class=p>&amp;</span> <span class=k>exit</span> /b <span class=nv>%err%</span> <span class=p>)</span>
</span></span><span class=line><span class=ln>42</span><span class=cl><span class=k>exit</span> /b 0</span></span></code></pre></div><h3 id=process-explorer data-numberify>process-explorer<a class="anchor ms-1" href=#process-explorer></a></h3><p><a href=https://learn.microsoft.com/en-us/sysinternals/downloads/process-explorer#download target=_blank rel="noopener noreferrer">Process Explorer - Sysinternals<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=pslist data-numberify>pslist<a class="anchor ms-1" href=#pslist></a></h3><p><a href=https://learn.microsoft.com/en-us/sysinternals/downloads/pslist target=_blank rel="noopener noreferrer">PsList - Sysinternals<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=handle关联的句柄 data-numberify>Handle关联的句柄<a class="anchor ms-1" href=#handle关联的句柄></a></h3><p><a href=https://learn.microsoft.com/en-us/sysinternals/downloads/handle target=_blank rel="noopener noreferrer">Handle - Sysinternals<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=proxy data-numberify>proxy<a class="anchor ms-1" href=#proxy></a></h3><p>clash verge<br>基于 Sing-box 通用代理工具: <a href=https://github.com/hiddify/hiddify-app target=_blank rel="noopener noreferrer">hiddify<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=sumatrapdf data-numberify>SumatraPDF<a class="anchor ms-1" href=#sumatrapdf></a></h3><p>小巧免费PDF查看器：<a href=https://www.sumatrapdfreader.org/free-pdf-reader target=_blank rel="noopener noreferrer">SumatraPDF<i class="fas fa-external-link-square-alt ms-1"></i></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=ln> 1</span><span class=cl># 执行路径：SumatraPDF-settings.txt
</span></span><span class=line><span class=ln> 2</span><span class=cl># https://www.sumatrapdfreader.org/docs/Commands
</span></span><span class=line><span class=ln> 3</span><span class=cl>Shortcuts [
</span></span><span class=line><span class=ln> 4</span><span class=cl>	[
</span></span><span class=line><span class=ln> 5</span><span class=cl>		Cmd = CmdNextTab
</span></span><span class=line><span class=ln> 6</span><span class=cl>		Key = Alt + e
</span></span><span class=line><span class=ln> 7</span><span class=cl>	]
</span></span><span class=line><span class=ln> 8</span><span class=cl>	[
</span></span><span class=line><span class=ln> 9</span><span class=cl>		Cmd = CmdPrevTab
</span></span><span class=line><span class=ln>10</span><span class=cl>		Key = Alt + w
</span></span><span class=line><span class=ln>11</span><span class=cl>	]
</span></span><span class=line><span class=ln>12</span><span class=cl>]</span></span></code></pre></div><h3 id=桌面置顶 data-numberify>桌面置顶<a class="anchor ms-1" href=#桌面置顶></a></h3><p><a href=https://github.com/Bluegrams/PinWin target=_blank rel="noopener noreferrer">PinWin<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=msys2 data-numberify>MSYS2<a class="anchor ms-1" href=#msys2></a></h3><p>下载安装：</p><ul><li><a href=https://www.msys2.org/ target=_blank rel="noopener noreferrer">https://www.msys2.org/<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://github.com/msys2/msys2-installer/releases target=_blank rel="noopener noreferrer">https://github.com/msys2/msys2-installer/releases<i class="fas fa-external-link-square-alt ms-1"></i></a><ul><li>可以使用https://gh-proxy.com/加速</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=ln>1</span><span class=cl><span class=c1># 第一次使用</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>pacman -Syu
</span></span><span class=line><span class=ln>3</span><span class=cl>
</span></span><span class=line><span class=ln>4</span><span class=cl><span class=c1># MinGW 64-bit 安装 make，cmake</span>
</span></span><span class=line><span class=ln>5</span><span class=cl>pacman -S mingw-w64-x86_64-make mingw-w64-x86_64-cmake</span></span></code></pre></div><h2 id=小工具 data-numberify>小工具<a class="anchor ms-1" href=#小工具></a></h2><p>画笔工具 glnk<br><a href=https://microsoft.github.io/XmlNotepad/ target=_blank rel="noopener noreferrer">xml查看工具<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=工具站点 data-numberify>工具站点<a class="anchor ms-1" href=#工具站点></a></h3><ul><li><a href=https://notion-avatar.app/zh target=_blank rel="noopener noreferrer">Notion Avatar 头像生成工具<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://txstc55.github.io/ugly-avatar/ target=_blank rel="noopener noreferrer">丑陋头像<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://privatebin.net/ target=_blank rel="noopener noreferrer">在线粘贴板<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://www.jsdelivr.com/github target=_blank rel="noopener noreferrer">github cdn<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://gh-proxy.com/ target=_blank rel="noopener noreferrer">github加速<i class="fas fa-external-link-square-alt ms-1"></i></a></li></ul><h3 id=删除pdf密码 data-numberify>删除Pdf密码<a class="anchor ms-1" href=#删除pdf密码></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=kn>import</span> <span class=nn>fitz</span>  <span class=c1># pip install PyMuPDF</span>
</span></span><span class=line><span class=ln> 2</span><span class=cl>
</span></span><span class=line><span class=ln> 3</span><span class=cl><span class=n>input_pdf_path</span> <span class=o>=</span> <span class=s1>&#39;xxx.pdf&#39;</span>
</span></span><span class=line><span class=ln> 4</span><span class=cl><span class=n>output_pdf_path</span> <span class=o>=</span> <span class=s1>&#39;xxx_1.pdf&#39;</span>
</span></span><span class=line><span class=ln> 5</span><span class=cl><span class=n>pdf_password</span> <span class=o>=</span> <span class=s1>&#39;test123&#39;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1># 打开受密码保护的PDF文件</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=n>pdf_document</span> <span class=o>=</span> <span class=n>fitz</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>input_pdf_path</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>
</span></span><span class=line><span class=ln>10</span><span class=cl><span class=c1># 检查PDF是否加密</span>
</span></span><span class=line><span class=ln>11</span><span class=cl><span class=k>if</span> <span class=n>pdf_document</span><span class=o>.</span><span class=n>is_encrypted</span><span class=p>:</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>    <span class=c1># 尝试使用密码解密</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>    <span class=k>if</span> <span class=ow>not</span> <span class=n>pdf_document</span><span class=o>.</span><span class=n>authenticate</span><span class=p>(</span><span class=n>pdf_password</span><span class=p>):</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Invalid password. Cannot remove password from PDF.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>15</span><span class=cl>        <span class=n>pdf_document</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=ln>16</span><span class=cl>        <span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=ln>17</span><span class=cl>
</span></span><span class=line><span class=ln>18</span><span class=cl><span class=c1># 保存一个新的无密码PDF文件</span>
</span></span><span class=line><span class=ln>19</span><span class=cl><span class=n>pdf_document</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>output_pdf_path</span><span class=p>,</span> <span class=n>encryption</span><span class=o>=</span><span class=n>fitz</span><span class=o>.</span><span class=n>PDF_ENCRYPT_NONE</span><span class=p>)</span>
</span></span><span class=line><span class=ln>20</span><span class=cl><span class=n>pdf_document</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=ln>21</span><span class=cl>
</span></span><span class=line><span class=ln>22</span><span class=cl><span class=nb>print</span><span class=p>(</span><span class=s1>&#39;PDF password has been removed.&#39;</span><span class=p>)</span></span></span></code></pre></div><h3 id=pdf加书签 data-numberify>PDF加书签<a class="anchor ms-1" href=#pdf加书签></a></h3><blockquote><p><a href=https://github.com/ifnoelse/pdf-bookmark.git target=_blank rel="noopener noreferrer">https://github.com/ifnoelse/pdf-bookmark.git<i class="fas fa-external-link-square-alt ms-1"></i></a></p></blockquote><p>由于网上download的ISO14229文档没有书签，故找了个小工具可以添加书签，留此记录。<br><a href=https://github.com/chroming/pdfdir target=_blank rel="noopener noreferrer">GitHub - chroming/pdfdir: PDF导航（大纲/目录）添加工具<i class="fas fa-external-link-square-alt ms-1"></i></a><br>目录需要正则表达式匹配：<br>二层 ^\d\d?.\d\d?\s 三层 ^\d\d?.\d\d?.\d\d?<br><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/190075435e348a512d45278ed2265d96.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=322 height=482></picture></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln> 1</span><span class=cl><span class=n>xyz</span><span class=o>=</span><span class=s1>&#39;&#39;&#39;
</span></span></span><span class=line><span class=ln> 2</span><span class=cl><span class=s1>Annex I (normative) Security access state chart  450
</span></span></span><span class=line><span class=ln> 3</span><span class=cl><span class=s1>Annex J (informative) Recommended implementation for multiple client environments  458
</span></span></span><span class=line><span class=ln> 4</span><span class=cl><span class=s1>Bibliography  464
</span></span></span><span class=line><span class=ln> 5</span><span class=cl><span class=s1>&#39;&#39;&#39;</span>
</span></span><span class=line><span class=ln> 6</span><span class=cl><span class=n>lines</span> <span class=o>=</span> <span class=n>xyz</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 7</span><span class=cl><span class=c1>#print(lines)</span>
</span></span><span class=line><span class=ln> 8</span><span class=cl><span class=k>for</span> <span class=n>line</span> <span class=ow>in</span> <span class=n>lines</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 9</span><span class=cl>    <span class=n>matchObj</span> <span class=o>=</span> <span class=n>re</span><span class=o>.</span><span class=n>search</span><span class=p>(</span> <span class=sa>r</span><span class=s1>&#39;\w+$&#39;</span><span class=p>,</span> <span class=n>line</span><span class=p>,</span> <span class=n>re</span><span class=o>.</span><span class=n>M</span><span class=o>|</span><span class=n>re</span><span class=o>.</span><span class=n>I</span><span class=p>)</span>
</span></span><span class=line><span class=ln>10</span><span class=cl>    <span class=k>if</span> <span class=n>matchObj</span><span class=p>:</span>
</span></span><span class=line><span class=ln>11</span><span class=cl>        <span class=n>x</span><span class=o>=</span><span class=nb>int</span><span class=p>(</span><span class=n>matchObj</span><span class=o>.</span><span class=n>group</span><span class=p>())</span><span class=o>+</span><span class=mi>12</span>
</span></span><span class=line><span class=ln>12</span><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>re</span><span class=o>.</span><span class=n>sub</span><span class=p>(</span><span class=sa>r</span><span class=s1>&#39;\w+$&#39;</span><span class=p>,</span> <span class=nb>str</span><span class=p>(</span><span class=n>x</span><span class=p>),</span> <span class=n>line</span><span class=p>))</span>
</span></span><span class=line><span class=ln>13</span><span class=cl>        <span class=c1># else:</span>
</span></span><span class=line><span class=ln>14</span><span class=cl>    <span class=c1>#    print(  &#34;No match!!&#34;)</span>
</span></span><span class=line><span class=ln>15</span><span class=cl><span class=c1>#re.search( r&#39;\w+$&#39;, line, re.M|re.I)</span></span></span></code></pre></div><h3 id=python加解密 data-numberify>python加解密<a class="anchor ms-1" href=#python加解密></a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=ln>  1</span><span class=cl>
</span></span><span class=line><span class=ln>  2</span><span class=cl><span class=c1># pip3 install pycryptodome pillow</span>
</span></span><span class=line><span class=ln>  3</span><span class=cl>
</span></span><span class=line><span class=ln>  4</span><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span><span class=p>,</span> <span class=n>PKCS1_OAEP</span>
</span></span><span class=line><span class=ln>  5</span><span class=cl><span class=kn>from</span> <span class=nn>Crypto.PublicKey</span> <span class=kn>import</span> <span class=n>RSA</span>
</span></span><span class=line><span class=ln>  6</span><span class=cl><span class=kn>import</span> <span class=nn>zipfile</span>
</span></span><span class=line><span class=ln>  7</span><span class=cl><span class=kn>from</span> <span class=nn>PIL</span> <span class=kn>import</span> <span class=n>Image</span>
</span></span><span class=line><span class=ln>  8</span><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Cipher</span> <span class=kn>import</span> <span class=n>AES</span>
</span></span><span class=line><span class=ln>  9</span><span class=cl><span class=kn>from</span> <span class=nn>Crypto.Random</span> <span class=kn>import</span> <span class=n>get_random_bytes</span>
</span></span><span class=line><span class=ln> 10</span><span class=cl><span class=kn>import</span> <span class=nn>os</span>
</span></span><span class=line><span class=ln> 11</span><span class=cl><span class=kn>import</span> <span class=nn>io</span>
</span></span><span class=line><span class=ln> 12</span><span class=cl><span class=kn>import</span> <span class=nn>tarfile</span>
</span></span><span class=line><span class=ln> 13</span><span class=cl>
</span></span><span class=line><span class=ln> 14</span><span class=cl><span class=k>def</span> <span class=nf>unpad</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 15</span><span class=cl>    <span class=n>pad_len</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=ln> 16</span><span class=cl>    <span class=k>return</span> <span class=n>data</span><span class=p>[:</span><span class=o>-</span><span class=n>pad_len</span><span class=p>]</span>
</span></span><span class=line><span class=ln> 17</span><span class=cl>
</span></span><span class=line><span class=ln> 18</span><span class=cl><span class=k>def</span> <span class=nf>decrypt_file</span><span class=p>(</span><span class=n>input_file</span><span class=p>,</span> <span class=n>output_folder</span><span class=p>,</span> <span class=n>private_key_file</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 19</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>private_key_file</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 20</span><span class=cl>        <span class=n>rsa_key</span> <span class=o>=</span> <span class=n>RSA</span><span class=o>.</span><span class=n>import_key</span><span class=p>(</span><span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
</span></span><span class=line><span class=ln> 21</span><span class=cl>    <span class=n>rsa_cipher</span> <span class=o>=</span> <span class=n>PKCS1_OAEP</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=n>rsa_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 22</span><span class=cl>
</span></span><span class=line><span class=ln> 23</span><span class=cl>    <span class=n>rsa_key_len_bytes</span> <span class=o>=</span> <span class=n>rsa_key</span><span class=o>.</span><span class=n>size_in_bits</span><span class=p>()</span> <span class=o>//</span> <span class=mi>8</span> <span class=c1># e.g. 4096 bits → 512 bytes</span>
</span></span><span class=line><span class=ln> 24</span><span class=cl>
</span></span><span class=line><span class=ln> 25</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>input_file</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 26</span><span class=cl>        <span class=n>encrypted_key</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=n>rsa_key_len_bytes</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 27</span><span class=cl>        <span class=n>iv</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 28</span><span class=cl>        <span class=n>encrypted_data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 29</span><span class=cl>
</span></span><span class=line><span class=ln> 30</span><span class=cl>    <span class=n>aes_key</span> <span class=o>=</span> <span class=n>rsa_cipher</span><span class=o>.</span><span class=n>decrypt</span><span class=p>(</span><span class=n>encrypted_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 31</span><span class=cl>    <span class=n>aes_cipher</span> <span class=o>=</span> <span class=n>AES</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=n>aes_key</span><span class=p>,</span> <span class=n>AES</span><span class=o>.</span><span class=n>MODE_CBC</span><span class=p>,</span> <span class=n>iv</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 32</span><span class=cl>    <span class=n>decrypted_data</span> <span class=o>=</span> <span class=n>unpad</span><span class=p>(</span><span class=n>aes_cipher</span><span class=o>.</span><span class=n>decrypt</span><span class=p>(</span><span class=n>encrypted_data</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 33</span><span class=cl>
</span></span><span class=line><span class=ln> 34</span><span class=cl>    <span class=n>tar_buffer</span> <span class=o>=</span> <span class=n>io</span><span class=o>.</span><span class=n>BytesIO</span><span class=p>(</span><span class=n>decrypted_data</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 35</span><span class=cl>    <span class=k>with</span> <span class=n>tarfile</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>fileobj</span><span class=o>=</span><span class=n>tar_buffer</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&#34;r:xz&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>tar</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 36</span><span class=cl>        <span class=n>tar</span><span class=o>.</span><span class=n>extractall</span><span class=p>(</span><span class=n>output_folder</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 37</span><span class=cl>
</span></span><span class=line><span class=ln> 38</span><span class=cl><span class=k>def</span> <span class=nf>get_prefix</span><span class=p>(</span><span class=n>a</span><span class=p>:</span> <span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 39</span><span class=cl>    <span class=n>base</span> <span class=o>=</span> <span class=n>a</span><span class=o>.</span><span class=n>replace</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\\</span><span class=s2>&#34;</span><span class=p>,</span> <span class=s2>&#34;/&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>rstrip</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;/&#34;</span><span class=p>)[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=ln> 40</span><span class=cl>    <span class=k>return</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>base</span><span class=p>)[</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=ln> 41</span><span class=cl>
</span></span><span class=line><span class=ln> 42</span><span class=cl><span class=k>def</span> <span class=nf>decrypt_bin</span><span class=p>(</span><span class=n>input_bin</span><span class=p>:</span><span class=nb>str</span><span class=p>,</span> <span class=n>private_key</span><span class=o>=</span><span class=s1>&#39;private.pem&#39;</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 43</span><span class=cl>    <span class=n>output_dir</span> <span class=o>=</span> <span class=n>get_prefix</span><span class=p>(</span><span class=n>input_bin</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 44</span><span class=cl>    <span class=n>decrypt_file</span><span class=p>(</span><span class=n>input_bin</span><span class=p>,</span> <span class=n>output_dir</span><span class=p>,</span> <span class=n>private_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 45</span><span class=cl>
</span></span><span class=line><span class=ln> 46</span><span class=cl><span class=k>def</span> <span class=nf>zip_folder</span><span class=p>(</span><span class=n>folder_path</span><span class=p>,</span> <span class=n>zip_path</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 47</span><span class=cl>    <span class=k>with</span> <span class=n>zipfile</span><span class=o>.</span><span class=n>ZipFile</span><span class=p>(</span><span class=n>zip_path</span><span class=p>,</span> <span class=s1>&#39;w&#39;</span><span class=p>,</span> <span class=n>zipfile</span><span class=o>.</span><span class=n>ZIP_DEFLATED</span><span class=p>)</span> <span class=k>as</span> <span class=n>zipf</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 48</span><span class=cl>        <span class=k>for</span> <span class=n>root</span><span class=p>,</span> <span class=n>_</span><span class=p>,</span> <span class=n>files</span> <span class=ow>in</span> <span class=n>os</span><span class=o>.</span><span class=n>walk</span><span class=p>(</span><span class=n>folder_path</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 49</span><span class=cl>            <span class=k>for</span> <span class=n>file</span> <span class=ow>in</span> <span class=n>files</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 50</span><span class=cl>                <span class=n>full_path</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>root</span><span class=p>,</span> <span class=n>file</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 51</span><span class=cl>                <span class=n>arcname</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>relpath</span><span class=p>(</span><span class=n>full_path</span><span class=p>,</span> <span class=n>folder_path</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 52</span><span class=cl>                <span class=n>zipf</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>full_path</span><span class=p>,</span> <span class=n>arcname</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 53</span><span class=cl>
</span></span><span class=line><span class=ln> 54</span><span class=cl><span class=k>def</span> <span class=nf>pad</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 55</span><span class=cl>    <span class=n>pad_len</span> <span class=o>=</span> <span class=mi>16</span> <span class=o>-</span> <span class=nb>len</span><span class=p>(</span><span class=n>data</span><span class=p>)</span> <span class=o>%</span> <span class=mi>16</span>
</span></span><span class=line><span class=ln> 56</span><span class=cl>    <span class=k>return</span> <span class=n>data</span> <span class=o>+</span> <span class=nb>bytes</span><span class=p>([</span><span class=n>pad_len</span><span class=p>]</span> <span class=o>*</span> <span class=n>pad_len</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 57</span><span class=cl>
</span></span><span class=line><span class=ln> 58</span><span class=cl><span class=k>def</span> <span class=nf>encrypt_data_and_write</span><span class=p>(</span><span class=n>data</span><span class=p>:</span> <span class=nb>bytes</span><span class=p>,</span> <span class=n>output_file</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>public_key_file</span><span class=p>:</span> <span class=nb>str</span><span class=p>,</span> <span class=n>aes_key_len</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>32</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 59</span><span class=cl>    <span class=k>if</span> <span class=n>aes_key_len</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>(</span><span class=mi>16</span><span class=p>,</span> <span class=mi>24</span><span class=p>,</span> <span class=mi>32</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 60</span><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;AES key length must be 16, 24, or 32 bytes&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 61</span><span class=cl>
</span></span><span class=line><span class=ln> 62</span><span class=cl>    <span class=n>rsa_key</span> <span class=o>=</span> <span class=n>RSA</span><span class=o>.</span><span class=n>import_key</span><span class=p>(</span><span class=nb>open</span><span class=p>(</span><span class=n>public_key_file</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span><span class=p>())</span>
</span></span><span class=line><span class=ln> 63</span><span class=cl>    <span class=n>rsa_cipher</span> <span class=o>=</span> <span class=n>PKCS1_OAEP</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=n>rsa_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 64</span><span class=cl>
</span></span><span class=line><span class=ln> 65</span><span class=cl>    <span class=n>aes_key</span> <span class=o>=</span> <span class=n>get_random_bytes</span><span class=p>(</span><span class=n>aes_key_len</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 66</span><span class=cl>    <span class=n>iv</span> <span class=o>=</span> <span class=n>get_random_bytes</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 67</span><span class=cl>
</span></span><span class=line><span class=ln> 68</span><span class=cl>    <span class=n>encrypted_key</span> <span class=o>=</span> <span class=n>rsa_cipher</span><span class=o>.</span><span class=n>encrypt</span><span class=p>(</span><span class=n>aes_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 69</span><span class=cl>    <span class=n>cipher</span> <span class=o>=</span> <span class=n>AES</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=n>aes_key</span><span class=p>,</span> <span class=n>AES</span><span class=o>.</span><span class=n>MODE_CBC</span><span class=p>,</span> <span class=n>iv</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 70</span><span class=cl>    <span class=n>encrypted_data</span> <span class=o>=</span> <span class=n>cipher</span><span class=o>.</span><span class=n>encrypt</span><span class=p>(</span><span class=n>pad</span><span class=p>(</span><span class=n>data</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 71</span><span class=cl>
</span></span><span class=line><span class=ln> 72</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>output_file</span><span class=p>,</span> <span class=s1>&#39;wb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 73</span><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>encrypted_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 74</span><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>iv</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 75</span><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>encrypted_data</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 76</span><span class=cl>
</span></span><span class=line><span class=ln> 77</span><span class=cl><span class=k>def</span> <span class=nf>encrypt_bin</span><span class=p>(</span><span class=n>input_dir</span><span class=p>:</span><span class=nb>str</span><span class=p>,</span> <span class=n>public_key</span><span class=o>=</span><span class=s1>&#39;public.pem&#39;</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 78</span><span class=cl>    <span class=n>output_bin</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>get_prefix</span><span class=p>(</span><span class=n>input_dir</span><span class=p>)</span><span class=si>}</span><span class=s1>.bin&#39;</span>
</span></span><span class=line><span class=ln> 79</span><span class=cl>    <span class=n>buf</span> <span class=o>=</span> <span class=n>io</span><span class=o>.</span><span class=n>BytesIO</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 80</span><span class=cl>    <span class=k>with</span> <span class=n>tarfile</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>fileobj</span><span class=o>=</span><span class=n>buf</span><span class=p>,</span> <span class=n>mode</span><span class=o>=</span><span class=s2>&#34;w:xz&#34;</span><span class=p>,</span> <span class=n>preset</span><span class=o>=</span><span class=mi>9</span><span class=p>)</span> <span class=k>as</span> <span class=n>tar</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 81</span><span class=cl>        <span class=n>tar</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>input_dir</span><span class=p>,</span> <span class=n>arcname</span><span class=o>=</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>basename</span><span class=p>(</span><span class=n>input_dir</span><span class=p>))</span>
</span></span><span class=line><span class=ln> 82</span><span class=cl>    <span class=n>encrypt_data_and_write</span><span class=p>(</span><span class=n>buf</span><span class=o>.</span><span class=n>getvalue</span><span class=p>(),</span> <span class=n>output_bin</span><span class=p>,</span> <span class=n>public_key</span><span class=p>,</span> <span class=n>aes_key_len</span><span class=o>=</span><span class=mi>32</span><span class=p>)</span>  <span class=c1># AES-256</span>
</span></span><span class=line><span class=ln> 83</span><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>output_bin</span><span class=si>}</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=ln> 84</span><span class=cl>
</span></span><span class=line><span class=ln> 85</span><span class=cl><span class=k>def</span> <span class=nf>unpad</span><span class=p>(</span><span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 86</span><span class=cl>    <span class=n>pad_len</span> <span class=o>=</span> <span class=n>data</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=ln> 87</span><span class=cl>    <span class=k>return</span> <span class=n>data</span><span class=p>[:</span><span class=o>-</span><span class=n>pad_len</span><span class=p>]</span>
</span></span><span class=line><span class=ln> 88</span><span class=cl>
</span></span><span class=line><span class=ln> 89</span><span class=cl><span class=k>def</span> <span class=nf>extract_data_from_image</span><span class=p>(</span><span class=n>stego_path</span><span class=p>,</span> <span class=n>output_bin_path</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>payload_len</span><span class=p>):</span>
</span></span><span class=line><span class=ln> 90</span><span class=cl>    <span class=n>img</span> <span class=o>=</span> <span class=n>Image</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>stego_path</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s2>&#34;RGB&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln> 91</span><span class=cl>    <span class=n>pixels</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>img</span><span class=o>.</span><span class=n>getdata</span><span class=p>())</span>
</span></span><span class=line><span class=ln> 92</span><span class=cl>
</span></span><span class=line><span class=ln> 93</span><span class=cl>    <span class=n>bit_idx</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=ln> 94</span><span class=cl>    <span class=n>byte</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=ln> 95</span><span class=cl>    <span class=n>data_bytes</span> <span class=o>=</span> <span class=nb>bytearray</span><span class=p>()</span>
</span></span><span class=line><span class=ln> 96</span><span class=cl>    <span class=k>for</span> <span class=n>pixel</span> <span class=ow>in</span> <span class=n>pixels</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 97</span><span class=cl>        <span class=k>for</span> <span class=n>color</span> <span class=ow>in</span> <span class=n>pixel</span><span class=p>:</span>
</span></span><span class=line><span class=ln> 98</span><span class=cl>            <span class=n>bit</span> <span class=o>=</span> <span class=n>color</span> <span class=o>&amp;</span> <span class=mi>1</span>
</span></span><span class=line><span class=ln> 99</span><span class=cl>            <span class=n>byte</span> <span class=o>=</span> <span class=p>(</span><span class=n>byte</span> <span class=o>&lt;&lt;</span> <span class=mi>1</span><span class=p>)</span> <span class=o>|</span> <span class=n>bit</span>
</span></span><span class=line><span class=ln>100</span><span class=cl>            <span class=n>bit_idx</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=ln>101</span><span class=cl>            <span class=k>if</span> <span class=n>bit_idx</span> <span class=o>==</span> <span class=mi>8</span><span class=p>:</span>
</span></span><span class=line><span class=ln>102</span><span class=cl>                <span class=n>data_bytes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>byte</span><span class=p>)</span>
</span></span><span class=line><span class=ln>103</span><span class=cl>                <span class=n>byte</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=ln>104</span><span class=cl>                <span class=n>bit_idx</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=ln>105</span><span class=cl>            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>data_bytes</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>payload_len</span><span class=p>:</span>
</span></span><span class=line><span class=ln>106</span><span class=cl>                <span class=k>break</span>
</span></span><span class=line><span class=ln>107</span><span class=cl>        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>data_bytes</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>payload_len</span><span class=p>:</span>
</span></span><span class=line><span class=ln>108</span><span class=cl>            <span class=k>break</span>
</span></span><span class=line><span class=ln>109</span><span class=cl>
</span></span><span class=line><span class=ln>110</span><span class=cl>    <span class=n>iv</span> <span class=o>=</span> <span class=n>data_bytes</span><span class=p>[:</span><span class=mi>16</span><span class=p>]</span>
</span></span><span class=line><span class=ln>111</span><span class=cl>    <span class=n>encrypted</span> <span class=o>=</span> <span class=n>data_bytes</span><span class=p>[</span><span class=mi>16</span><span class=p>:]</span>
</span></span><span class=line><span class=ln>112</span><span class=cl>
</span></span><span class=line><span class=ln>113</span><span class=cl>    <span class=n>cipher</span> <span class=o>=</span> <span class=n>AES</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>AES</span><span class=o>.</span><span class=n>MODE_CBC</span><span class=p>,</span> <span class=n>iv</span><span class=p>)</span>
</span></span><span class=line><span class=ln>114</span><span class=cl>    <span class=n>decrypted</span> <span class=o>=</span> <span class=n>unpad</span><span class=p>(</span><span class=n>cipher</span><span class=o>.</span><span class=n>decrypt</span><span class=p>(</span><span class=n>encrypted</span><span class=p>))</span>
</span></span><span class=line><span class=ln>115</span><span class=cl>
</span></span><span class=line><span class=ln>116</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>output_bin_path</span><span class=p>,</span> <span class=s1>&#39;wb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln>117</span><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>decrypted</span><span class=p>)</span>
</span></span><span class=line><span class=ln>118</span><span class=cl>
</span></span><span class=line><span class=ln>119</span><span class=cl><span class=k>def</span> <span class=nf>decrypt_png</span><span class=p>(</span><span class=n>png_key_dlen_str</span><span class=p>:</span><span class=nb>str</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
</span></span><span class=line><span class=ln>120</span><span class=cl>    <span class=n>input_png</span><span class=p>,</span> <span class=n>key_hex</span><span class=p>,</span> <span class=n>dlen_str</span> <span class=o>=</span> <span class=n>png_key_dlen_str</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&#34;:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>121</span><span class=cl>    <span class=n>output_bin</span> <span class=o>=</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>get_prefix</span><span class=p>(</span><span class=n>input_png</span><span class=p>)</span><span class=si>}</span><span class=s1>.bin&#39;</span>
</span></span><span class=line><span class=ln>122</span><span class=cl>    <span class=n>extract_data_from_image</span><span class=p>(</span><span class=n>input_png</span><span class=p>,</span> <span class=n>output_bin</span><span class=p>,</span> <span class=nb>bytes</span><span class=o>.</span><span class=n>fromhex</span><span class=p>(</span><span class=n>key_hex</span><span class=p>),</span> <span class=nb>int</span><span class=p>(</span><span class=n>dlen_str</span><span class=p>))</span>
</span></span><span class=line><span class=ln>123</span><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>output_bin</span><span class=si>}</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=ln>124</span><span class=cl>
</span></span><span class=line><span class=ln>125</span><span class=cl><span class=k>def</span> <span class=nf>encrypt_data</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>iv</span><span class=p>):</span>
</span></span><span class=line><span class=ln>126</span><span class=cl>    <span class=n>cipher</span> <span class=o>=</span> <span class=n>AES</span><span class=o>.</span><span class=n>new</span><span class=p>(</span><span class=n>key</span><span class=p>,</span> <span class=n>AES</span><span class=o>.</span><span class=n>MODE_CBC</span><span class=p>,</span> <span class=n>iv</span><span class=p>)</span>
</span></span><span class=line><span class=ln>127</span><span class=cl>    <span class=k>return</span> <span class=n>cipher</span><span class=o>.</span><span class=n>encrypt</span><span class=p>(</span><span class=n>pad</span><span class=p>(</span><span class=n>data</span><span class=p>))</span>
</span></span><span class=line><span class=ln>128</span><span class=cl>
</span></span><span class=line><span class=ln>129</span><span class=cl><span class=k>def</span> <span class=nf>embed_data_to_image</span><span class=p>(</span><span class=n>image_path</span><span class=p>,</span> <span class=n>bin_path</span><span class=p>,</span> <span class=n>output_path</span><span class=p>,</span> <span class=n>key</span><span class=p>):</span>
</span></span><span class=line><span class=ln>130</span><span class=cl>    <span class=n>iv</span> <span class=o>=</span> <span class=n>get_random_bytes</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span>
</span></span><span class=line><span class=ln>131</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=n>bin_path</span><span class=p>,</span> <span class=s1>&#39;rb&#39;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln>132</span><span class=cl>        <span class=n>data</span> <span class=o>=</span> <span class=n>f</span><span class=o>.</span><span class=n>read</span><span class=p>()</span>
</span></span><span class=line><span class=ln>133</span><span class=cl>    <span class=n>encrypted</span> <span class=o>=</span> <span class=n>encrypt_data</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>key</span><span class=p>,</span> <span class=n>iv</span><span class=p>)</span>
</span></span><span class=line><span class=ln>134</span><span class=cl>    <span class=n>payload</span> <span class=o>=</span> <span class=n>iv</span> <span class=o>+</span> <span class=n>encrypted</span>
</span></span><span class=line><span class=ln>135</span><span class=cl>
</span></span><span class=line><span class=ln>136</span><span class=cl>    <span class=n>img</span> <span class=o>=</span> <span class=n>Image</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=n>image_path</span><span class=p>)</span><span class=o>.</span><span class=n>convert</span><span class=p>(</span><span class=s2>&#34;RGB&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>137</span><span class=cl>    <span class=n>pixels</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=n>img</span><span class=o>.</span><span class=n>getdata</span><span class=p>())</span>
</span></span><span class=line><span class=ln>138</span><span class=cl>
</span></span><span class=line><span class=ln>139</span><span class=cl>    <span class=n>bits</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>byte</span><span class=si>:</span><span class=s1>08b</span><span class=si>}</span><span class=s1>&#39;</span> <span class=k>for</span> <span class=n>byte</span> <span class=ow>in</span> <span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=ln>140</span><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>bits</span><span class=p>)</span> <span class=o>&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>pixels</span><span class=p>)</span> <span class=o>*</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=ln>141</span><span class=cl>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span><span class=s2>&#34;数据太大，无法嵌入这张图片。&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>142</span><span class=cl>
</span></span><span class=line><span class=ln>143</span><span class=cl>    <span class=n>new_pixels</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=ln>144</span><span class=cl>    <span class=n>bit_idx</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=ln>145</span><span class=cl>    <span class=k>for</span> <span class=n>pixel</span> <span class=ow>in</span> <span class=n>pixels</span><span class=p>:</span>
</span></span><span class=line><span class=ln>146</span><span class=cl>        <span class=n>r</span><span class=p>,</span> <span class=n>g</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>pixel</span>
</span></span><span class=line><span class=ln>147</span><span class=cl>        <span class=k>if</span> <span class=n>bit_idx</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>bits</span><span class=p>):</span>
</span></span><span class=line><span class=ln>148</span><span class=cl>            <span class=n>r</span> <span class=o>=</span> <span class=p>(</span><span class=n>r</span> <span class=o>&amp;</span> <span class=mh>0xFE</span><span class=p>)</span> <span class=o>|</span> <span class=nb>int</span><span class=p>(</span><span class=n>bits</span><span class=p>[</span><span class=n>bit_idx</span><span class=p>])</span>
</span></span><span class=line><span class=ln>149</span><span class=cl>            <span class=n>bit_idx</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=ln>150</span><span class=cl>        <span class=k>if</span> <span class=n>bit_idx</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>bits</span><span class=p>):</span>
</span></span><span class=line><span class=ln>151</span><span class=cl>            <span class=n>g</span> <span class=o>=</span> <span class=p>(</span><span class=n>g</span> <span class=o>&amp;</span> <span class=mh>0xFE</span><span class=p>)</span> <span class=o>|</span> <span class=nb>int</span><span class=p>(</span><span class=n>bits</span><span class=p>[</span><span class=n>bit_idx</span><span class=p>])</span>
</span></span><span class=line><span class=ln>152</span><span class=cl>            <span class=n>bit_idx</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=ln>153</span><span class=cl>        <span class=k>if</span> <span class=n>bit_idx</span> <span class=o>&lt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>bits</span><span class=p>):</span>
</span></span><span class=line><span class=ln>154</span><span class=cl>            <span class=n>b</span> <span class=o>=</span> <span class=p>(</span><span class=n>b</span> <span class=o>&amp;</span> <span class=mh>0xFE</span><span class=p>)</span> <span class=o>|</span> <span class=nb>int</span><span class=p>(</span><span class=n>bits</span><span class=p>[</span><span class=n>bit_idx</span><span class=p>])</span>
</span></span><span class=line><span class=ln>155</span><span class=cl>            <span class=n>bit_idx</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=ln>156</span><span class=cl>        <span class=n>new_pixels</span><span class=o>.</span><span class=n>append</span><span class=p>((</span><span class=n>r</span><span class=p>,</span> <span class=n>g</span><span class=p>,</span> <span class=n>b</span><span class=p>))</span>
</span></span><span class=line><span class=ln>157</span><span class=cl>
</span></span><span class=line><span class=ln>158</span><span class=cl>    <span class=n>img</span><span class=o>.</span><span class=n>putdata</span><span class=p>(</span><span class=n>new_pixels</span><span class=p>)</span>
</span></span><span class=line><span class=ln>159</span><span class=cl>    <span class=n>img</span><span class=o>.</span><span class=n>save</span><span class=p>(</span><span class=n>output_path</span><span class=p>)</span>
</span></span><span class=line><span class=ln>160</span><span class=cl>    <span class=c1># print(f&#34;✅ ：{output_path}&#34;)</span>
</span></span><span class=line><span class=ln>161</span><span class=cl>
</span></span><span class=line><span class=ln>162</span><span class=cl>    <span class=k>return</span> <span class=nb>len</span><span class=p>(</span><span class=n>payload</span><span class=p>)</span>
</span></span><span class=line><span class=ln>163</span><span class=cl>
</span></span><span class=line><span class=ln>164</span><span class=cl><span class=k>def</span> <span class=nf>encrypt_png</span><span class=p>(</span><span class=n>input_png</span><span class=p>:</span><span class=nb>str</span><span class=p>,</span> <span class=n>input_bin</span><span class=p>:</span><span class=nb>str</span><span class=p>,</span> <span class=n>keylen</span><span class=p>:</span><span class=nb>int</span> <span class=o>=</span> <span class=mi>32</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span> <span class=c1>#16-128 24-196 32-256</span>
</span></span><span class=line><span class=ln>165</span><span class=cl>    <span class=n>key</span> <span class=o>=</span> <span class=n>get_random_bytes</span><span class=p>(</span><span class=n>keylen</span><span class=p>)</span>
</span></span><span class=line><span class=ln>166</span><span class=cl>    <span class=n>prefix</span><span class=p>,</span> <span class=n>ext</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>splitext</span><span class=p>(</span><span class=n>input_png</span><span class=p>)</span>
</span></span><span class=line><span class=ln>167</span><span class=cl>    <span class=n>payload_len</span> <span class=o>=</span> <span class=n>embed_data_to_image</span><span class=p>(</span><span class=n>input_png</span><span class=p>,</span> <span class=n>input_bin</span><span class=p>,</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>prefix</span><span class=si>}</span><span class=s1>_new</span><span class=si>{</span><span class=n>ext</span><span class=si>}</span><span class=s1>&#39;</span><span class=p>,</span> <span class=n>key</span><span class=p>)</span>
</span></span><span class=line><span class=ln>168</span><span class=cl>    <span class=k>return</span> <span class=sa>f</span><span class=s1>&#39;</span><span class=si>{</span><span class=n>prefix</span><span class=si>}</span><span class=s1>_new</span><span class=si>{</span><span class=n>ext</span><span class=si>}</span><span class=s1>:</span><span class=si>{</span><span class=n>key</span><span class=o>.</span><span class=n>hex</span><span class=p>()</span><span class=si>}</span><span class=s1>:</span><span class=si>{</span><span class=n>payload_len</span><span class=si>}</span><span class=s1>&#39;</span>
</span></span><span class=line><span class=ln>169</span><span class=cl>
</span></span><span class=line><span class=ln>170</span><span class=cl><span class=k>def</span> <span class=nf>generate</span><span class=p>(</span><span class=nb>len</span><span class=o>=</span><span class=mi>8192</span><span class=p>):</span>
</span></span><span class=line><span class=ln>171</span><span class=cl>    <span class=n>key</span> <span class=o>=</span> <span class=n>RSA</span><span class=o>.</span><span class=n>generate</span><span class=p>(</span><span class=nb>len</span><span class=p>)</span>
</span></span><span class=line><span class=ln>172</span><span class=cl>    <span class=n>private_key</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=n>export_key</span><span class=p>()</span>
</span></span><span class=line><span class=ln>173</span><span class=cl>    <span class=n>public_key</span> <span class=o>=</span> <span class=n>key</span><span class=o>.</span><span class=n>publickey</span><span class=p>()</span><span class=o>.</span><span class=n>export_key</span><span class=p>()</span>
</span></span><span class=line><span class=ln>174</span><span class=cl>
</span></span><span class=line><span class=ln>175</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;private.pem&#34;</span><span class=p>,</span> <span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln>176</span><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>private_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln>177</span><span class=cl>
</span></span><span class=line><span class=ln>178</span><span class=cl>    <span class=k>with</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;public.pem&#34;</span><span class=p>,</span> <span class=s2>&#34;wb&#34;</span><span class=p>)</span> <span class=k>as</span> <span class=n>f</span><span class=p>:</span>
</span></span><span class=line><span class=ln>179</span><span class=cl>        <span class=n>f</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=n>public_key</span><span class=p>)</span>
</span></span><span class=line><span class=ln>180</span><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;🔑 密钥对已生成：private.pem / public.pem&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=ln>181</span><span class=cl>
</span></span><span class=line><span class=ln>182</span><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=ln>183</span><span class=cl>    <span class=nb>print</span><span class=p>()</span>
</span></span><span class=line><span class=ln>184</span><span class=cl>    <span class=c1># generate()</span>
</span></span><span class=line><span class=ln>185</span><span class=cl>    <span class=c1># decrypt_bin(decrypt_png(encrypt_png(&#39;t.png&#39;, encrypt_bin(&#39;a&#39;))))</span>
</span></span><span class=line><span class=ln>186</span><span class=cl>
</span></span><span class=line><span class=ln>187</span><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=ln>188</span><span class=cl>    <span class=n>os</span><span class=o>.</span><span class=n>chdir</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>dirname</span><span class=p>(</span><span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=vm>__file__</span><span class=p>))))</span>
</span></span><span class=line><span class=ln>189</span><span class=cl>    <span class=n>main</span><span class=p>()</span></span></span></code></pre></div><h3 id=青龙 data-numberify>青龙<a class="anchor ms-1" href=#青龙></a></h3><p><a href=https://github.com/shufflewzc/faker2 target=_blank rel="noopener noreferrer">faker2<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/6dylan6/jdpro target=_blank rel="noopener noreferrer">jdpro<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=android data-numberify>android<a class="anchor ms-1" href=#android></a></h3><p>auto.js Android System WebView</p><p>包名查看器 <a href=https://www.coolapk.com/apk/com.csdroid.pkg target=_blank rel="noopener noreferrer">https://www.coolapk.com/apk/com.csdroid.pkg<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p>反编译: <a href=https://github.com/skylot/jadx target=_blank rel="noopener noreferrer">jadx<i class="fas fa-external-link-square-alt ms-1"></i></a><br>log查看:</p><ul><li><a href=https://github.com/cdcsgit/lognote target=_blank rel="noopener noreferrer">lognote<i class="fas fa-external-link-square-alt ms-1"></i></a></li><li><a href=https://github.com/Gegenbauer/CatSpy target=_blank rel="noopener noreferrer">CatSpy<i class="fas fa-external-link-square-alt ms-1"></i></a></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bat data-lang=bat><span class=line><span class=ln>1</span><span class=cl><span class=k>set</span> <span class=nv>path</span><span class=p>=</span>C:\Android\openjdk\jdk-17.0.8.101-hotspot\bin;<span class=nv>%path%</span>
</span></span><span class=line><span class=ln>2</span><span class=cl>java -jar CatSpy.jar</span></span></code></pre></div><h3 id=可启动u盘 data-numberify>可启动U盘<a class="anchor ms-1" href=#可启动u盘></a></h3><p>可启动U盘: <a href=https://github.com/ventoy/Ventoy target=_blank rel="noopener noreferrer">Ventoy<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h2 id=github仓库 data-numberify>github仓库<a class="anchor ms-1" href=#github仓库></a></h2><p>垃圾站点过滤：<a href=https://github.com/obgnail/chinese-internet-is-dead target=_blank rel="noopener noreferrer">chinese-internet-is-dead<i class="fas fa-external-link-square-alt ms-1"></i></a><br>一些技术pdf：<a href=https://github.com/p-moon/develop-reference-data.git target=_blank rel="noopener noreferrer">develop-reference-data<i class="fas fa-external-link-square-alt ms-1"></i></a><br>freertos源码：<a href=https://github.com/JingLuozz/FreeRTOS_Template.git target=_blank rel="noopener noreferrer">FreeRTOS_Template<i class="fas fa-external-link-square-alt ms-1"></i></a><br>小程序反汇编：<a href=https://github.com/wux1an/wxapkg target=_blank rel="noopener noreferrer">wxapkg<i class="fas fa-external-link-square-alt ms-1"></i></a><br>PDF编辑工具：<a href=https://github.com/Stirling-Tools/Stirling-PDF target=_blank rel="noopener noreferrer">Stirling-PDF<i class="fas fa-external-link-square-alt ms-1"></i></a><br>OCR通用验证码离线本地识别：<a href=https://github.com/sml2h3/ddddocr target=_blank rel="noopener noreferrer">ddddocr<i class="fas fa-external-link-square-alt ms-1"></i></a><br>通用的Ｃ基础库：<a href=https://github.com/gozfree/gear-lib/tree/master target=_blank rel="noopener noreferrer">gear-lib<i class="fas fa-external-link-square-alt ms-1"></i></a><br>Autosar配置界面：<a href=https://github.com/DD-Silence/Autosar-Configurator target=_blank rel="noopener noreferrer">Autosar-Configurator<i class="fas fa-external-link-square-alt ms-1"></i></a><br>校园二手商城微信小程序云开发：<a href=https://github.com/Taoshaoji/used-book-secondhand target=_blank rel="noopener noreferrer">used-book-secondhand<i class="fas fa-external-link-square-alt ms-1"></i></a><br>开源网络流量监控工具：<a href=https://github.com/GyulyVGC/sniffnet target=_blank rel="noopener noreferrer">sniffnet<i class="fas fa-external-link-square-alt ms-1"></i></a><br>防多次错误认证：<a href=https://github.com/fail2ban/fail2ban target=_blank rel="noopener noreferrer">fail2ban<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/ohmyzsh/ohmyzsh target=_blank rel="noopener noreferrer">ohmyzsh<i class="fas fa-external-link-square-alt ms-1"></i></a><br>文件类型识别：<a href=https://github.com/horsicq/Detect-It-Easy target=_blank rel="noopener noreferrer">Detect-It-Easy<i class="fas fa-external-link-square-alt ms-1"></i></a><br>CPU监测：<a href=https://github.com/Kyome22/RunCat365 target=_blank rel="noopener noreferrer">RunCat365<i class="fas fa-external-link-square-alt ms-1"></i></a></p><h3 id=编程相关书籍 data-numberify>编程相关书籍<a class="anchor ms-1" href=#编程相关书籍></a></h3><p><a href=https://ebookfoundation.github.io/free-programming-books/books/free-programming-books-zh.html target=_blank rel="noopener noreferrer">free-programming-books-zh<i class="fas fa-external-link-square-alt ms-1"></i></a><br><a href=https://github.com/p-moon/develop-reference-data target=_blank rel="noopener noreferrer">https://github.com/p-moon/develop-reference-data<i class="fas fa-external-link-square-alt ms-1"></i></a></p><p><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/c66b10f688c1cde280b2633647f9b12e.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=747 height=465>
</picture><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/04e9159f6cfeaf9b62f16070292929eb.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=1073 height=952>
</picture><picture><img class=img-fluid alt src="https://6668688.xyz/docs/images/Doraemon/d10a5593174c1f0e66a2b2e83124d45f.png?v=46be96b638f2cb0faf212000d08adeee" loading=lazy width=1097 height=924></picture></p></div></div></div><div class=card-footer><div class="post-navs d-flex justify-content-evenly"><div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-down post-prev-icon me-1" data-fa-transform=rotate-90></i>
<a href=/docs/misc/>Misc</a></div><div class="post-nav post-next"><a href=/docs/linux/shell/terminalshortcutkeys/>终端快捷键</a>
<i class="fas fa-fw fa-chevron-down post-next-icon ms-1" data-fa-transform=rotate-270></i></div></div></div></article><div class="post-copyright mb-3 row card component" id=post-copyright><div class=card-header><h2 class="card-title fs-4 my-2 text-surface">版权</h2></div><div class=card-body></div></div><div class="card component row post-comments" id=post-comments><div class=card-header><h2 class="card-title my-2 fs-4 text-surface">评论</h2></div><div class=card-body><div class=giscus></div></div></div></div></div><aside class="sidebar d-flex docs-sidebar col-xxl-3 position-sticky order-xxl-5"><div class=container><div class="accordion post-toc d-none d-lg-block"><div class="accordion-item row mb-4 card component" id=postTOC><div class="card-header accordion-header"><h2 class="card-title fs-4 my-2 text-surface d-none d-lg-block">目录</h2><div class="d-none d-lg-flex gap-2 mb-2"><button id=expand-all-btn class="btn btn-sm btn-outline-primary">展开</button>
<button id=collapse-all-btn class="btn btn-sm btn-outline-secondary">折叠</button></div><a class="accordion-button d-lg-none mb-1 collapsed shadow-none p-0 bg-transparent" role=button data-bs-toggle=collapse href=#post-toc aria-expanded=false aria-controls=post-toc>目录</a></div><div class="card-body collapse accordion-collapse accordion-body d-lg-block" id=post-toc><nav id=post-toc-nav class="nav flex-column"><nav id=TableOfContents><ul><li><a href=#shell>shell</a><ul><li><a href=#代理>代理</a></li><li><a href=#文本处理>文本处理</a></li><li><a href=#sed>sed</a></li><li><a href=#echo颜色>echo颜色</a></li><li><a href=#自动补全>自动补全</a></li><li><a href=#添加用户用户组>添加用户/用户组</a></li><li><a href=#挂载网络目录>挂载网络目录</a></li><li><a href=#wget>wget</a></li><li><a href=#gerrit>gerrit</a></li><li><a href=#gerrit-与-jenkins-集成互通>gerrit 与 jenkins 集成互通</a></li><li><a href=#tab-忽略大小写>tab 忽略大小写</a></li><li><a href=#minicom>minicom</a></li><li><a href=#http-server上传下载>http server上传下载</a></li><li><a href=#磁盘性能>磁盘性能</a></li><li><a href=#openssl证书公私钥>openssl证书公私钥</a></li></ul></li><li><a href=#bat>bat</a><ul><li><a href=#设置ip地址>设置ip地址</a></li><li><a href=#bat-计算时分秒>bat 计算时分秒</a></li><li><a href=#计划任务杀掉任务停止服务>计划任务/杀掉任务/停止服务</a></li><li><a href=#win自动上报ip地址>win自动上报ip地址</a></li><li><a href=#普通用户通过管理员提权>普通用户通过管理员提权</a></li><li><a href=#右键打开命令窗口>右键打开命令窗口</a></li><li><a href=#防火墙阻止出入站>防火墙阻止出入站</a></li><li><a href=#获取显示屏尺寸>获取显示屏尺寸</a></li><li><a href=#微信解毒>微信解毒</a></li><li><a href=#循环菜单>循环菜单</a></li></ul></li><li><a href=#正则表达式>正则表达式</a><ul><li><a href=#正则表达式基本点>正则表达式基本点：</a></li></ul></li><li><a href=#cmake>Cmake</a><ul><li><a href=#debug信息>debug信息</a></li><li><a href=#生成中间文件>生成中间文件</a></li></ul></li><li><a href=#git>Git</a><ul><li><a href=#本地仓库同步>本地仓库同步</a></li><li><a href=#git命令自动补全>Git命令自动补全</a></li><li><a href=#gitconfig>.gitconfig</a></li><li><a href=#sshconfig>.ssh/config</a></li><li><a href=#github多用户>github多用户</a></li><li><a href=#github查看仓库大小>github查看仓库大小</a></li><li><a href=#修改分支名>修改分支名</a></li><li><a href=#git-log>git log</a></li></ul></li><li><a href=#vscode>vscode</a><ul><li><a href=#tab四个空格>tab四个空格</a></li><li><a href=#tab与空格相互转换>tab与空格相互转换</a></li><li><a href=#文本换行>文本换行</a></li><li><a href=#代码折叠>代码折叠</a></li><li><a href=#vscode-的-ifdef-区域变灰>VSCode 的 #ifdef 区域变灰</a></li><li><a href=#settingsjson>settings.json</a></li><li><a href=#c_cpp_propertiesjson>c_cpp_properties.json</a></li><li><a href=#tasksjson>tasks.json</a></li><li><a href=#launchjson>launch.json</a></li><li><a href=#服务器连接异常>服务器连接异常</a></li><li><a href=#gtags-查找跳转>gtags 查找跳转</a></li><li><a href=#快捷键>快捷键</a></li><li><a href=#插件同步>插件同步</a></li><li><a href=#连接私钥配置>连接私钥配置</a></li><li><a href=#汇编调试断点>汇编调试断点</a></li><li><a href=#文件窗口查找>文件窗口查找</a></li><li><a href=#面包屑导航>面包屑导航</a></li></ul></li><li><a href=#vim>vim</a><ul><li><a href=#选择复制>选择复制</a></li><li><a href=#插入>插入</a></li></ul></li><li><a href=#docker>docker</a><ul><li><a href=#安装使用>安装使用</a></li><li><a href=#动态添加端口>动态添加端口</a></li></ul></li><li><a href=#ubuntu软件安装>ubuntu软件安装</a><ul><li><a href=#tmux分屏>tmux分屏</a></li><li><a href=#应用修改图标>应用修改图标</a></li><li><a href=#chrome谷歌浏览器>chrome谷歌浏览器</a></li><li><a href=#vscode-1>vscode</a></li><li><a href=#sougou>sougou</a></li><li><a href=#nas挂载>nas挂载</a></li><li><a href=#截图工具>截图工具</a></li><li><a href=#鼠标手势>鼠标手势</a></li><li><a href=#pdf阅读器>pdf阅读器</a></li><li><a href=#gedit自定义快捷键>gedit自定义快捷键</a></li><li><a href=#日历>日历</a></li><li><a href=#触摸板>触摸板</a></li><li><a href=#wine>Wine</a></li><li><a href=#python>python</a></li><li><a href=#pm2>pm2</a></li></ul></li><li><a href=#windows软件配置>windows软件配置</a><ul><li><a href=#chrome浏览器离线安装包>chrome浏览器离线安装包</a></li><li><a href=#mychromeexe>MyChrome.exe</a></li><li><a href=#beyond-compare魔法>Beyond Compare魔法</a></li><li><a href=#关闭自启动>关闭自启动</a></li><li><a href=#关闭windows-defender实时保护>关闭windows defender实时保护</a></li><li><a href=#ssh-server>ssh server</a></li><li><a href=#win获取ip地址>win获取ip地址</a></li><li><a href=#jlink下载>jlink下载</a></li><li><a href=#process-explorer>process-explorer</a></li><li><a href=#pslist>pslist</a></li><li><a href=#handle关联的句柄>Handle关联的句柄</a></li><li><a href=#proxy>proxy</a></li><li><a href=#sumatrapdf>SumatraPDF</a></li><li><a href=#桌面置顶>桌面置顶</a></li><li><a href=#msys2>MSYS2</a></li></ul></li><li><a href=#小工具>小工具</a><ul><li><a href=#工具站点>工具站点</a></li><li><a href=#删除pdf密码>删除Pdf密码</a></li><li><a href=#pdf加书签>PDF加书签</a></li><li><a href=#python加解密>python加解密</a></li><li><a href=#青龙>青龙</a></li><li><a href=#android>android</a></li><li><a href=#可启动u盘>可启动U盘</a></li></ul></li><li><a href=#github仓库>github仓库</a><ul><li><a href=#编程相关书籍>编程相关书籍</a></li></ul></li></ul></nav></nav></div></div></div><script>document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){var t,n=e.querySelector("ul");n&&(t=document.createElement("button"),t.textContent="−",t.className="toc-toggle-btn",t.style.marginRight="6px",t.style.background="transparent",t.style.border="none",t.style.cursor="pointer",t.style.fontWeight="bold",t.style.color="#007bff",t.style.padding="0 4px 0 0",t.onclick=function(){n.style.display==="none"?(n.style.display="block",t.textContent="−"):(n.style.display="none",t.textContent="+")},n.style.display="block",e.insertBefore(t,e.firstChild))});const s=document.getElementById("expand-all-btn"),o=document.getElementById("collapse-all-btn");s.addEventListener("click",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){const t=e.querySelector("ul"),n=e.querySelector("button.toc-toggle-btn");t&&n&&(t.style.display="block",n.textContent="−")})}),o.addEventListener("click",function(){document.querySelectorAll("#post-toc-nav ul li").forEach(function(e){const t=e.querySelector("ul"),n=e.querySelector("button.toc-toggle-btn");t&&n&&(t.style.display="none",n.textContent="+")})});const t=document.querySelectorAll("#post-toc-nav a"),e=[];t.forEach(t=>{const n=t.getAttribute("href");if(n&&n.startsWith("#")){const s=document.getElementById(n.slice(1));s&&e.push({link:t,target:s})}});function n(){let s=window.scrollY||window.pageYOffset;s+=100;let n=null;for(let t=0;t<e.length;t++){const{link:o,target:i}=e[t];if(i.offsetTop<=s)n=o;else break}t.forEach(e=>e.classList.remove("active")),n&&(n.classList.add("active"),n.scrollIntoView({block:"nearest",inline:"nearest"}))}window.addEventListener("scroll",n),n();function i(){function e(t,n=""){let s=1;t.querySelectorAll(":scope > li").forEach(t=>{const o=t.querySelector(":scope > a"),i=n?`${n}.${s}`:`${s}`;if(o){const e=o.textContent.trim();o.textContent=`${i}. ${e}`}const a=t.querySelector(":scope > ul");a&&e(a,i),s++})}const t=document.querySelector("#TableOfContents > ul");t&&e(t)}})</script><style>#post-toc-nav a.active{font-weight:700;color:#856404;background-color:#fff3cd}.toc-toggle-btn{background:0 0;border:none;padding:0 6px 0 0}</style></div></aside></div></main><footer class="footer mt-auto py-3 text-center container"><div class="offcanvas offcanvas-bottom h-auto" tabindex=-1 id=offcanvasActionsPanel aria-labelledby=offcanvasActionsPanelLabel><div class=offcanvas-header><div class="offcanvas-title h5" id=offcanvasActionsPanelLabel><i class="fas fa-fw fa-th-large me-1"></i>
操作</div><button type=button class="btn-close ms-auto" data-bs-dismiss=offcanvas data-bs-target=offcanvasActionsPanel aria-label=Close></button></div><div class="offcanvas-body mt-2"><div class="social-share mb-4 d-flex overflow-auto"><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="X Share Button" target=_blank href="https://x.com/intent/tweet?title=%e6%87%92%e4%ba%ba%e6%8a%80%e6%9c%af%e6%89%8b%e5%86%8c&url=https%3a%2f%2f6668688.xyz%2fdocs%2fdoraemon%2f"><i class="fab fa-2x fa-fw fa-x-twitter mb-2"></i> X
</a><a class="btn-social-share d-flex flex-column align-items-center me-3" rel="noopener noreferrer" aria-label="Facebook Share Button" target=_blank href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2f6668688.xyz%2fdocs%2fdoraemon%2f"><i class="fab fa-2x fa-fw fa-facebook-f mb-2"></i> Facebook</a></div><hr class=mb-4><div class="actions d-flex overflow-auto align-items-center"><a role=button class="action action-go-back d-flex flex-column align-items-center me-3" href="javascript: window.history.back();"><span class="action-icon mb-2"><i class="fas fa-2x fa-chevron-circle-down" data-fa-transform=rotate-90></i></span> 返回
</a><a role=button class="action action-reload-page d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-redo-alt"></i></span> 刷新
</a><a role=button class="action action-copy-url d-flex flex-column align-items-center me-3"><span class="action-icon mb-2"><i class="fas fa-2x fa-link"></i></span> 复制链接</a></div></div></div><div class="row text-center"><div class="col-12 mt-2"><p class=mb-2></p><p class="text-secondary mb-2"><small></small></p><div class="copyright mb-2 text-secondary"><small>Copyright © 2025-2025 zcsaoe. All Rights Reserved.</small></div><div class="powered-by mb-2 text-secondary"><small></small></div><nav class="social-links nav justify-content-center mb-2 mt-3"><a class="nav-link social-link p-0 me-1 mb-2" href=mailto:appleeeeo@protonmail.com title=电子邮箱><i class="fas fa-fw fa-2x fa-envelope" style=color:#0963ac></i>
</a><a class="nav-link social-link p-0 me-1 mb-2" target=_blank href=https://github.com/zcsaoe title=GitHub rel=me><i class="fa-fw fa-2x fab fa-github"></i></a></nav></div><div class="col-12 col-lg-8 offset-0 offset-lg-1"></div></div></footer><script src=/js/plantuml-init.js></script><script data-precache src=/assets/main/bundle.min.308b9e94cdf6f582d972dced59d1ae76c2f26d6c0bc4f02dfa8f9cbcc182cd33.js integrity="sha256-MIuelM329YLZctztWdGudsLybWwLxPAt+o+cvMGCzTM=" crossorigin=anonymous async></script><script data-precache src=/assets/icons/bundle.min.c97d69b111f6a09609591bb9a37c799bba2cae89ca786b5729e53ce6113cb90c.js integrity="sha256-yX1psRH2oJYJWRu5o3x5m7osronKeGtXKeU85hE8uQw=" crossorigin=anonymous defer></script><script data-precache src=/assets/viewer/bundle.min.945567884be417f2aa4a3f7fb0171fc00a214c3c63dd586d110fc7b77d4d6077.js integrity="sha256-lFVniEvkF/KqSj9/sBcfwAohTDxj3VhtEQ/Ht31NYHc=" crossorigin=anonymous defer></script><script src=/js/sw-register.js defer></script><script src=https://giscus.app/client.js data-repo=zcsaoe/zcsaoe.github.io data-repo-id=R_kgDOPDagAg data-category=General data-category-id=DIC_kwDOPDagAs4CsLxl data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous defer></script></body></html>